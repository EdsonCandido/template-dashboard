import{r as f}from"./react-DvpkfkhJ.js";function c(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function s(n,e){var r=f.useState(function(){return{value:n,callback:e,facade:{get current(){return r.value},set current(t){var u=r.value;u!==t&&(r.value=t,r.callback(t,u))}}}})[0];return r.callback=e,r.facade}var v=typeof window<"u"?f.useLayoutEffect:f.useEffect,i=new WeakMap;function b(n,e){var r=s(e||null,function(t){return n.forEach(function(u){return c(u,t)})});return v(function(){var t=i.get(r);if(t){var u=new Set(t),o=new Set(n),l=r.current;u.forEach(function(a){o.has(a)||c(a,null)}),o.forEach(function(a){u.has(a)||c(a,l)})}i.set(r,n)},[n]),r}export{b as u};
