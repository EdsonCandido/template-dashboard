/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},H.apply(this,arguments)}var N;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(N||(N={}));const jt="popstate";function ya(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:r,v5Compat:a=!1}=e,i;i=t.map((m,P)=>y(m,typeof m=="string"?null:m.state,P===0?"default":void 0));let s=u(r??i.length-1),l=N.Pop,f=null;function u(m){return Math.min(Math.max(m,0),i.length-1)}function p(){return i[s]}function y(m,P,x){P===void 0&&(P=null);let M=Ee(i?p().pathname:"/",m,P,x);return ye(M.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(m)),M}function g(m){return typeof m=="string"?m:Pe(m)}return{get index(){return s},get action(){return l},get location(){return p()},createHref:g,createURL(m){return new URL(g(m),"http://localhost")},encodeLocation(m){let P=typeof m=="string"?fe(m):m;return{pathname:P.pathname||"",search:P.search||"",hash:P.hash||""}},push(m,P){l=N.Push;let x=y(m,P);s+=1,i.splice(s,i.length,x),a&&f&&f({action:l,location:x,delta:1})},replace(m,P){l=N.Replace;let x=y(m,P);i[s]=x,a&&f&&f({action:l,location:x,delta:0})},go(m){l=N.Pop;let P=u(s+m),x=i[P];s=P,f&&f({action:l,location:x,delta:m})},listen(m){return f=m,()=>{f=null}}}}function ga(e){e===void 0&&(e={});function t(a,i){let{pathname:s,search:l,hash:f}=a.location;return Ee("",{pathname:s,search:l,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:Pe(i)}return Jt(t,r,null,e)}function va(e){e===void 0&&(e={});function t(i,s){let{pathname:l="/",search:f="",hash:u=""}=fe(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ee("",{pathname:l,search:f,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(i,s){let l=i.document.querySelector("base"),f="";if(l&&l.getAttribute("href")){let u=i.location.href,p=u.indexOf("#");f=p===-1?u:u.slice(0,p)}return f+"#"+(typeof s=="string"?s:Pe(s))}function a(i,s){ye(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Jt(t,r,a,e)}function _(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ye(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dr(){return Math.random().toString(36).substr(2,8)}function Ft(e,t){return{usr:e.state,key:e.key,idx:t}}function Ee(e,t,r,a){return r===void 0&&(r=null),H({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fe(t):t,{state:r,key:t&&t.key||a||Dr()})}function Pe(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function fe(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function Jt(e,t,r,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:s=!1}=a,l=i.history,f=N.Pop,u=null,p=y();p==null&&(p=0,l.replaceState(H({},l.state,{idx:p}),""));function y(){return(l.state||{idx:null}).idx}function g(){f=N.Pop;let M=y(),z=M==null?null:M-p;p=M,u&&u({action:f,location:x.location,delta:z})}function R(M,z){f=N.Push;let T=Ee(x.location,M,z);r&&r(T,M),p=y()+1;let re=Ft(T,p),$=x.createHref(T);try{l.pushState(re,"",$)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;i.location.assign($)}s&&u&&u({action:f,location:x.location,delta:1})}function m(M,z){f=N.Replace;let T=Ee(x.location,M,z);r&&r(T,M),p=y();let re=Ft(T,p),$=x.createHref(T);l.replaceState(re,"",$),s&&u&&u({action:f,location:x.location,delta:0})}function P(M){let z=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof M=="string"?M:Pe(M);return T=T.replace(/ $/,"%20"),_(z,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,z)}let x={get action(){return f},get location(){return e(i,l)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(jt,g),u=M,()=>{i.removeEventListener(jt,g),u=null}},createHref(M){return t(i,M)},createURL:P,encodeLocation(M){let z=P(M);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:R,replace:m,go(M){return l.go(M)}};return x}var U;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U||(U={}));const Rr=new Set(["lazy","caseSensitive","path","id","index","children"]);function Sr(e){return e.index===!0}function rt(e,t,r,a){return r===void 0&&(r=[]),a===void 0&&(a={}),e.map((i,s)=>{let l=[...r,String(s)],f=typeof i.id=="string"?i.id:l.join("-");if(_(i.index!==!0||!i.children,"Cannot specify children on an index route"),_(!a[f],'Found a route id collision on id "'+f+`".  Route id's must be globally unique within Data Router usages`),Sr(i)){let u=H({},i,t(i),{id:f});return a[f]=u,u}else{let u=H({},i,t(i),{id:f,children:void 0});return a[f]=u,i.children&&(u.children=rt(i.children,t,l,a)),u}})}function Oe(e,t,r){return r===void 0&&(r="/"),tt(e,t,r,!1)}function tt(e,t,r,a){let i=typeof t=="string"?fe(t):t,s=at(i.pathname||"/",r);if(s==null)return null;let l=Xt(e);Pr(l);let f=null;for(let u=0;f==null&&u<l.length;++u){let p=Ir(s);f=Ur(l[u],p,a)}return f}function Er(e,t){let{route:r,pathname:a,params:i}=e;return{id:r.id,pathname:a,params:i,data:t[r.id],handle:r.handle}}function Xt(e,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let i=(s,l,f)=>{let u={relativePath:f===void 0?s.path||"":f,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(_(u.relativePath.startsWith(a),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(a.length));let p=Ke([a,u.relativePath]),y=r.concat(u);s.children&&s.children.length>0&&(_(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Xt(s.children,t,y,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:Fr(p,s.index),routesMeta:y})};return e.forEach((s,l)=>{var f;if(s.path===""||!((f=s.path)!=null&&f.includes("?")))i(s,l);else for(let u of Gt(s.path))i(s,l,u)}),t}function Gt(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(a.length===0)return i?[s,""]:[s];let l=Gt(a.join("/")),f=[];return f.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&f.push(...l),f.map(u=>e.startsWith("/")&&u===""?"/":u)}function Pr(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Or(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const xr=/^:[\w-]+$/,Lr=3,Mr=2,Tr=1,Cr=10,jr=-2,Ot=e=>e==="*";function Fr(e,t){let r=e.split("/"),a=r.length;return r.some(Ot)&&(a+=jr),t&&(a+=Mr),r.filter(i=>!Ot(i)).reduce((i,s)=>i+(xr.test(s)?Lr:s===""?Tr:Cr),a)}function Or(e,t){return e.length===t.length&&e.slice(0,-1).every((a,i)=>a===t[i])?e[e.length-1]-t[t.length-1]:0}function Ur(e,t,r){r===void 0&&(r=!1);let{routesMeta:a}=e,i={},s="/",l=[];for(let f=0;f<a.length;++f){let u=a[f],p=f===a.length-1,y=s==="/"?t:t.slice(s.length)||"/",g=Ut({path:u.relativePath,caseSensitive:u.caseSensitive,end:p},y),R=u.route;if(!g&&p&&r&&!a[a.length-1].route.index&&(g=Ut({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},y)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ke([s,g.pathname]),pathnameBase:Br(Ke([s,g.pathnameBase])),route:R}),g.pathnameBase!=="/"&&(s=Ke([s,g.pathnameBase]))}return l}function Ut(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=Ar(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),f=i.slice(1);return{params:a.reduce((p,y,g)=>{let{paramName:R,isOptional:m}=y;if(R==="*"){let x=f[g]||"";l=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const P=f[g];return m&&!P?p[R]=void 0:p[R]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:l,pattern:e}}function Ar(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ye(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,f,u)=>(a.push({paramName:f,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function Ir(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ye(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function at(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function _r(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:i=""}=typeof e=="string"?fe(e):e;return{pathname:r?r.startsWith("/")?r:Hr(r,t):t,search:Wr(a),hash:Kr(i)}}function Hr(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function st(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nr(e,t){let r=Qt(e);return t?r.map((a,i)=>i===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function zr(e,t,r,a){a===void 0&&(a=!1);let i;typeof e=="string"?i=fe(e):(i=H({},e),_(!i.pathname||!i.pathname.includes("?"),st("?","pathname","search",i)),_(!i.pathname||!i.pathname.includes("#"),st("#","pathname","hash",i)),_(!i.search||!i.search.includes("#"),st("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,f;if(l==null)f=r;else{let g=t.length-1;if(!a&&l.startsWith("..")){let R=l.split("/");for(;R[0]==="..";)R.shift(),g-=1;i.pathname=R.join("/")}f=g>=0?t[g]:"/"}let u=_r(i,f),p=l&&l!=="/"&&l.endsWith("/"),y=(s||l===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(p||y)&&(u.pathname+="/"),u}const Ke=e=>e.join("/").replace(/\/\/+/g,"/"),Br=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class wa extends Error{}class ft{constructor(t,r,a,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}}function mt(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Zt=["post","put","patch","delete"],kr=new Set(Zt),$r=["get",...Zt],Vr=new Set($r),Yr=new Set([301,302,303,307,308]),Jr=new Set([307,308]),dt={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ze={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gr=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),qt="remix-router-transitions";function ba(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",a=!r;_(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let n=e.detectErrorBoundary;i=o=>({hasErrorBoundary:n(o)})}else i=Gr;let s={},l=rt(e.routes,i,void 0,s),f,u=e.basename||"/",p=e.dataStrategy||ea,y=e.patchRoutesOnNavigation,g=H({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),R=null,m=new Set,P=null,x=null,M=null,z=e.hydrationData!=null,T=Oe(l,e.history.location,u),re=null;if(T==null&&!y){let n=Q(404,{pathname:e.history.location.pathname}),{matches:o,route:d}=$t(l);T=o,re={[d.id]:n}}T&&!e.hydrationData&&Ge(T,l,e.history.location.pathname).active&&(T=null);let $;if(T)if(T.some(n=>n.route.lazy))$=!1;else if(!T.some(n=>n.route.loader))$=!0;else if(g.v7_partialHydration){let n=e.hydrationData?e.hydrationData.loaderData:null,o=e.hydrationData?e.hydrationData.errors:null;if(o){let d=T.findIndex(h=>o[h.route.id]!==void 0);$=T.slice(0,d+1).every(h=>!ht(h.route,n,o))}else $=T.every(d=>!ht(d.route,n,o))}else $=e.hydrationData!=null;else if($=!1,T=[],g.v7_partialHydration){let n=Ge(null,l,e.history.location.pathname);n.active&&n.matches&&(T=n.matches)}let ae,c={historyAction:e.history.action,location:e.history.location,matches:T,initialized:$,navigation:dt,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||re,fetchers:new Map,blockers:new Map},X=N.Pop,k=!1,A,G=!1,Z=new Map,ie=null,ee=!1,oe=!1,ke=[],$e=new Set,V=new Map,Ve=0,Ue=-1,xe=new Map,le=new Set,Le=new Map,Ae=new Map,se=new Set,ge=new Map,ve=new Map,Ye;function nr(){if(R=e.history.listen(n=>{let{action:o,location:d,delta:h}=n;if(Ye){Ye(),Ye=void 0;return}ye(ve.size===0||h!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let v=Lt({currentLocation:c.location,nextLocation:d,historyAction:o});if(v&&h!=null){let S=new Promise(L=>{Ye=L});e.history.go(h*-1),Xe(v,{state:"blocked",location:d,proceed(){Xe(v,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),S.then(()=>e.history.go(h))},reset(){let L=new Map(c.blockers);L.set(v,ze),J({blockers:L})}});return}return we(o,d)}),r){pa(t,Z);let n=()=>ma(t,Z);t.addEventListener("pagehide",n),ie=()=>t.removeEventListener("pagehide",n)}return c.initialized||we(N.Pop,c.location,{initialHydration:!0}),ae}function ir(){R&&R(),ie&&ie(),m.clear(),A&&A.abort(),c.fetchers.forEach((n,o)=>Je(o)),c.blockers.forEach((n,o)=>xt(o))}function or(n){return m.add(n),()=>m.delete(n)}function J(n,o){o===void 0&&(o={}),c=H({},c,n);let d=[],h=[];g.v7_fetcherPersist&&c.fetchers.forEach((v,S)=>{v.state==="idle"&&(se.has(S)?h.push(S):d.push(S))}),[...m].forEach(v=>v(c,{deletedFetchers:h,viewTransitionOpts:o.viewTransitionOpts,flushSync:o.flushSync===!0})),g.v7_fetcherPersist&&(d.forEach(v=>c.fetchers.delete(v)),h.forEach(v=>Je(v)))}function Me(n,o,d){var h,v;let{flushSync:S}=d===void 0?{}:d,L=c.actionData!=null&&c.navigation.formMethod!=null&&te(c.navigation.formMethod)&&c.navigation.state==="loading"&&((h=n.state)==null?void 0:h._isRedirect)!==!0,b;o.actionData?Object.keys(o.actionData).length>0?b=o.actionData:b=null:L?b=c.actionData:b=null;let D=o.loaderData?Kt(c.loaderData,o.loaderData,o.matches||[],o.errors):c.loaderData,w=c.blockers;w.size>0&&(w=new Map(w),w.forEach((j,Y)=>w.set(Y,ze)));let E=k===!0||c.navigation.formMethod!=null&&te(c.navigation.formMethod)&&((v=n.state)==null?void 0:v._isRedirect)!==!0;f&&(l=f,f=void 0),ee||X===N.Pop||(X===N.Push?e.history.push(n,n.state):X===N.Replace&&e.history.replace(n,n.state));let C;if(X===N.Pop){let j=Z.get(c.location.pathname);j&&j.has(n.pathname)?C={currentLocation:c.location,nextLocation:n}:Z.has(n.pathname)&&(C={currentLocation:n,nextLocation:c.location})}else if(G){let j=Z.get(c.location.pathname);j?j.add(n.pathname):(j=new Set([n.pathname]),Z.set(c.location.pathname,j)),C={currentLocation:c.location,nextLocation:n}}J(H({},o,{actionData:b,loaderData:D,historyAction:X,location:n,initialized:!0,navigation:dt,revalidation:"idle",restoreScrollPosition:Tt(n,o.matches||c.matches),preventScrollReset:E,blockers:w}),{viewTransitionOpts:C,flushSync:S===!0}),X=N.Pop,k=!1,G=!1,ee=!1,oe=!1,ke=[]}async function wt(n,o){if(typeof n=="number"){e.history.go(n);return}let d=ct(c.location,c.matches,u,g.v7_prependBasename,n,g.v7_relativeSplatPath,o==null?void 0:o.fromRouteId,o==null?void 0:o.relative),{path:h,submission:v,error:S}=At(g.v7_normalizeFormMethod,!1,d,o),L=c.location,b=Ee(c.location,h,o&&o.state);b=H({},b,e.history.encodeLocation(b));let D=o&&o.replace!=null?o.replace:void 0,w=N.Push;D===!0?w=N.Replace:D===!1||v!=null&&te(v.formMethod)&&v.formAction===c.location.pathname+c.location.search&&(w=N.Replace);let E=o&&"preventScrollReset"in o?o.preventScrollReset===!0:void 0,C=(o&&o.flushSync)===!0,j=Lt({currentLocation:L,nextLocation:b,historyAction:w});if(j){Xe(j,{state:"blocked",location:b,proceed(){Xe(j,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),wt(n,o)},reset(){let Y=new Map(c.blockers);Y.set(j,ze),J({blockers:Y})}});return}return await we(w,b,{submission:v,pendingError:S,preventScrollReset:E,replace:o&&o.replace,enableViewTransition:o&&o.viewTransition,flushSync:C})}function lr(){if(nt(),J({revalidation:"loading"}),c.navigation.state!=="submitting"){if(c.navigation.state==="idle"){we(c.historyAction,c.location,{startUninterruptedRevalidation:!0});return}we(X||c.historyAction,c.navigation.location,{overrideNavigation:c.navigation,enableViewTransition:G===!0})}}async function we(n,o,d){A&&A.abort(),A=null,X=n,ee=(d&&d.startUninterruptedRevalidation)===!0,gr(c.location,c.matches),k=(d&&d.preventScrollReset)===!0,G=(d&&d.enableViewTransition)===!0;let h=f||l,v=d&&d.overrideNavigation,S=Oe(h,o,u),L=(d&&d.flushSync)===!0,b=Ge(S,h,o.pathname);if(b.active&&b.matches&&(S=b.matches),!S){let{error:I,notFoundMatches:O,route:B}=it(o.pathname);Me(o,{matches:O,loaderData:{},errors:{[B.id]:I}},{flushSync:L});return}if(c.initialized&&!oe&&oa(c.location,o)&&!(d&&d.submission&&te(d.submission.formMethod))){Me(o,{matches:S},{flushSync:L});return}A=new AbortController;let D=Fe(e.history,o,A.signal,d&&d.submission),w;if(d&&d.pendingError)w=[Re(S).route.id,{type:U.error,error:d.pendingError}];else if(d&&d.submission&&te(d.submission.formMethod)){let I=await sr(D,o,d.submission,S,b.active,{replace:d.replace,flushSync:L});if(I.shortCircuited)return;if(I.pendingActionResult){let[O,B]=I.pendingActionResult;if(q(B)&&mt(B.error)&&B.error.status===404){A=null,Me(o,{matches:I.matches,loaderData:{},errors:{[O]:B.error}});return}}S=I.matches||S,w=I.pendingActionResult,v=ut(o,d.submission),L=!1,b.active=!1,D=Fe(e.history,D.url,D.signal)}let{shortCircuited:E,matches:C,loaderData:j,errors:Y}=await dr(D,o,S,b.active,v,d&&d.submission,d&&d.fetcherSubmission,d&&d.replace,d&&d.initialHydration===!0,L,w);E||(A=null,Me(o,H({matches:C||S},kt(w),{loaderData:j,errors:Y})))}async function sr(n,o,d,h,v,S){S===void 0&&(S={}),nt();let L=ca(o,d);if(J({navigation:L},{flushSync:S.flushSync===!0}),v){let w=await Qe(h,o.pathname,n.signal);if(w.type==="aborted")return{shortCircuited:!0};if(w.type==="error"){let E=Re(w.partialMatches).route.id;return{matches:w.partialMatches,pendingActionResult:[E,{type:U.error,error:w.error}]}}else if(w.matches)h=w.matches;else{let{notFoundMatches:E,error:C,route:j}=it(o.pathname);return{matches:E,pendingActionResult:[j.id,{type:U.error,error:C}]}}}let b,D=We(h,o);if(!D.route.action&&!D.route.lazy)b={type:U.error,error:Q(405,{method:n.method,pathname:o.pathname,routeId:D.route.id})};else if(b=(await Ie("action",c,n,[D],h,null))[D.route.id],n.signal.aborted)return{shortCircuited:!0};if(Se(b)){let w;return S&&S.replace!=null?w=S.replace:w=zt(b.response.headers.get("Location"),new URL(n.url),u)===c.location.pathname+c.location.search,await be(n,b,!0,{submission:d,replace:w}),{shortCircuited:!0}}if(me(b))throw Q(400,{type:"defer-action"});if(q(b)){let w=Re(h,D.route.id);return(S&&S.replace)!==!0&&(X=N.Push),{matches:h,pendingActionResult:[w.route.id,b]}}return{matches:h,pendingActionResult:[D.route.id,b]}}async function dr(n,o,d,h,v,S,L,b,D,w,E){let C=v||ut(o,S),j=S||L||Yt(C),Y=!ee&&(!g.v7_partialHydration||!D);if(h){if(Y){let W=bt(E);J(H({navigation:C},W!==void 0?{actionData:W}:{}),{flushSync:w})}let F=await Qe(d,o.pathname,n.signal);if(F.type==="aborted")return{shortCircuited:!0};if(F.type==="error"){let W=Re(F.partialMatches).route.id;return{matches:F.partialMatches,loaderData:{},errors:{[W]:F.error}}}else if(F.matches)d=F.matches;else{let{error:W,notFoundMatches:Ce,route:Ne}=it(o.pathname);return{matches:Ce,loaderData:{},errors:{[Ne.id]:W}}}}let I=f||l,[O,B]=_t(e.history,c,d,j,o,g.v7_partialHydration&&D===!0,g.v7_skipActionErrorRevalidation,oe,ke,$e,se,Le,le,I,u,E);if(ot(F=>!(d&&d.some(W=>W.route.id===F))||O&&O.some(W=>W.route.id===F)),Ue=++Ve,O.length===0&&B.length===0){let F=Et();return Me(o,H({matches:d,loaderData:{},errors:E&&q(E[1])?{[E[0]]:E[1].error}:null},kt(E),F?{fetchers:new Map(c.fetchers)}:{}),{flushSync:w}),{shortCircuited:!0}}if(Y){let F={};if(!h){F.navigation=C;let W=bt(E);W!==void 0&&(F.actionData=W)}B.length>0&&(F.fetchers=ur(B)),J(F,{flushSync:w})}B.forEach(F=>{he(F.key),F.controller&&V.set(F.key,F.controller)});let Te=()=>B.forEach(F=>he(F.key));A&&A.signal.addEventListener("abort",Te);let{loaderResults:_e,fetcherResults:ue}=await Dt(c,d,O,B,n);if(n.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Te),B.forEach(F=>V.delete(F.key));let ne=et(_e);if(ne)return await be(n,ne.result,!0,{replace:b}),{shortCircuited:!0};if(ne=et(ue),ne)return le.add(ne.key),await be(n,ne.result,!0,{replace:b}),{shortCircuited:!0};let{loaderData:lt,errors:He}=Wt(c,d,_e,E,B,ue,ge);ge.forEach((F,W)=>{F.subscribe(Ce=>{(Ce||F.done)&&ge.delete(W)})}),g.v7_partialHydration&&D&&c.errors&&(He=H({},c.errors,He));let De=Et(),Ze=Pt(Ue),qe=De||Ze||B.length>0;return H({matches:d,loaderData:lt,errors:He},qe?{fetchers:new Map(c.fetchers)}:{})}function bt(n){if(n&&!q(n[1]))return{[n[0]]:n[1].data};if(c.actionData)return Object.keys(c.actionData).length===0?null:c.actionData}function ur(n){return n.forEach(o=>{let d=c.fetchers.get(o.key),h=Be(void 0,d?d.data:void 0);c.fetchers.set(o.key,h)}),new Map(c.fetchers)}function fr(n,o,d,h){if(a)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");he(n);let v=(h&&h.flushSync)===!0,S=f||l,L=ct(c.location,c.matches,u,g.v7_prependBasename,d,g.v7_relativeSplatPath,o,h==null?void 0:h.relative),b=Oe(S,L,u),D=Ge(b,S,L);if(D.active&&D.matches&&(b=D.matches),!b){de(n,o,Q(404,{pathname:L}),{flushSync:v});return}let{path:w,submission:E,error:C}=At(g.v7_normalizeFormMethod,!0,L,h);if(C){de(n,o,C,{flushSync:v});return}let j=We(b,w),Y=(h&&h.preventScrollReset)===!0;if(E&&te(E.formMethod)){cr(n,o,w,j,b,D.active,v,Y,E);return}Le.set(n,{routeId:o,path:w}),hr(n,o,w,j,b,D.active,v,Y,E)}async function cr(n,o,d,h,v,S,L,b,D){nt(),Le.delete(n);function w(K){if(!K.route.action&&!K.route.lazy){let je=Q(405,{method:D.formMethod,pathname:d,routeId:o});return de(n,o,je,{flushSync:L}),!0}return!1}if(!S&&w(h))return;let E=c.fetchers.get(n);ce(n,ha(D,E),{flushSync:L});let C=new AbortController,j=Fe(e.history,d,C.signal,D);if(S){let K=await Qe(v,d,j.signal);if(K.type==="aborted")return;if(K.type==="error"){de(n,o,K.error,{flushSync:L});return}else if(K.matches){if(v=K.matches,h=We(v,d),w(h))return}else{de(n,o,Q(404,{pathname:d}),{flushSync:L});return}}V.set(n,C);let Y=Ve,O=(await Ie("action",c,j,[h],v,n))[h.route.id];if(j.signal.aborted){V.get(n)===C&&V.delete(n);return}if(g.v7_fetcherPersist&&se.has(n)){if(Se(O)||q(O)){ce(n,pe(void 0));return}}else{if(Se(O))if(V.delete(n),Ue>Y){ce(n,pe(void 0));return}else return le.add(n),ce(n,Be(D)),be(j,O,!1,{fetcherSubmission:D,preventScrollReset:b});if(q(O)){de(n,o,O.error);return}}if(me(O))throw Q(400,{type:"defer-action"});let B=c.navigation.location||c.location,Te=Fe(e.history,B,C.signal),_e=f||l,ue=c.navigation.state!=="idle"?Oe(_e,c.navigation.location,u):c.matches;_(ue,"Didn't find any matches after fetcher action");let ne=++Ve;xe.set(n,ne);let lt=Be(D,O.data);c.fetchers.set(n,lt);let[He,De]=_t(e.history,c,ue,D,B,!1,g.v7_skipActionErrorRevalidation,oe,ke,$e,se,Le,le,_e,u,[h.route.id,O]);De.filter(K=>K.key!==n).forEach(K=>{let je=K.key,Ct=c.fetchers.get(je),br=Be(void 0,Ct?Ct.data:void 0);c.fetchers.set(je,br),he(je),K.controller&&V.set(je,K.controller)}),J({fetchers:new Map(c.fetchers)});let Ze=()=>De.forEach(K=>he(K.key));C.signal.addEventListener("abort",Ze);let{loaderResults:qe,fetcherResults:F}=await Dt(c,ue,He,De,Te);if(C.signal.aborted)return;C.signal.removeEventListener("abort",Ze),xe.delete(n),V.delete(n),De.forEach(K=>V.delete(K.key));let W=et(qe);if(W)return be(Te,W.result,!1,{preventScrollReset:b});if(W=et(F),W)return le.add(W.key),be(Te,W.result,!1,{preventScrollReset:b});let{loaderData:Ce,errors:Ne}=Wt(c,ue,qe,void 0,De,F,ge);if(c.fetchers.has(n)){let K=pe(O.data);c.fetchers.set(n,K)}Pt(ne),c.navigation.state==="loading"&&ne>Ue?(_(X,"Expected pending action"),A&&A.abort(),Me(c.navigation.location,{matches:ue,loaderData:Ce,errors:Ne,fetchers:new Map(c.fetchers)})):(J({errors:Ne,loaderData:Kt(c.loaderData,Ce,ue,Ne),fetchers:new Map(c.fetchers)}),oe=!1)}async function hr(n,o,d,h,v,S,L,b,D){let w=c.fetchers.get(n);ce(n,Be(D,w?w.data:void 0),{flushSync:L});let E=new AbortController,C=Fe(e.history,d,E.signal);if(S){let O=await Qe(v,d,C.signal);if(O.type==="aborted")return;if(O.type==="error"){de(n,o,O.error,{flushSync:L});return}else if(O.matches)v=O.matches,h=We(v,d);else{de(n,o,Q(404,{pathname:d}),{flushSync:L});return}}V.set(n,E);let j=Ve,I=(await Ie("loader",c,C,[h],v,n))[h.route.id];if(me(I)&&(I=await gt(I,C.signal,!0)||I),V.get(n)===E&&V.delete(n),!C.signal.aborted){if(se.has(n)){ce(n,pe(void 0));return}if(Se(I))if(Ue>j){ce(n,pe(void 0));return}else{le.add(n),await be(C,I,!1,{preventScrollReset:b});return}if(q(I)){de(n,o,I.error);return}_(!me(I),"Unhandled fetcher deferred data"),ce(n,pe(I.data))}}async function be(n,o,d,h){let{submission:v,fetcherSubmission:S,preventScrollReset:L,replace:b}=h===void 0?{}:h;o.response.headers.has("X-Remix-Revalidate")&&(oe=!0);let D=o.response.headers.get("Location");_(D,"Expected a Location header on the redirect Response"),D=zt(D,new URL(n.url),u);let w=Ee(c.location,D,{_isRedirect:!0});if(r){let O=!1;if(o.response.headers.has("X-Remix-Reload-Document"))O=!0;else if(yt.test(D)){const B=e.history.createURL(D);O=B.origin!==t.location.origin||at(B.pathname,u)==null}if(O){b?t.location.replace(D):t.location.assign(D);return}}A=null;let E=b===!0||o.response.headers.has("X-Remix-Replace")?N.Replace:N.Push,{formMethod:C,formAction:j,formEncType:Y}=c.navigation;!v&&!S&&C&&j&&Y&&(v=Yt(c.navigation));let I=v||S;if(Jr.has(o.response.status)&&I&&te(I.formMethod))await we(E,w,{submission:H({},I,{formAction:D}),preventScrollReset:L||k,enableViewTransition:d?G:void 0});else{let O=ut(w,v);await we(E,w,{overrideNavigation:O,fetcherSubmission:S,preventScrollReset:L||k,enableViewTransition:d?G:void 0})}}async function Ie(n,o,d,h,v,S){let L,b={};try{L=await ta(p,n,o,d,h,v,S,s,i)}catch(D){return h.forEach(w=>{b[w.route.id]={type:U.error,error:D}}),b}for(let[D,w]of Object.entries(L))if(la(w)){let E=w.result;b[D]={type:U.redirect,response:na(E,d,D,v,u,g.v7_relativeSplatPath)}}else b[D]=await aa(w);return b}async function Dt(n,o,d,h,v){let S=n.matches,L=Ie("loader",n,v,d,o,null),b=Promise.all(h.map(async E=>{if(E.matches&&E.match&&E.controller){let j=(await Ie("loader",n,Fe(e.history,E.path,E.controller.signal),[E.match],E.matches,E.key))[E.match.route.id];return{[E.key]:j}}else return Promise.resolve({[E.key]:{type:U.error,error:Q(404,{pathname:E.path})}})})),D=await L,w=(await b).reduce((E,C)=>Object.assign(E,C),{});return await Promise.all([ua(o,D,v.signal,S,n.loaderData),fa(o,w,h)]),{loaderResults:D,fetcherResults:w}}function nt(){oe=!0,ke.push(...ot()),Le.forEach((n,o)=>{V.has(o)&&$e.add(o),he(o)})}function ce(n,o,d){d===void 0&&(d={}),c.fetchers.set(n,o),J({fetchers:new Map(c.fetchers)},{flushSync:(d&&d.flushSync)===!0})}function de(n,o,d,h){h===void 0&&(h={});let v=Re(c.matches,o);Je(n),J({errors:{[v.route.id]:d},fetchers:new Map(c.fetchers)},{flushSync:(h&&h.flushSync)===!0})}function Rt(n){return g.v7_fetcherPersist&&(Ae.set(n,(Ae.get(n)||0)+1),se.has(n)&&se.delete(n)),c.fetchers.get(n)||Xr}function Je(n){let o=c.fetchers.get(n);V.has(n)&&!(o&&o.state==="loading"&&xe.has(n))&&he(n),Le.delete(n),xe.delete(n),le.delete(n),se.delete(n),$e.delete(n),c.fetchers.delete(n)}function pr(n){if(g.v7_fetcherPersist){let o=(Ae.get(n)||0)-1;o<=0?(Ae.delete(n),se.add(n)):Ae.set(n,o)}else Je(n);J({fetchers:new Map(c.fetchers)})}function he(n){let o=V.get(n);o&&(o.abort(),V.delete(n))}function St(n){for(let o of n){let d=Rt(o),h=pe(d.data);c.fetchers.set(o,h)}}function Et(){let n=[],o=!1;for(let d of le){let h=c.fetchers.get(d);_(h,"Expected fetcher: "+d),h.state==="loading"&&(le.delete(d),n.push(d),o=!0)}return St(n),o}function Pt(n){let o=[];for(let[d,h]of xe)if(h<n){let v=c.fetchers.get(d);_(v,"Expected fetcher: "+d),v.state==="loading"&&(he(d),xe.delete(d),o.push(d))}return St(o),o.length>0}function mr(n,o){let d=c.blockers.get(n)||ze;return ve.get(n)!==o&&ve.set(n,o),d}function xt(n){c.blockers.delete(n),ve.delete(n)}function Xe(n,o){let d=c.blockers.get(n)||ze;_(d.state==="unblocked"&&o.state==="blocked"||d.state==="blocked"&&o.state==="blocked"||d.state==="blocked"&&o.state==="proceeding"||d.state==="blocked"&&o.state==="unblocked"||d.state==="proceeding"&&o.state==="unblocked","Invalid blocker state transition: "+d.state+" -> "+o.state);let h=new Map(c.blockers);h.set(n,o),J({blockers:h})}function Lt(n){let{currentLocation:o,nextLocation:d,historyAction:h}=n;if(ve.size===0)return;ve.size>1&&ye(!1,"A router only supports one blocker at a time");let v=Array.from(ve.entries()),[S,L]=v[v.length-1],b=c.blockers.get(S);if(!(b&&b.state==="proceeding")&&L({currentLocation:o,nextLocation:d,historyAction:h}))return S}function it(n){let o=Q(404,{pathname:n}),d=f||l,{matches:h,route:v}=$t(d);return ot(),{notFoundMatches:h,route:v,error:o}}function ot(n){let o=[];return ge.forEach((d,h)=>{(!n||n(h))&&(d.cancel(),o.push(h),ge.delete(h))}),o}function yr(n,o,d){if(P=n,M=o,x=d||null,!z&&c.navigation===dt){z=!0;let h=Tt(c.location,c.matches);h!=null&&J({restoreScrollPosition:h})}return()=>{P=null,M=null,x=null}}function Mt(n,o){return x&&x(n,o.map(h=>Er(h,c.loaderData)))||n.key}function gr(n,o){if(P&&M){let d=Mt(n,o);P[d]=M()}}function Tt(n,o){if(P){let d=Mt(n,o),h=P[d];if(typeof h=="number")return h}return null}function Ge(n,o,d){if(y)if(n){if(Object.keys(n[0].params).length>0)return{active:!0,matches:tt(o,d,u,!0)}}else return{active:!0,matches:tt(o,d,u,!0)||[]};return{active:!1,matches:null}}async function Qe(n,o,d){if(!y)return{type:"success",matches:n};let h=n;for(;;){let v=f==null,S=f||l,L=s;try{await y({path:o,matches:h,patch:(w,E)=>{d.aborted||Nt(w,E,S,L,i)}})}catch(w){return{type:"error",error:w,partialMatches:h}}finally{v&&!d.aborted&&(l=[...l])}if(d.aborted)return{type:"aborted"};let b=Oe(S,o,u);if(b)return{type:"success",matches:b};let D=tt(S,o,u,!0);if(!D||h.length===D.length&&h.every((w,E)=>w.route.id===D[E].route.id))return{type:"success",matches:null};h=D}}function vr(n){s={},f=rt(n,i,void 0,s)}function wr(n,o){let d=f==null;Nt(n,o,f||l,s,i),d&&(l=[...l],J({}))}return ae={get basename(){return u},get future(){return g},get state(){return c},get routes(){return l},get window(){return t},initialize:nr,subscribe:or,enableScrollRestoration:yr,navigate:wt,fetch:fr,revalidate:lr,createHref:n=>e.history.createHref(n),encodeLocation:n=>e.history.encodeLocation(n),getFetcher:Rt,deleteFetcher:pr,dispose:ir,getBlocker:mr,deleteBlocker:xt,patchRoutes:wr,_internalFetchControllers:V,_internalActiveDeferreds:ge,_internalSetRoutes:vr},ae}const Da=Symbol("deferred");function Qr(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ct(e,t,r,a,i,s,l,f){let u,p;if(l){u=[];for(let g of t)if(u.push(g),g.route.id===l){p=g;break}}else u=t,p=t[t.length-1];let y=zr(i||".",Nr(u,s),at(e.pathname,r)||e.pathname,f==="path");if(i==null&&(y.search=e.search,y.hash=e.hash),(i==null||i===""||i===".")&&p){let g=vt(y.search);if(p.route.index&&!g)y.search=y.search?y.search.replace(/^\?/,"?index&"):"?index";else if(!p.route.index&&g){let R=new URLSearchParams(y.search),m=R.getAll("index");R.delete("index"),m.filter(x=>x).forEach(x=>R.append("index",x));let P=R.toString();y.search=P?"?"+P:""}}return a&&r!=="/"&&(y.pathname=y.pathname==="/"?r:Ke([r,y.pathname])),Pe(y)}function At(e,t,r,a){if(!a||!Qr(a))return{path:r};if(a.formMethod&&!da(a.formMethod))return{path:r,error:Q(405,{method:a.formMethod})};let i=()=>({path:r,error:Q(400,{type:"invalid-body"})}),s=a.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),f=rr(r);if(a.body!==void 0){if(a.formEncType==="text/plain"){if(!te(l))return i();let R=typeof a.body=="string"?a.body:a.body instanceof FormData||a.body instanceof URLSearchParams?Array.from(a.body.entries()).reduce((m,P)=>{let[x,M]=P;return""+m+x+"="+M+`
`},""):String(a.body);return{path:r,submission:{formMethod:l,formAction:f,formEncType:a.formEncType,formData:void 0,json:void 0,text:R}}}else if(a.formEncType==="application/json"){if(!te(l))return i();try{let R=typeof a.body=="string"?JSON.parse(a.body):a.body;return{path:r,submission:{formMethod:l,formAction:f,formEncType:a.formEncType,formData:void 0,json:R,text:void 0}}}catch{return i()}}}_(typeof FormData=="function","FormData is not available in this environment");let u,p;if(a.formData)u=pt(a.formData),p=a.formData;else if(a.body instanceof FormData)u=pt(a.body),p=a.body;else if(a.body instanceof URLSearchParams)u=a.body,p=Bt(u);else if(a.body==null)u=new URLSearchParams,p=new FormData;else try{u=new URLSearchParams(a.body),p=Bt(u)}catch{return i()}let y={formMethod:l,formAction:f,formEncType:a&&a.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(te(y.formMethod))return{path:r,submission:y};let g=fe(r);return t&&g.search&&vt(g.search)&&u.append("index",""),g.search="?"+u,{path:Pe(g),submission:y}}function It(e,t,r){r===void 0&&(r=!1);let a=e.findIndex(i=>i.route.id===t);return a>=0?e.slice(0,r?a+1:a):e}function _t(e,t,r,a,i,s,l,f,u,p,y,g,R,m,P,x){let M=x?q(x[1])?x[1].error:x[1].data:void 0,z=e.createURL(t.location),T=e.createURL(i),re=r;s&&t.errors?re=It(r,Object.keys(t.errors)[0],!0):x&&q(x[1])&&(re=It(r,x[0]));let $=x?x[1].statusCode:void 0,ae=l&&$&&$>=400,c=re.filter((k,A)=>{let{route:G}=k;if(G.lazy)return!0;if(G.loader==null)return!1;if(s)return ht(G,t.loaderData,t.errors);if(Zr(t.loaderData,t.matches[A],k)||u.some(ee=>ee===k.route.id))return!0;let Z=t.matches[A],ie=k;return Ht(k,H({currentUrl:z,currentParams:Z.params,nextUrl:T,nextParams:ie.params},a,{actionResult:M,actionStatus:$,defaultShouldRevalidate:ae?!1:f||z.pathname+z.search===T.pathname+T.search||z.search!==T.search||er(Z,ie)}))}),X=[];return g.forEach((k,A)=>{if(s||!r.some(oe=>oe.route.id===k.routeId)||y.has(A))return;let G=Oe(m,k.path,P);if(!G){X.push({key:A,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(A),ie=We(G,k.path),ee=!1;R.has(A)?ee=!1:p.has(A)?(p.delete(A),ee=!0):Z&&Z.state!=="idle"&&Z.data===void 0?ee=f:ee=Ht(ie,H({currentUrl:z,currentParams:t.matches[t.matches.length-1].params,nextUrl:T,nextParams:r[r.length-1].params},a,{actionResult:M,actionStatus:$,defaultShouldRevalidate:ae?!1:f})),ee&&X.push({key:A,routeId:k.routeId,path:k.path,matches:G,match:ie,controller:new AbortController})}),[c,X]}function ht(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let a=t!=null&&t[e.id]!==void 0,i=r!=null&&r[e.id]!==void 0;return!a&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!a&&!i}function Zr(e,t,r){let a=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return a||i}function er(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ht(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Nt(e,t,r,a,i){var s;let l;if(e){let p=a[e];_(p,"No route found to patch children into: routeId = "+e),p.children||(p.children=[]),l=p.children}else l=r;let f=t.filter(p=>!l.some(y=>tr(p,y))),u=rt(f,i,[e||"_","patch",String(((s=l)==null?void 0:s.length)||"0")],a);l.push(...u)}function tr(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,a)=>{var i;return(i=t.children)==null?void 0:i.some(s=>tr(r,s))}):!1}async function qr(e,t,r){if(!e.lazy)return;let a=await e.lazy();if(!e.lazy)return;let i=r[e.id];_(i,"No route found in manifest");let s={};for(let l in a){let u=i[l]!==void 0&&l!=="hasErrorBoundary";ye(!u,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!u&&!Rr.has(l)&&(s[l]=a[l])}Object.assign(i,s),Object.assign(i,H({},t(i),{lazy:void 0}))}async function ea(e){let{matches:t}=e,r=t.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,s,l)=>Object.assign(i,{[r[l].route.id]:s}),{})}async function ta(e,t,r,a,i,s,l,f,u,p){let y=s.map(m=>m.route.lazy?qr(m.route,u,f):void 0),g=s.map((m,P)=>{let x=y[P],M=i.some(T=>T.route.id===m.route.id);return H({},m,{shouldLoad:M,resolve:async T=>(T&&a.method==="GET"&&(m.route.lazy||m.route.loader)&&(M=!0),M?ra(t,a,m,x,T,p):Promise.resolve({type:U.data,result:void 0}))})}),R=await e({matches:g,request:a,params:s[0].params,fetcherKey:l,context:p});try{await Promise.all(y)}catch{}return R}async function ra(e,t,r,a,i,s){let l,f,u=p=>{let y,g=new Promise((P,x)=>y=x);f=()=>y(),t.signal.addEventListener("abort",f);let R=P=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):p({request:t,params:r.params,context:s},...P!==void 0?[P]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(x=>R(x)):R())}}catch(P){return{type:"error",result:P}}})();return Promise.race([m,g])};try{let p=r.route[e];if(a)if(p){let y,[g]=await Promise.all([u(p).catch(R=>{y=R}),a]);if(y!==void 0)throw y;l=g}else if(await a,p=r.route[e],p)l=await u(p);else if(e==="action"){let y=new URL(t.url),g=y.pathname+y.search;throw Q(405,{method:t.method,pathname:g,routeId:r.route.id})}else return{type:U.data,result:void 0};else if(p)l=await u(p);else{let y=new URL(t.url),g=y.pathname+y.search;throw Q(404,{pathname:g})}_(l.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:U.error,result:p}}finally{f&&t.signal.removeEventListener("abort",f)}return l}async function aa(e){let{result:t,type:r}=e;if(ar(t)){let p;try{let y=t.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?t.body==null?p=null:p=await t.json():p=await t.text()}catch(y){return{type:U.error,error:y}}return r===U.error?{type:U.error,error:new ft(t.status,t.statusText,p),statusCode:t.status,headers:t.headers}:{type:U.data,data:p,statusCode:t.status,headers:t.headers}}if(r===U.error){if(Vt(t)){var a;if(t.data instanceof Error){var i;return{type:U.error,error:t.data,statusCode:(i=t.init)==null?void 0:i.status}}t=new ft(((a=t.init)==null?void 0:a.status)||500,void 0,t.data)}return{type:U.error,error:t,statusCode:mt(t)?t.status:void 0}}if(sa(t)){var s,l;return{type:U.deferred,deferredData:t,statusCode:(s=t.init)==null?void 0:s.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(Vt(t)){var f,u;return{type:U.data,data:t.data,statusCode:(f=t.init)==null?void 0:f.status,headers:(u=t.init)!=null&&u.headers?new Headers(t.init.headers):void 0}}return{type:U.data,data:t}}function na(e,t,r,a,i,s){let l=e.headers.get("Location");if(_(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!yt.test(l)){let f=a.slice(0,a.findIndex(u=>u.route.id===r)+1);l=ct(new URL(t.url),f,i,!0,l,s),e.headers.set("Location",l)}return e}function zt(e,t,r){if(yt.test(e)){let a=e,i=a.startsWith("//")?new URL(t.protocol+a):new URL(a),s=at(i.pathname,r)!=null;if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Fe(e,t,r,a){let i=e.createURL(rr(t)).toString(),s={signal:r};if(a&&te(a.formMethod)){let{formMethod:l,formEncType:f}=a;s.method=l.toUpperCase(),f==="application/json"?(s.headers=new Headers({"Content-Type":f}),s.body=JSON.stringify(a.json)):f==="text/plain"?s.body=a.text:f==="application/x-www-form-urlencoded"&&a.formData?s.body=pt(a.formData):s.body=a.formData}return new Request(i,s)}function pt(e){let t=new URLSearchParams;for(let[r,a]of e.entries())t.append(r,typeof a=="string"?a:a.name);return t}function Bt(e){let t=new FormData;for(let[r,a]of e.entries())t.append(r,a);return t}function ia(e,t,r,a,i){let s={},l=null,f,u=!1,p={},y=r&&q(r[1])?r[1].error:void 0;return e.forEach(g=>{if(!(g.route.id in t))return;let R=g.route.id,m=t[R];if(_(!Se(m),"Cannot handle redirect results in processLoaderData"),q(m)){let P=m.error;if(y!==void 0&&(P=y,y=void 0),l=l||{},i)l[R]=P;else{let x=Re(e,R);l[x.route.id]==null&&(l[x.route.id]=P)}s[R]=void 0,u||(u=!0,f=mt(m.error)?m.error.status:500),m.headers&&(p[R]=m.headers)}else me(m)?(a.set(R,m.deferredData),s[R]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(f=m.statusCode),m.headers&&(p[R]=m.headers)):(s[R]=m.data,m.statusCode&&m.statusCode!==200&&!u&&(f=m.statusCode),m.headers&&(p[R]=m.headers))}),y!==void 0&&r&&(l={[r[0]]:y},s[r[0]]=void 0),{loaderData:s,errors:l,statusCode:f||200,loaderHeaders:p}}function Wt(e,t,r,a,i,s,l){let{loaderData:f,errors:u}=ia(t,r,a,l,!1);return i.forEach(p=>{let{key:y,match:g,controller:R}=p,m=s[y];if(_(m,"Did not find corresponding fetcher result"),!(R&&R.signal.aborted))if(q(m)){let P=Re(e.matches,g==null?void 0:g.route.id);u&&u[P.route.id]||(u=H({},u,{[P.route.id]:m.error})),e.fetchers.delete(y)}else if(Se(m))_(!1,"Unhandled fetcher revalidation redirect");else if(me(m))_(!1,"Unhandled fetcher deferred data");else{let P=pe(m.data);e.fetchers.set(y,P)}}),{loaderData:f,errors:u}}function Kt(e,t,r,a){let i=H({},t);for(let s of r){let l=s.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(i[l]=t[l]):e[l]!==void 0&&s.route.loader&&(i[l]=e[l]),a&&a.hasOwnProperty(l))break}return i}function kt(e){return e?q(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Re(e,t){return(t?e.slice(0,e.findIndex(a=>a.route.id===t)+1):[...e]).reverse().find(a=>a.route.hasErrorBoundary===!0)||e[0]}function $t(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Q(e,t){let{pathname:r,routeId:a,method:i,type:s,message:l}=t===void 0?{}:t,f="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(f="Bad Request",i&&r&&a?u="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+a+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):e===403?(f="Forbidden",u='Route "'+a+'" does not match URL "'+r+'"'):e===404?(f="Not Found",u='No route matches URL "'+r+'"'):e===405&&(f="Method Not Allowed",i&&r&&a?u="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+a+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new ft(e||500,f,new Error(u),!0)}function et(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[a,i]=t[r];if(Se(i))return{key:a,result:i}}}function rr(e){let t=typeof e=="string"?fe(e):e;return Pe(H({},t,{hash:""}))}function oa(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function la(e){return ar(e.result)&&Yr.has(e.result.status)}function me(e){return e.type===U.deferred}function q(e){return e.type===U.error}function Se(e){return(e&&e.type)===U.redirect}function Vt(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function sa(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ar(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function da(e){return Vr.has(e.toLowerCase())}function te(e){return kr.has(e.toLowerCase())}async function ua(e,t,r,a,i){let s=Object.entries(t);for(let l=0;l<s.length;l++){let[f,u]=s[l],p=e.find(R=>(R==null?void 0:R.route.id)===f);if(!p)continue;let y=a.find(R=>R.route.id===p.route.id),g=y!=null&&!er(y,p)&&(i&&i[p.route.id])!==void 0;me(u)&&g&&await gt(u,r,!1).then(R=>{R&&(t[f]=R)})}}async function fa(e,t,r){for(let a=0;a<r.length;a++){let{key:i,routeId:s,controller:l}=r[a],f=t[i];e.find(p=>(p==null?void 0:p.route.id)===s)&&me(f)&&(_(l,"Expected an AbortController for revalidating fetcher deferred result"),await gt(f,l.signal,!0).then(p=>{p&&(t[i]=p)}))}}async function gt(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:U.data,data:e.deferredData.unwrappedData}}catch(i){return{type:U.error,error:i}}return{type:U.data,data:e.deferredData.data}}}function vt(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function We(e,t){let r=typeof t=="string"?fe(t).search:t.search;if(e[e.length-1].route.index&&vt(r||""))return e[e.length-1];let a=Qt(e);return a[a.length-1]}function Yt(e){let{formMethod:t,formAction:r,formEncType:a,text:i,formData:s,json:l}=e;if(!(!t||!r||!a)){if(i!=null)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:r,formEncType:a,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:r,formEncType:a,formData:void 0,json:l,text:void 0}}}function ut(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ca(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Be(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ha(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function pe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function pa(e,t){try{let r=e.sessionStorage.getItem(qt);if(r){let a=JSON.parse(r);for(let[i,s]of Object.entries(a||{}))s&&Array.isArray(s)&&t.set(i,new Set(s||[]))}}catch{}}function ma(e,t){if(t.size>0){let r={};for(let[a,i]of t)r[a]=[...i];try{e.sessionStorage.setItem(qt,JSON.stringify(r))}catch(a){ye(!1,"Failed to save applied view transitions in sessionStorage ("+a+").")}}}export{N as A,ft as E,ze as I,Oe as a,mt as b,Er as c,Ir as d,ya as e,wa as f,Nr as g,ba as h,_ as i,Ke as j,ga as k,va as l,Ut as m,Pe as n,Xr as o,fe as p,zr as r,at as s,ye as w};
