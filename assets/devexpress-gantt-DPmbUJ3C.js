import{c as X,g as Z}from"./@babel-EnWrEA7o.js";var z={exports:{}};/*!
 * DevExpress Gantt (dx-gantt.min)
 * Version: 4.1.47
 * Build date: Thu Jun 15 2023
 * 
 * Copyright (c) 2012 - 2023 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExpress licensing here: https://www.devexpress.com/Support/EULAs
 */var ee=z.exports;(function(Y,J){(function(S,u){Y.exports=u()})(X,function(){return function(S){var u={};function h(c){if(u[c])return u[c].exports;var p=u[c]={i:c,l:!1,exports:{}};return S[c].call(p.exports,p,p.exports,h),p.l=!0,p.exports}return h.m=S,h.c=u,h.d=function(c,p,a){h.o(c,p)||Object.defineProperty(c,p,{enumerable:!0,get:a})},h.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},h.t=function(c,p){if(1&p&&(c=h(c)),8&p||4&p&&typeof c=="object"&&c&&c.__esModule)return c;var a=Object.create(null);if(h.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:c}),2&p&&typeof c!="string")for(var o in c)h.d(a,o,(function(t){return c[t]}).bind(null,o));return a},h.n=function(c){var p=c&&c.__esModule?function(){return c.default}:function(){return c};return h.d(p,"a",p),p},h.o=function(c,p){return Object.prototype.hasOwnProperty.call(c,p)},h.p="",h(h.s=73)}([function(S,u,h){"use strict";h.r(u),h.d(u,"__extends",function(){return p}),h.d(u,"__assign",function(){return a}),h.d(u,"__rest",function(){return o}),h.d(u,"__decorate",function(){return t}),h.d(u,"__param",function(){return n}),h.d(u,"__metadata",function(){return e}),h.d(u,"__awaiter",function(){return r}),h.d(u,"__generator",function(){return i}),h.d(u,"__createBinding",function(){return s}),h.d(u,"__exportStar",function(){return l}),h.d(u,"__values",function(){return g}),h.d(u,"__read",function(){return d}),h.d(u,"__spread",function(){return f}),h.d(u,"__spreadArrays",function(){return y}),h.d(u,"__spreadArray",function(){return m}),h.d(u,"__await",function(){return v}),h.d(u,"__asyncGenerator",function(){return T}),h.d(u,"__asyncDelegator",function(){return b}),h.d(u,"__asyncValues",function(){return w}),h.d(u,"__makeTemplateObject",function(){return A}),h.d(u,"__importStar",function(){return _}),h.d(u,"__importDefault",function(){return M}),h.d(u,"__classPrivateFieldGet",function(){return O}),h.d(u,"__classPrivateFieldSet",function(){return N});/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var c=function(C,x){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,R){L.__proto__=R}||function(L,R){for(var H in R)Object.prototype.hasOwnProperty.call(R,H)&&(L[H]=R[H])})(C,x)};function p(C,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function L(){this.constructor=C}c(C,x),C.prototype=x===null?Object.create(x):(L.prototype=x.prototype,new L)}var a=function(){return(a=Object.assign||function(C){for(var x,L=1,R=arguments.length;L<R;L++)for(var H in x=arguments[L])Object.prototype.hasOwnProperty.call(x,H)&&(C[H]=x[H]);return C}).apply(this,arguments)};function o(C,x){var L={};for(var R in C)Object.prototype.hasOwnProperty.call(C,R)&&x.indexOf(R)<0&&(L[R]=C[R]);if(C!=null&&typeof Object.getOwnPropertySymbols=="function"){var H=0;for(R=Object.getOwnPropertySymbols(C);H<R.length;H++)x.indexOf(R[H])<0&&Object.prototype.propertyIsEnumerable.call(C,R[H])&&(L[R[H]]=C[R[H]])}return L}function t(C,x,L,R){var H,V=arguments.length,B=V<3?x:R===null?R=Object.getOwnPropertyDescriptor(x,L):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(C,x,L,R);else for(var D=C.length-1;D>=0;D--)(H=C[D])&&(B=(V<3?H(B):V>3?H(x,L,B):H(x,L))||B);return V>3&&B&&Object.defineProperty(x,L,B),B}function n(C,x){return function(L,R){x(L,R,C)}}function e(C,x){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(C,x)}function r(C,x,L,R){return new(L||(L=Promise))(function(H,V){function B(E){try{k(R.next(E))}catch(P){V(P)}}function D(E){try{k(R.throw(E))}catch(P){V(P)}}function k(E){var P;E.done?H(E.value):(P=E.value,P instanceof L?P:new L(function(j){j(P)})).then(B,D)}k((R=R.apply(C,x||[])).next())})}function i(C,x){var L,R,H,V,B={label:0,sent:function(){if(1&H[0])throw H[1];return H[1]},trys:[],ops:[]};return V={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function D(k){return function(E){return function(P){if(L)throw new TypeError("Generator is already executing.");for(;B;)try{if(L=1,R&&(H=2&P[0]?R.return:P[0]?R.throw||((H=R.return)&&H.call(R),0):R.next)&&!(H=H.call(R,P[1])).done)return H;switch(R=0,H&&(P=[2&P[0],H.value]),P[0]){case 0:case 1:H=P;break;case 4:return B.label++,{value:P[1],done:!1};case 5:B.label++,R=P[1],P=[0];continue;case 7:P=B.ops.pop(),B.trys.pop();continue;default:if(H=B.trys,!((H=H.length>0&&H[H.length-1])||P[0]!==6&&P[0]!==2)){B=0;continue}if(P[0]===3&&(!H||P[1]>H[0]&&P[1]<H[3])){B.label=P[1];break}if(P[0]===6&&B.label<H[1]){B.label=H[1],H=P;break}if(H&&B.label<H[2]){B.label=H[2],B.ops.push(P);break}H[2]&&B.ops.pop(),B.trys.pop();continue}P=x.call(C,B)}catch(j){P=[6,j],R=0}finally{L=H=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([k,E])}}}var s=Object.create?function(C,x,L,R){R===void 0&&(R=L),Object.defineProperty(C,R,{enumerable:!0,get:function(){return x[L]}})}:function(C,x,L,R){R===void 0&&(R=L),C[R]=x[L]};function l(C,x){for(var L in C)L==="default"||Object.prototype.hasOwnProperty.call(x,L)||s(x,C,L)}function g(C){var x=typeof Symbol=="function"&&Symbol.iterator,L=x&&C[x],R=0;if(L)return L.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&R>=C.length&&(C=void 0),{value:C&&C[R++],done:!C}}};throw new TypeError(x?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(C,x){var L=typeof Symbol=="function"&&C[Symbol.iterator];if(!L)return C;var R,H,V=L.call(C),B=[];try{for(;(x===void 0||x-- >0)&&!(R=V.next()).done;)B.push(R.value)}catch(D){H={error:D}}finally{try{R&&!R.done&&(L=V.return)&&L.call(V)}finally{if(H)throw H.error}}return B}function f(){for(var C=[],x=0;x<arguments.length;x++)C=C.concat(d(arguments[x]));return C}function y(){for(var C=0,x=0,L=arguments.length;x<L;x++)C+=arguments[x].length;var R=Array(C),H=0;for(x=0;x<L;x++)for(var V=arguments[x],B=0,D=V.length;B<D;B++,H++)R[H]=V[B];return R}function m(C,x,L){if(L||arguments.length===2)for(var R,H=0,V=x.length;H<V;H++)!R&&H in x||(R||(R=Array.prototype.slice.call(x,0,H)),R[H]=x[H]);return C.concat(R||Array.prototype.slice.call(x))}function v(C){return this instanceof v?(this.v=C,this):new v(C)}function T(C,x,L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,H=L.apply(C,x||[]),V=[];return R={},B("next"),B("throw"),B("return"),R[Symbol.asyncIterator]=function(){return this},R;function B(j){H[j]&&(R[j]=function(F){return new Promise(function(W,U){V.push([j,F,W,U])>1||D(j,F)})})}function D(j,F){try{(W=H[j](F)).value instanceof v?Promise.resolve(W.value.v).then(k,E):P(V[0][2],W)}catch(U){P(V[0][3],U)}var W}function k(j){D("next",j)}function E(j){D("throw",j)}function P(j,F){j(F),V.shift(),V.length&&D(V[0][0],V[0][1])}}function b(C){var x,L;return x={},R("next"),R("throw",function(H){throw H}),R("return"),x[Symbol.iterator]=function(){return this},x;function R(H,V){x[H]=C[H]?function(B){return(L=!L)?{value:v(C[H](B)),done:H==="return"}:V?V(B):B}:V}}function w(C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x,L=C[Symbol.asyncIterator];return L?L.call(C):(C=g(C),x={},R("next"),R("throw"),R("return"),x[Symbol.asyncIterator]=function(){return this},x);function R(H){x[H]=C[H]&&function(V){return new Promise(function(B,D){(function(k,E,P,j){Promise.resolve(j).then(function(F){k({value:F,done:P})},E)})(B,D,(V=C[H](V)).done,V.value)})}}}function A(C,x){return Object.defineProperty?Object.defineProperty(C,"raw",{value:x}):C.raw=x,C}var I=Object.create?function(C,x){Object.defineProperty(C,"default",{enumerable:!0,value:x})}:function(C,x){C.default=x};function _(C){if(C&&C.__esModule)return C;var x={};if(C!=null)for(var L in C)L!=="default"&&Object.prototype.hasOwnProperty.call(C,L)&&s(x,C,L);return I(x,C),x}function M(C){return C&&C.__esModule?C:{default:C}}function O(C,x,L,R){if(L==="a"&&!R)throw new TypeError("Private accessor was defined without a getter");if(typeof x=="function"?C!==x||!R:!x.has(C))throw new TypeError("Cannot read private member from an object whose class did not declare it");return L==="m"?R:L==="a"?R.call(C):R?R.value:x.get(C)}function N(C,x,L,R,H){if(R==="m")throw new TypeError("Private method is not writable");if(R==="a"&&!H)throw new TypeError("Private accessor was defined without a setter");if(typeof x=="function"?C!==x||!H:!x.has(C))throw new TypeError("Cannot write private member to an object whose class did not declare it");return R==="a"?H.call(C,L):H?H.value=L:x.set(C,L),L}},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.numberToStringHex=u.numberToStringBin=u.isOdd=u.isEven=u.isNonNullString=u.isString=u.isNumber=u.boolToString=u.boolToInt=u.isDefined=void 0;var c=h(39);u.isDefined=function(p){return p!=null},u.boolToInt=function(p){return p?1:0},u.boolToString=function(p){return p?"1":"0"},u.isNumber=function(p){return typeof p=="number"},u.isString=function(p){return typeof p=="string"},u.isNonNullString=function(p){return!!p},u.isEven=function(p){return p%2!=0},u.isOdd=function(p){return p%2==0},u.numberToStringBin=function(p,a){return a===void 0&&(a=0),c.StringUtils.padLeft(p.toString(2),a,"0")},u.numberToStringHex=function(p,a){return a===void 0&&(a=0),c.StringUtils.padLeft(p.toString(16),a,"0")}},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttDataObjectNames=u.DataObject=void 0;var c=h(1),p=h(18),a=function(){function o(){this.internalId=p.MathUtils.generateGuid()}return o.prototype.assignFromObject=function(t){(0,c.isDefined)(t)&&(0,c.isDefined)(t.id)&&this.updateId(t.id)},o.prototype.updateId=function(t){this.id=t,this.internalId=String(t)},o}();u.DataObject=a,u.GanttDataObjectNames={task:"task",dependency:"dependency",resource:"resource",resourceAssignment:"assignment"}},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DomUtils=void 0;var c=h(10),p=h(1),a=h(18),o=h(39),t=function(){function r(){}return r.clearInnerHtml=function(i){for(;i.firstChild;)i.removeChild(i.firstChild)},r.setStylePosition=function(i,s){i.left=a.MathUtils.round(s.x,3)+"px",i.top=a.MathUtils.round(s.y,3)+"px"},r.setStyleSize=function(i,s){i.width=a.MathUtils.round(s.width,3)+"px",i.height=a.MathUtils.round(s.height,3)+"px"},r.setStyleSizeAndPosition=function(i,s){r.setStylePosition(i,s),r.setStyleSize(i,s)},r.hideNode=function(i){if(i){var s=i.parentNode;s&&s.removeChild(i)}},r.isHTMLElementNode=function(i){return i.nodeType===Node.ELEMENT_NODE},r.isTextNode=function(i){return i.nodeType===Node.TEXT_NODE},r.isElementNode=function(i){return i.nodeType===Node.ELEMENT_NODE},r.isHTMLTableRowElement=function(i){return i.tagName==="TR"},r.isItParent=function(i,s){if(!i||!s)return!1;for(;s;){if(s===i)return!0;if(s.tagName==="BODY")return!1;s=s.parentNode}return!1},r.getParentByTagName=function(i,s){for(s=s.toUpperCase();i;){if(i.tagName==="BODY")return null;if(i.tagName===s)return i;i=i.parentNode}return null},r.getDocumentScrollTop=function(){var i=c.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollTop>0;return c.Browser.WebKitFamily||c.Browser.Edge||i?c.Browser.MacOSMobilePlatform?window.pageYOffset:c.Browser.WebKitFamily&&document.documentElement.scrollTop||document.body.scrollTop:document.documentElement.scrollTop},r.getDocumentScrollLeft=function(){var i=c.Browser.IE&&r.getCurrentStyle(document.body).overflow==="hidden"&&document.body.scrollLeft>0;return c.Browser.Edge||i?document.body?document.body.scrollLeft:document.documentElement.scrollLeft:c.Browser.WebKitFamily?document.documentElement.scrollLeft||document.body.scrollLeft:document.documentElement.scrollLeft},r.getCurrentStyle=function(i){if(i.currentStyle)return i.currentStyle;if(document.defaultView&&document.defaultView.getComputedStyle){var s=document.defaultView.getComputedStyle(i,null);if(!s&&c.Browser.Firefox&&window.frameElement){for(var l=[],g=window.frameElement;!(s=document.defaultView.getComputedStyle(i,null));)l.push([g,g.style.display]),g.style.setProperty("display","block","important"),g=g.tagName==="BODY"?g.ownerDocument.defaultView.frameElement:g.parentNode;s=function(y){if(typeof y!="object"||!p.isDefined(y))return y;var m={};for(var v in y)m[v]=y[v];return m}(s);for(var d=void 0,f=0;d=l[f];f++)d[0].style.display=d[1];document.body.offsetWidth}return s}return window.getComputedStyle(i,null)},r.setFocus=function(i){function s(){try{i.focus(),c.Browser.IE&&document.activeElement!==i&&i.focus()}catch{}}c.Browser.MacOSMobilePlatform?s():setTimeout(function(){s()},100)},r.hasClassName=function(i,s){try{var l=s.split(" "),g=i.classList;if(g){for(var d=l.length-1;d>=0;d--)if(!g.contains(l[d]))return!1}else{var f=i.getAttribute&&i.getAttribute("class");if(!f)return!1;var y=f.split(" ");for(d=l.length-1;d>=0;d--)if(y.indexOf(l[d])<0)return!1}return!0}catch{return!1}},r.addClassName=function(i,s){if(!r.hasClassName(i,s)){var l=i.getAttribute&&i.getAttribute("class");i.setAttribute("class",l===""?s:l+" "+s)}},r.removeClassName=function(i,s){var l=" "+(i.getAttribute&&i.getAttribute("class"))+" ",g=l.replace(" "+s+" "," ");l.length!==g.length&&i.setAttribute("class",o.StringUtils.trim(g))},r.toggleClassName=function(i,s,l){l===void 0?r.hasClassName(i,s)?r.removeClassName(i,s):r.addClassName(i,s):l?r.addClassName(i,s):r.removeClassName(i,s)},r.pxToInt=function(i){return n(i,parseInt)},r.pxToFloat=function(i){return n(i,parseFloat)},r.getAbsolutePositionY=function(i){function s(l){return Math.round(l.getBoundingClientRect().top+r.getDocumentScrollTop())}return i?c.Browser.IE?function(l){return c.Browser.IE&&l.parentNode===null?0:l.getBoundingClientRect().top+r.getDocumentScrollTop()}(i):c.Browser.Firefox&&c.Browser.Version>=3?s(i):c.Browser.Opera?function(l){var g=!0;l&&r.isHTMLTableRowElement(l)&&l.cells.length>0&&(l=l.cells[0]);for(var d=e(l,!1);l!=null;)d+=l.offsetTop,g||(d-=l.scrollTop),l=l.offsetParent,g=!1;return d+=document.body.scrollTop}(i):c.Browser.NetscapeFamily&&(!c.Browser.Firefox||c.Browser.Version<3)?function(l){for(var g=e(l,!1),d=!0;l!=null;){if(g+=l.offsetTop,d||l.offsetParent==null||(g-=l.scrollTop),!d&&c.Browser.Firefox){var f=r.getCurrentStyle(l);l.tagName==="DIV"&&f.overflow!=="visible"&&(g+=r.pxToInt(f.borderTopWidth))}d=!1,l=l.offsetParent}return g}(i):c.Browser.WebKitFamily||c.Browser.Edge?s(i):function(l){for(var g=0,d=!0;l!=null;)g+=l.offsetTop,d||l.offsetParent==null||(g-=l.scrollTop),d=!1,l=l.offsetParent;return g}(i):0},r.getAbsolutePositionX=function(i){function s(l){return Math.round(l.getBoundingClientRect().left+r.getDocumentScrollLeft())}return i?c.Browser.IE?function(l){return c.Browser.IE&&l.parentNode===null?0:l.getBoundingClientRect().left+r.getDocumentScrollLeft()}(i):c.Browser.Firefox&&c.Browser.Version>=3?s(i):c.Browser.Opera&&c.Browser.Version<=12?function(l){for(var g=!0,d=e(l,!0);l!=null;)d+=l.offsetLeft,g||(d-=l.scrollLeft),l=l.offsetParent,g=!1;return d+=document.body.scrollLeft}(i):c.Browser.NetscapeFamily&&(!c.Browser.Firefox||c.Browser.Version<3)?function(l){for(var g=e(l,!0),d=!0;l!=null;){if(g+=l.offsetLeft,d||l.offsetParent==null||(g-=l.scrollLeft),!d&&c.Browser.Firefox){var f=r.getCurrentStyle(l);l.tagName==="DIV"&&f.overflow!=="visible"&&(g+=r.pxToInt(f.borderLeftWidth))}d=!1,l=l.offsetParent}return g}(i):c.Browser.WebKitFamily||c.Browser.Edge?s(i):function(l){for(var g=0,d=!0;l!=null;)g+=l.offsetLeft,d||l.offsetParent==null||(g-=l.scrollLeft),d=!1,l=l.offsetParent;return g}(i):0},r.isInteractiveControl=function(i){return["A","INPUT","SELECT","OPTION","TEXTAREA","BUTTON","IFRAME"].indexOf(i.tagName)>-1},r.getClearClientHeight=function(i){return i.offsetHeight-(r.getTopBottomPaddings(i)+r.getVerticalBordersWidth(i))},r.getTopBottomPaddings=function(i,s){var l=s||r.getCurrentStyle(i);return r.pxToInt(l.paddingTop)+r.pxToInt(l.paddingBottom)},r.getVerticalBordersWidth=function(i,s){p.isDefined(s)||(s=c.Browser.IE&&c.Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(i):r.getCurrentStyle(i));var l=0;return s.borderTopStyle!=="none"&&(l+=r.pxToFloat(s.borderTopWidth)),s.borderBottomStyle!=="none"&&(l+=r.pxToFloat(s.borderBottomWidth)),l},r.getNodes=function(i,s){for(var l=i.all||i.getElementsByTagName("*"),g=[],d=0;d<l.length;d++){var f=l[d];s(f)&&g.push(f)}return g},r.getChildNodes=function(i,s){for(var l=i.childNodes,g=[],d=0;d<l.length;d++){var f=l[d];s(f)&&g.push(f)}return g},r.getNodesByClassName=function(i,s){if(i.querySelectorAll){var l=i.querySelectorAll("."+s),g=[];return l.forEach(function(d){return g.push(d)}),g}return r.getNodes(i,function(d){return r.hasClassName(d,s)})},r.getChildNodesByClassName=function(i,s){return i.querySelectorAll?function(l,g){for(var d=[],f=0;f<l.length;f++){var y=l[f];g(y)&&d.push(y)}return d}(i.querySelectorAll("."+s),function(l){return l.parentNode===i}):r.getChildNodes(i,function(l){return!!r.isElementNode(l)&&p.isNonNullString(l.className)&&r.hasClassName(l,l.className)})},r.getVerticalScrollBarWidth=function(){if(r.verticalScrollBarWidth===void 0){var i=document.createElement("DIV");i.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box",document.body.appendChild(i);var s=document.createElement("P");i.appendChild(s),s.style.cssText="width: 100%; height: 200px;";var l=s.offsetWidth;i.style.overflow="scroll";var g=s.offsetWidth;l===g&&(g=i.clientWidth),r.verticalScrollBarWidth=l-g,document.body.removeChild(i)}return r.verticalScrollBarWidth},r.getHorizontalBordersWidth=function(i,s){p.isDefined(s)||(s=c.Browser.IE&&window.getComputedStyle?window.getComputedStyle(i):r.getCurrentStyle(i));var l=0;return s.borderLeftStyle!=="none"&&(l+=r.pxToFloat(s.borderLeftWidth)),s.borderRightStyle!=="none"&&(l+=r.pxToFloat(s.borderRightWidth)),l},r.getFontFamiliesFromCssString=function(i){return i.split(",").map(function(s){return o.StringUtils.trim(s.replace(/'|"/gi,""))})},r.getInnerText=function(i){if(c.Browser.Safari&&c.Browser.MajorVersion<=5){r.html2PlainTextFilter===null&&(r.html2PlainTextFilter=document.createElement("DIV"),r.html2PlainTextFilter.style.width="0",r.html2PlainTextFilter.style.height="0",r.html2PlainTextFilter.style.overflow="visible",r.html2PlainTextFilter.style.display="none",document.body.appendChild(r.html2PlainTextFilter));var s=r.html2PlainTextFilter;s.innerHTML=i.innerHTML,s.style.display="";var l=s.innerText;return s.style.display="none",l}return c.Browser.NetscapeFamily||c.Browser.WebKitFamily||c.Browser.IE&&c.Browser.Version>=9||c.Browser.Edge?i.textContent:i.innerText},r.html2PlainTextFilter=null,r.verticalScrollBarWidth=void 0,r}();function n(r,i){var s=0;if(p.isDefined(r)&&r!=="")try{var l=r.indexOf("px");l>-1&&(s=i(r.substr(0,l)))}catch{}return s}function e(r,i){for(var s=0,l=!0;r!=null&&r.tagName!=="BODY";){var g=t.getCurrentStyle(r);if(g.position==="absolute")break;l||r.tagName!=="DIV"||g.position!==""&&g.position!=="static"||(s-=i?r.scrollLeft:r.scrollTop),r=r.parentNode,l=!1}return s}u.DomUtils=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventSource=u.TaskTitlePosition=u.Position=u.ViewType=void 0,function(c){c[c.TenMinutes=0]="TenMinutes",c[c.Hours=1]="Hours",c[c.SixHours=2]="SixHours",c[c.Days=3]="Days",c[c.Weeks=4]="Weeks",c[c.Months=5]="Months",c[c.Quarter=6]="Quarter",c[c.Years=7]="Years",c[c.FiveYears=8]="FiveYears"}(u.ViewType||(u.ViewType={})),function(c){c[c.Left=0]="Left",c[c.Top=1]="Top",c[c.Right=2]="Right",c[c.Bottom=3]="Bottom"}(u.Position||(u.Position={})),function(c){c[c.Inside=0]="Inside",c[c.Outside=1]="Outside",c[c.None=2]="None"}(u.TaskTitlePosition||(u.TaskTitlePosition={})),function(c){c[c.TaskArea=0]="TaskArea",c[c.TaskEdit_Frame=1]="TaskEdit_Frame",c[c.TaskEdit_Progress=2]="TaskEdit_Progress",c[c.TaskEdit_Start=3]="TaskEdit_Start",c[c.TaskEdit_End=4]="TaskEdit_End",c[c.TaskEdit_DependencyStart=5]="TaskEdit_DependencyStart",c[c.TaskEdit_DependencyFinish=6]="TaskEdit_DependencyFinish",c[c.Successor_Wrapper=7]="Successor_Wrapper",c[c.Successor_DependencyStart=8]="Successor_DependencyStart",c[c.Successor_DependencyFinish=9]="Successor_DependencyFinish"}(u.TaskAreaEventSource||(u.TaskAreaEventSource={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Point=void 0;var c=function(){function p(a,o){this.x=a,this.y=o}return p.zero=function(){return new p(0,0)},p.fromNumber=function(a){return new p(a,a)},p.prototype.isZero=function(){return this.x===0&&this.y===0},p.prototype.toString=function(){return JSON.stringify(this)},p.prototype.copyFrom=function(a){this.x=a.x,this.y=a.y},p.prototype.clone=function(){return new p(this.x,this.y)},p.prototype.equals=function(a){return this.x===a.x&&this.y===a.y},p.prototype.offset=function(a,o){return this.x+=a,this.y+=o,this},p.prototype.offsetByPoint=function(a){return this.x+=a.x,this.y+=a.y,this},p.prototype.multiply=function(a,o){return this.x*=a,this.y*=o,this},p.prototype.negative=function(){return this.x*=-1,this.y*=-1,this},p.prototype.applyConverter=function(a){return this.x=a(this.x),this.y=a(this.y),this},p.plus=function(a,o){return new p(a.x+o.x,a.y+o.y)},p.minus=function(a,o){return new p(a.x-o.x,a.y-o.y)},p.xComparer=function(a,o){return a.x-o.x},p.yComparer=function(a,o){return a.y-o.y},p.equals=function(a,o){return a.x===o.x&&a.y===o.y},p}();u.Point=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CommandBase=void 0;var c=function(){function p(a){this.control=a}return Object.defineProperty(p.prototype,"modelManipulator",{get:function(){return this.control.modelManipulator},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"history",{get:function(){return this.control.history},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"validationController",{get:function(){return this.control.validationController},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"state",{get:function(){return this._state||(this._state=this.getState()),this._state},enumerable:!1,configurable:!0}),p.prototype.execute=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];if(!this.state.enabled)return!1;var t=this.executeInternal.apply(this,a);return t&&this.control.barManager.updateItemsState([]),t},p.prototype.isEnabled=function(){return this.control.settings.editing.enabled},p.prototype.executeInternal=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];throw new Error("Not implemented")},p}();u.CommandBase=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.SimpleCommandState=void 0;var c=function(p,a){this.visible=!0,this.enabled=p,this.value=a};u.SimpleCommandState=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DateTimeUtils=void 0;var c=h(55),p=h(56),a=h(1),o=h(19),t=h(57),n=function(){function e(){}return e.compareDates=function(r,i){return r&&i?i.getTime()-r.getTime():-1},e.areDatesEqual=function(r,i){return this.compareDates(r,i)==0},e.getMaxDate=function(r,i){return r||i?r?i&&this.compareDates(r,i)>0?i:r:i:null},e.getMinDate=function(r,i){return r||i?r?i?this.compareDates(r,i)>0?r:i:r:i:null},e.getDaysBetween=function(r,i){var s=Math.abs(i.getTime()-r.getTime());return Math.ceil(s/this.msInDay)},e.getWeeksBetween=function(r,i){var s=this.getDaysBetween(r,i),l=Math.floor(s/7);return r.getDay()>i.getDay()&&l++,l},e.getMonthsDifference=function(r,i){var s=this.compareDates(r,i),l=s>=0?r:i,g=s>=0?i:r;return 12*(g.getFullYear()-l.getFullYear())+(g.getMonth()-l.getMonth())},e.getYearsDifference=function(r,i){return Math.abs(i.getFullYear()-r.getFullYear())},e.getDayNumber=function(r){return Math.ceil(r.getTime()/this.msInDay)},e.getDateByDayNumber=function(r){var i=new Date(r*this.msInDay);return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i},e.addDays=function(r,i){return new Date(r.getTime()+i*this.msInDay)},e.checkDayOfMonth=function(r,i){return r==i.getDate()},e.checkDayOfWeek=function(r,i){return r==i.getDay()},e.checkMonth=function(r,i){return r==i.getMonth()},e.checkYear=function(r,i){return r==i.getFullYear()},e.checkDayOfWeekOccurrenceInMonth=function(r,i,s){var l=this.getSpecificDayOfWeekInMonthDates(i,r.getFullYear(),r.getMonth());return s==t.DayOfWeekMonthlyOccurrence.Last?this.areDatesEqual(r,l[l.length-1]):this.areDatesEqual(r,l[s])},e.getFirstDayOfWeekInMonth=function(r,i){return new Date(r,i,1).getDay()},e.getSpecificDayOfWeekInMonthDates=function(r,i,s){for(var l=this.getFirstDayOfWeekInMonth(i,s),g=r>=l?r-l:r+7-l,d=new Array,f=new Date(i,s,g+1);f.getMonth()==s;)d.push(f),f=this.addDays(f,7);return d},e.getSpecificDayOfWeekInMonthDate=function(r,i,s,l){var g=this.getSpecificDayOfWeekInMonthDates(r,i,s);return l==t.DayOfWeekMonthlyOccurrence.Last?g[g.length-1]:g[l]},e.checkValidDayInMonth=function(r,i,s){return!(s<1||s>31||new Date(r,i,s).getMonth()!=i)},e.getNextMonth=function(r,i){return i===void 0&&(i=1),(r+i)%12},e.convertToDate=function(r){if(r instanceof Date)return new Date(r);var i=Date.parse(r);return isNaN(i)?null:new Date(i)},e.convertTimeRangeToDateRange=function(r,i){var s=this.getDateByDayNumber(i),l=s.getFullYear(),g=s.getMonth(),d=s.getDate(),f=r.start,y=new Date(l,g,d,f.hour,f.min,f.sec,f.msec),m=r.end,v=new Date(l,g,d,m.hour,m.min,m.sec,m.msec);return new o.DateRange(y,v)},e.convertToTimeRanges=function(r){var i=this;return r instanceof Array?r.map(function(s){return i.convertToTimeRange(s)}):this.parseTimeRanges(r)},e.convertToTimeRange=function(r){return r?r instanceof p.TimeRange?r:(0,a.isDefined)(r.start)&&(0,a.isDefined)(r.end)?new p.TimeRange(this.convertToTime(r.start),this.convertToTime(r.end)):this.parseTimeRange(r):null},e.convertToTime=function(r){return r?r instanceof c.Time?r:r instanceof Date?this.getTimeGromJsDate(r):this.parseTime(r):null},e.parseTimeRanges=function(r){var i=this;return r?r.split(/;|,/).map(function(s){return i.parseTimeRange(s)}).filter(function(s){return!!s}):null},e.parseTimeRange=function(r){if(!r)return null;var i=r.split("-"),s=i[0],l=i[1];return(0,a.isDefined)(s)&&(0,a.isDefined)(l)?new p.TimeRange(this.parseTime(s),this.parseTime(l)):null},e.parseTime=function(r){if(!r)return null;var i=r.split(":"),s=parseInt(i[0])||0,l=parseInt(i[1])||0,g=parseInt(i[2])||0,d=parseInt(i[3])||0;return new c.Time(s,l,g,d)},e.getTimeGromJsDate=function(r){if(!r)return null;var i=r.getHours(),s=r.getMinutes(),l=r.getSeconds(),g=r.getMilliseconds();return new c.Time(i,s,l,g)},e.caclTimeDifference=function(r,i){return i.getTimeInMilleconds()-r.getTimeInMilleconds()},e.areTimesEqual=function(r,i){return this.caclTimeDifference(r,i)==0},e.getMaxTime=function(r,i){return r||i?r?i&&this.caclTimeDifference(r,i)>0?i:r:i:null},e.getMinTime=function(r,i){return r||i?r?i?this.caclTimeDifference(r,i)>0?r:i:r:i:null},e.getLastTimeOfDay=function(){return new c.Time(23,59,59,999)},e.msInDay=864e5,e}();u.DateTimeUtils=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EvtUtils=void 0;var c=h(10),p=h(1),a=h(3),o=h(167),t=function(){function n(){}return n.preventEvent=function(e){e.cancelable&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},n.getEventSource=function(e){return p.isDefined(e)?n.getEventSourceCore(e):null},n.getEventSourceByPosition=function(e){if(!p.isDefined(e))return null;if(!document.elementFromPoint)return n.getEventSourceCore(e);var r=n.getEventX(e)-(n.clientEventRequiresDocScrollCorrection()?a.DomUtils.getDocumentScrollLeft():0),i=n.getEventY(e)-(n.clientEventRequiresDocScrollCorrection()?a.DomUtils.getDocumentScrollTop():0);return r===void 0||i===void 0?n.getEventSourceCore(e):document.elementFromPoint(r,i)},n.getEventSourceCore=function(e){return e.srcElement?e.srcElement:e.target},n.getMouseWheelEventName=function(){return c.Browser.Safari?"mousewheel":c.Browser.NetscapeFamily&&c.Browser.MajorVersion<17?"DOMMouseScroll":"wheel"},n.isLeftButtonPressed=function(e){return!!o.TouchUtils.isTouchEvent(e)||!!(e=c.Browser.IE&&p.isDefined(event)?event:e)&&(c.Browser.IE&&c.Browser.Version<11?!!c.Browser.MSTouchUI||e.button%2==1:c.Browser.WebKitFamily?e.type==="pointermove"||e.type==="pointerenter"||e.type==="pointerleave"?e.buttons===1:e.which===1:c.Browser.NetscapeFamily||c.Browser.Edge||c.Browser.IE&&c.Browser.Version>=11?n.isMoveEventName(e.type)?e.buttons===1:e.which===1:!c.Browser.Opera||e.button===0)},n.isMoveEventName=function(e){return e===o.TouchUtils.touchMouseMoveEventName||e===n.getMoveEventName()},n.getMoveEventName=function(){return window.PointerEvent?"pointermove":c.Browser.TouchUI?"touchmove":"mousemove"},n.preventEventAndBubble=function(e){n.preventEvent(e),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},n.clientEventRequiresDocScrollCorrection=function(){var e=c.Browser.Safari&&c.Browser.Version<3,r=c.Browser.MacOSMobilePlatform&&c.Browser.Version<5.1;return c.Browser.AndroidDefaultBrowser||c.Browser.AndroidChromeBrowser||!(e||r)},n.getEventX=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventX(e):e.clientX+(n.clientEventRequiresDocScrollCorrection()?a.DomUtils.getDocumentScrollLeft():0)},n.getEventY=function(e){return o.TouchUtils.isTouchEvent(e)?o.TouchUtils.getEventY(e):e.clientY+(n.clientEventRequiresDocScrollCorrection()?a.DomUtils.getDocumentScrollTop():0)},n.cancelBubble=function(e){e.cancelBubble=!0},n.getWheelDelta=function(e){var r;return r=c.Browser.NetscapeFamily&&c.Browser.MajorVersion<17?-e.detail:c.Browser.Safari?e.wheelDelta:-e.deltaY,c.Browser.Opera&&c.Browser.Version<9&&(r=-r),r},n}();u.EvtUtils=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Browser=void 0;var c=function(){function p(){}return p.IdentUserAgent=function(a,o){o===void 0&&(o=!1);var t=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"],n={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(a&&a.length!==0){a=a.toLowerCase(),p.indentPlatformMajorVersion(a);try{for(var e={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"},r="(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",i={Safari:"applewebkit(?:.*?(?:version/(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)(?:/|\\s*)?"+r,Mozilla:"mozilla(?:.*rv:"+r+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+r,Firefox:"firefox(?:/|\\s*)?"+r,Opera:"(?:opera|\\sopr)(?:/|\\s*)?"+r,Opera10:"opera.*\\s*version(?:/|\\s*)?"+r,IE:"msie\\s*"+r,Edge:"edge(?:/|\\s*)?"+r},s=null,l=-1,g=0;g<t.length;g++){var d=t[g],f=new RegExp(i[d],"i").exec(a);if(f&&f.index>=0){if(s==="IE"&&l>=11&&d==="Safari")continue;(s=d)==="Opera10"&&(s="Opera"),l=p.GetBrowserVersion(a,f,"trident(?:/|\\s*)?(?:(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?)?",p.getIECompatibleVersionString()),s==="Mozilla"&&l>=11&&(s="IE")}}s||(s="IE");var y=l!==-1;y||(l=n[s]);var m=null,v=Number.MAX_VALUE;for(var T in e)if(Object.prototype.hasOwnProperty.call(e,T)){var b=T.substr(0,1)==="!",w=a.indexOf((b?T.substr(1):T).toLowerCase());w>=0&&(w<v||b)&&(v=b?0:w,m=e[T])}var A=a.toUpperCase().match("SM-[A-Z]"),I=A&&A.length>0;m==="WinPhone"&&l<9&&(l=Math.floor(p.getVersionFromTrident(a,"trident(?:/|\\s*)?"+r))),!o&&s==="IE"&&l>7&&document.documentMode<l&&(l=document.documentMode),m==="WinPhone"&&(l=Math.max(9,l)),m||(m="Win"),m!==e["cpu os"]||y||(l=4),p.fillUserAgentInfo(t,s,l,m,I)}catch{p.fillUserAgentInfo(t,"IE",n.IE,"Win")}}else p.fillUserAgentInfo(t,"IE",n.IE,"Win")},p.GetBrowserVersion=function(a,o,t,n){var e=p.getVersionFromMatches(o);if(n){var r=p.getVersionFromTrident(a,t);if(n==="edge"||parseInt(n)===r)return r}return e},p.getIECompatibleVersionString=function(){if(document.compatible){for(var a=0;a<document.compatible.length;a++)if(document.compatible[a].userAgent==="IE"&&document.compatible[a].version)return document.compatible[a].version.toLowerCase()}return""},p.isTouchEnabled=function(){return p.hasTouchStart()||p.hasMaxTouchPoints()||p.hasMsMaxTouchPoints()},p.hasTouchStart=function(){return"ontouchstart"in window},p.hasMaxTouchPoints=function(){return navigator.maxTouchPoints>0},p.hasMsMaxTouchPoints=function(){return navigator.msMaxTouchPoints>0},p.hasNavigator=function(){return typeof navigator<"u"},p.fillUserAgentInfo=function(a,o,t,n,e){e===void 0&&(e=!1);for(var r=0;r<a.length;r++){var i=a[r];p[i]=i===o}p.Version=Math.floor(10*t)/10,p.MajorVersion=Math.floor(p.Version),p.WindowsPlatform=n==="Win"||n==="WinPhone",p.MacOSMobilePlatform=n==="MacMobile"||n==="Mac"&&p.isTouchEnabled(),p.MacOSPlatform=n==="Mac"&&!p.MacOSMobilePlatform,p.AndroidMobilePlatform=n==="Android",p.WindowsPhonePlatform=n==="WinPhone",p.WebKitFamily=p.Safari||p.Chrome||p.Opera&&p.MajorVersion>=15,p.NetscapeFamily=p.Netscape||p.Mozilla||p.Firefox,p.WebKitTouchUI=p.MacOSMobilePlatform||p.AndroidMobilePlatform;var s=p.IE&&p.MajorVersion>9&&p.WindowsPlatform&&p.UserAgent.toLowerCase().indexOf("touch")>=0;if(p.MSTouchUI=s||p.Edge&&!!window.navigator.maxTouchPoints,p.TouchUI=p.WebKitTouchUI||p.MSTouchUI,p.MobileUI=p.WebKitTouchUI||p.WindowsPhonePlatform,p.AndroidDefaultBrowser=p.AndroidMobilePlatform&&!p.Chrome,p.AndroidChromeBrowser=p.AndroidMobilePlatform&&p.Chrome,e&&(p.SamsungAndroidDevice=e),p.MSTouchUI){var l=p.UserAgent.toLowerCase().indexOf("arm;")>-1;p.VirtualKeyboardSupported=l||p.WindowsPhonePlatform}else p.VirtualKeyboardSupported=p.WebKitTouchUI;p.fillDocumentElementBrowserTypeClassNames(a)},p.indentPlatformMajorVersion=function(a){var o=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/.exec(a);o&&(p.PlaformMajorVersion=o[1])},p.getVersionFromMatches=function(a){var o=-1,t="";return a&&(a[1]&&(t+=a[1],a[2]&&(t+="."+a[2])),t!==""&&(o=parseFloat(t),isNaN(o)&&(o=-1))),o},p.getVersionFromTrident=function(a,o){var t=new RegExp(o,"i").exec(a);return p.getVersionFromMatches(t)+4},p.fillDocumentElementBrowserTypeClassNames=function(a){for(var o="",t=a.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser"]),n=0;n<t.length;n++){var e=t[n];p[e]&&(o+="dx"+e+" ")}o+="dxBrowserVersion-"+p.MajorVersion,typeof document<"u"&&document&&document.documentElement&&(document.documentElement.className!==""&&(o=" "+o),document.documentElement.className+=o,p.Info=o)},p.getUserAgent=function(){return p.hasNavigator()&&navigator.userAgent?navigator.userAgent.toLowerCase():""},p.UserAgent=p.getUserAgent(),p._foo=p.IdentUserAgent(p.UserAgent),p}();u.Browser=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.BaseArguments=void 0;var c=function(p){this.cancel=!1,this.values={},this.key=p};u.BaseArguments=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Size=void 0;var c=function(){function p(a,o){this.width=a,this.height=o}return p.empty=function(){return new p(0,0)},p.fromNumber=function(a){return new p(a,a)},p.initByCommonAction=function(a){var o=function(n){return n.width},t=function(n){return n.height};return new p(a(o,t),a(t,o))},p.prototype.isEmpty=function(){return this.width===0&&this.height===0},p.prototype.toString=function(){return JSON.stringify(this)},p.prototype.nonNegativeSize=function(){return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this},p.prototype.offset=function(a,o){return this.width=this.width+a,this.height=this.height+o,this},p.prototype.multiply=function(a,o){return this.width*=a,this.height*=o,this},p.prototype.equals=function(a){return this.width===a.width&&this.height===a.height},p.prototype.clone=function(){return new p(this.width,this.height)},p.prototype.copyFrom=function(a){this.width=a.width,this.height=a.height},p.prototype.applyConverter=function(a){return this.width=a(this.width),this.height=a(this.height),this},p.equals=function(a,o){return a.width===o.width&&a.height===o.height},p}();u.Size=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateEventNames=void 0;var c=function(){function p(){}return p.TASK_AREA_CLICK="taskAreaClick",p.TASK_AREA_DBLCLICK="taskAreaDblClick",p.TASK_AREA_SCROLL="taskAreaScroll",p.TASK_AREA_START_MOVE="taskAreaStartMove",p.TASK_AREA_PROCESS_MOVE="taskAreaProcessMove",p.TASK_AREA_END_MOVE="taskAreaEndMove",p.TASK_AREA_ZOOM_IN="taskAreaZoomIn",p.TASK_AREA_ZOOM_OUT="taskAreaZoomOut",p.CONTEXTMENU_SHOW="contextMenuShow",p.CONTEXTMENU_HIDE="contextMenuHide",p.DEPENDENCY_SELECTION="dependencySelection",p.STATE_EXIT="stateExit",p.TASK_SELECTION="taskSelection",p.TASK_EDIT_START="taskEditStart",p.TASK_EDIT_END="taskEditEnd",p.TASK_LEAVE="taskLeave",p.TASK_PROCESS_MOVE="taskProcessMove",p.TASK_END_MOVE="taskEndMove",p.TASK_PROCESS_PROGRESS="taskProcessProgress",p.TASK_END_PROGRESS="taskEndProgress",p.TASK_PROCESS_START="taskProcessStart",p.TASK_CONFIRM_START="taskConfirmStart",p.TASK_PROCESS_END="taskProcessEnd",p.TASK_CONFIRM_END="taskConfirmEnd",p.GET_DEPENDENCY_POINTS="getDependencyPoints",p.DEPENDENCY_START="dependencyStart",p.DEPENDENCY_PROCESS="dependencyProcess",p.DEPENDENCY_END="dependencyEnd",p.TASK_AREA_KEY_DOWN="taskAreaKeyDown",p.GET_POINTERS_INFO="getPointersInfo",p.GET_COORDINATES_REF_POINT="getCoordinatesRefPoint",p}();u.TaskAreaStateEventNames=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItem=void 0;var c=function(){function p(a){this.setModelManipulator(a)}return p.prototype.setModelManipulator=function(a){this.modelManipulator=a},Object.defineProperty(p.prototype,"keyUpdaters",{get:function(){return[]},enumerable:!1,configurable:!0}),p}();u.HistoryItem=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DateUtils=void 0;var c=h(4),p=function(){function a(){}var o;return a.getDaysInQuarter=function(t){var n=3*Math.floor(t.getMonth()/3);return[n,n+1,n+2].reduce(function(e,r){return e+a.getDaysInMonth(r,t.getFullYear())},0)},a.getDaysInMonth=function(t,n){return new Date(n,t+1,0).getDate()},a.getOffsetInMonths=function(t,n){return 12*(n.getFullYear()-t.getFullYear())+n.getMonth()-t.getMonth()},a.getOffsetInQuarters=function(t,n){return 4*(n.getFullYear()-t.getFullYear())+Math.floor(n.getMonth()/3)-Math.floor(t.getMonth()/3)},a.getNearestScaleTickDate=function(t,n,e,r){var i=new Date,s=n.start.getTime(),l=n.end.getTime();if(i.setTime(t.getTime()),t.getTime()<s)i.setTime(s);else if(t.getTime()>l)i.setTime(l);else if(this.needCorrectDate(t,s,e,r)){var g=this.getNearestLeftTickTime(t,s,e,r),d=this.getNextTickTime(g,e,r);Math.abs(t.getTime()-g)>Math.abs(t.getTime()-d)?i.setTime(d):i.setTime(g)}return i},a.needCorrectDate=function(t,n,e,r){return r==c.ViewType.Months?t.getTime()!==new Date(t.getFullYear(),t.getMonth(),1).getTime():(t.getTime()-n)%e!=0},a.getNearestLeftTickTime=function(t,n,e,r){return r==c.ViewType.Months?new Date(t.getFullYear(),t.getMonth(),1).getTime():n+Math.floor((t.getTime()-n)/e)*e},a.getNextTickTime=function(t,n,e){if(e==c.ViewType.Months){var r=new Date;return r.setTime(t),r.setMonth(r.getMonth()+1),r.getTime()}return t+n},a.adjustStartDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case c.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours());case c.ViewType.SixHours:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate());case c.ViewType.Days:case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+e);case c.ViewType.Months:case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear(),0,1);default:return new Date}},a.adjustEndDateByViewType=function(t,n,e){switch(e===void 0&&(e=0),n){case c.ViewType.TenMinutes:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()+1);case c.ViewType.SixHours:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);case c.ViewType.Days:case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()+7-t.getDay()+e);case c.ViewType.Months:case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear()+1,0,1);default:return new Date}},a.roundStartDate=function(t,n){switch(n){case c.ViewType.TenMinutes:case c.ViewType.Hours:return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()-1);case c.ViewType.SixHours:case c.ViewType.Days:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-1);case c.ViewType.Weeks:return new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay());case c.ViewType.Months:return new Date(t.getFullYear(),t.getMonth()-1);case c.ViewType.Quarter:case c.ViewType.Years:return new Date(t.getFullYear()-1,0,1);default:return new Date}},a.getTickTimeSpan=function(t){switch(t){case c.ViewType.TenMinutes:return a.msPerHour/6;case c.ViewType.Hours:return a.msPerHour;case c.ViewType.SixHours:return 6*a.msPerHour;case c.ViewType.Days:return a.msPerDay;case c.ViewType.Weeks:return a.msPerWeek;case c.ViewType.Months:return a.msPerMonth;case c.ViewType.Quarter:return 3*a.msPerMonth;case c.ViewType.Years:return a.msPerYear}},a.getRangeTickCount=function(t,n,e){return e===c.ViewType.Months?this.getRangeTickCountInMonthsViewType(t,n):e===c.ViewType.Quarter?this.getRangeTickCountInQuarterViewType(t,n):a.getRangeMSPeriod(t,n)/a.getTickTimeSpan(e)},a.getRangeMSPeriod=function(t,n){return n.getTime()-a.getDSTDelta(t,n)-t.getTime()},a.getRangeTickCountInMonthsViewType=function(t,n){var e=new Date(t.getFullYear(),t.getMonth(),1),r=new Date(n.getFullYear(),n.getMonth(),1);return a.getOffsetInMonths(e,r)+(n.getTime()-r.getTime())/(a.getDaysInMonth(n.getMonth(),n.getFullYear())*a.msPerDay)-(t.getTime()-e.getTime())/(a.getDaysInMonth(t.getMonth(),t.getFullYear())*a.msPerDay)},a.getRangeTickCountInQuarterViewType=function(t,n){var e=new Date(t.getFullYear(),3*Math.floor(t.getMonth()/3),1),r=new Date(n.getFullYear(),3*Math.floor(n.getMonth()/3),1);return a.getOffsetInQuarters(e,r)+(n.getTime()-r.getTime())/(a.getDaysInQuarter(r)*a.msPerDay)-(t.getTime()-e.getTime())/(a.getDaysInQuarter(e)*a.msPerDay)},a.parse=function(t){return typeof t=="function"?new Date(t()):new Date(t)},a.getOrCreateUTCDate=function(t){var n=t.getTimezoneOffset();return n?new Date(t.valueOf()+6e4*n):t},a.getTimezoneOffsetDiff=function(t,n){return n.getTimezoneOffset()-t.getTimezoneOffset()},a.getDSTDelta=function(t,n){var e=a.getTimezoneOffsetDiff(t,n)*a.msPerMinute;return e>0?e:0},a.getDSTCorrectedTaskEnd=function(t,n){var e=t.getTime()+n,r=a.getDSTDelta(t,new Date(e));return new Date(e+r)},a.msPerMinute=6e4,a.msPerHour=36e5,a.msPerDay=24*a.msPerHour,a.msPerWeek=7*a.msPerDay,a.msPerMonth=30*a.msPerDay,a.msPerYear=365*a.msPerDay,a.ViewTypeToScaleMap=((o={})[c.ViewType.TenMinutes]=c.ViewType.Hours,o[c.ViewType.Hours]=c.ViewType.Days,o[c.ViewType.SixHours]=c.ViewType.Days,o[c.ViewType.Days]=c.ViewType.Weeks,o[c.ViewType.Weeks]=c.ViewType.Months,o[c.ViewType.Months]=c.ViewType.Years,o[c.ViewType.Quarter]=c.ViewType.Years,o[c.ViewType.Years]=c.ViewType.FiveYears,o),a}();u.DateUtils=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RenderElementUtils=void 0;var c=function(){function p(){}return p.create=function(a,o,t,n){var e=document.createElement("DIV");for(var r in a.assignToElement(e),t.appendChild(e),n&&(n instanceof Array&&o!==null?n[o]=e:n[a.id]=e),a.attr)Object.prototype.hasOwnProperty.call(a.attr,r)&&e.setAttribute(r,a.attr[r]);for(var r in a.style)Object.prototype.hasOwnProperty.call(a.style,r)&&(e.style[r]=a.style[r]);return e},p.remove=function(a,o,t,n){var e;n instanceof Array&&o!==null?(e=n[o],delete n[o]):(e=n[a.id],delete n[a.id]),e&&e.parentNode==t&&t.removeChild(e)},p.recreate=function(a,o,t,n){a.filter(function(e){return o.indexOf(e)===-1}).forEach(function(e){t(e)}),o.filter(function(e){return a.indexOf(e)===-1}).forEach(function(e){n(e)})},p}();u.RenderElementUtils=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Color=void 0;var c=h(1),p=function(){function a(o){this._num=null,this._opacity=1,this._rgb=null,this.assign(o)}return Object.defineProperty(a.prototype,"opacity",{get:function(){return this._opacity},enumerable:!1,configurable:!0}),a.prototype.hasValue=function(){return(0,c.isDefined)(this._num)||!!this._rgb||this._opacity===0},a.prototype.getValue=function(){return!(this._opacity===0&&!this._rgb)&&((0,c.isDefined)(this._num)?this._num:this._rgb?this.getRBGColor():null)},a.prototype.assign=function(o){this.reset(),typeof o=="string"&&this.assignFromString(o),typeof o=="number"&&(this._num=o),o instanceof Array&&this.assignFromRgbArray(o),o instanceof a&&this.assignFromColor(o)},a.prototype.reset=function(){this._opacity=1,this._num=null,this._rgb=null},a.prototype.assignFromString=function(o){o&&(o==="transparent"&&(this._opacity=0),o.indexOf("#")===0&&this.assignFromHexString(o),o.substr(0,3).toLowerCase()==="rgb"&&this.assignFromRgbString(o))},a.prototype.assignFromHexString=function(o){if(o.length===4&&(o="#"+o[1].repeat(2)+o[2].repeat(2)+o[3].repeat(2)),o.length>6){var t=parseInt(o.substr(1,2),16),n=parseInt(o.substr(3,2),16),e=parseInt(o.substr(5,2),16);this._rgb=[t,n,e]}},a.prototype.assignFromRgbString=function(o){var t=o.substr(0,4).toLowerCase()==="rgba",n=o.toLowerCase().match(t?a.rgbaRegexp:a.rgbRegexp);if(n){var e=parseInt(n[1]),r=parseInt(n[2]),i=parseInt(n[3]);this._rgb=[e,r,i],t&&(this._opacity=parseFloat(n[4]))}},a.prototype.assignFromRgbArray=function(o){o&&o.length>2&&(this._rgb=[o[0],o[1],o[2]],(0,c.isDefined)(o[3])&&(this._opacity=o[3]))},a.prototype.assignFromColor=function(o){this._opacity=o._opacity,this._num=o._num,this._rgb=o._rgb},a.prototype.getRBGColor=function(){return this._rgb?this._rgb:[0,0,0]},a.prototype.applyOpacityToBackground=function(o){if(this._opacity!==1){var t=(o instanceof a?o:new a(o)).getValue();if(t instanceof Array){var n=this.opacity,e=Math.round((1-n)*t[0]+n*this._rgb[0]),r=Math.round((1-n)*t[1]+n*this._rgb[1]),i=Math.round((1-n)*t[2]+n*this._rgb[2]);this._rgb=[e,r,i]}}},a.rgbRegexp=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/,a.rgbaRegexp=/rgba?\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,?\s*([0-9]*\.?[0-9]*)\s*\)/,a}();u.Color=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MathUtils=void 0;var c=h(82),p=function(){function a(){}return a.round=function(o,t){t===void 0&&(t=0);var n=a.powFactor[t];return Math.round(o*n)/n},a.numberCloseTo=function(o,t,n){return n===void 0&&(n=1e-5),Math.abs(o-t)<n},a.restrictValue=function(o,t,n){return n<t&&(n=t),o>n?n:o<t?t:o},a.getRandomInt=function(o,t){return Math.floor(Math.random()*(t-o+1))+o},a.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var t=16*Math.random()|0;return(o==="x"?t:3&t|8).toString(16)})},a.powFactor=c.ListUtils.initByCallback(20,function(o){return Math.pow(10,o)}),a.somePrimes=[1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003],a}();u.MathUtils=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DateRange=void 0;var c=function(){function p(a,o){this.start=a,this.end=o}return p.prototype.equal=function(a){var o=!0;return o=(o=o&&this.start.getTime()===a.start.getTime())&&this.end.getTime()===a.end.getTime()},p}();u.DateRange=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DialogBase=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e._canRefresh=!0,e}return c.__extends(n,t),n.prototype.execute=function(e,r){return e===void 0&&(e=void 0),r===void 0&&(r=!1),this.isApiCall=r,t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){return this.options=e,this.showDialog(e)},Object.defineProperty(n.prototype,"canRefresh",{get:function(){return this._canRefresh},enumerable:!1,configurable:!0}),n.prototype.refresh=function(){this.showDialog(this.options)},n.prototype.showDialog=function(e){var r=this,i=this.createParameters(e),s=i.clone();return!!this.onBeforeDialogShow(i)&&(n.activeInstance=this,this.control.showDialog(this.getDialogName(),i,function(l){l&&(r._canRefresh=!1,r.applyParameters(l,s),r._canRefresh=!0)},function(){delete n.activeInstance,r.afterClosing()}),!0)},n.prototype.onBeforeDialogShow=function(e){return!0},n.prototype.applyParameters=function(e,r){return!1},n.prototype.afterClosing=function(){},n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n.activeInstance=null,n}(p.CommandBase);u.DialogBase=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceCollection=void 0;var c=h(0),p=h(22),a=h(48),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new a.Resource},n}(p.CollectionBase);u.ResourceCollection=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CollectionBase=void 0;var c=h(1),p=h(80),a=function(){function o(){this._items=new Array,this._isGanttCollection=!0}return o.prototype.add=function(t){if((0,c.isDefined)(t)){if(this.getItemById(t.internalId))throw"The collection item with id ='"+t.internalId+"' already exists.";this._addItem(t)}},o.prototype.addRange=function(t){for(var n=0;n<t.length;n++)this.add(t[n])},o.prototype.remove=function(t){var n=this._items.indexOf(t);n>-1&&n<this._items.length&&this._removeItems(n,1)},o.prototype.clear=function(){this._removeItems(0,this._items.length)},o.prototype.invalidate=function(){delete this._invertedItems},o.prototype._addItem=function(t){this._items.push(t),delete this._invertedItems},o.prototype._removeItems=function(t,n){this._items.splice(t,n),delete this._invertedItems},Object.defineProperty(o.prototype,"items",{get:function(){return this._items.slice()},set:function(t){t&&(this._items=t.slice())},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),o.prototype.getItem=function(t){return t>-1&&t<this._items.length?this._items[t]:null},Object.defineProperty(o.prototype,"invertedItems",{get:function(){var t;return(t=this._invertedItems)!==null&&t!==void 0||(this._invertedItems=this._createInvertedItems()),this._invertedItems},enumerable:!1,configurable:!0}),o.prototype._createInvertedItems=function(){for(var t={},n=0;n<this._items.length;n++){var e=this._items[n];t[e.internalId]=e}return t},o.prototype.getItemById=function(t){return this.invertedItems[t]},o.prototype.getItemByPublicId=function(t){return this._items.filter(function(n){return n.id===t||n.id.toString()===t})[0]},o.prototype.assign=function(t){(0,c.isDefined)(t)&&(this.items=t.items)},o.prototype.importFromObject=function(t){(0,c.isDefined)(t)&&(this.clear(),t._isGanttCollection?this.assign(t):t instanceof Array?this.importFromArray(t):this.createItemFromObjectAndAdd(t))},o.prototype.createItemFromObjectAndAdd=function(t){if((0,c.isDefined)(t)&&Object.keys(t).length>0){var n=this.createItem();n.assignFromObject(t),this.add(n)}},o.prototype.importFromArray=function(t){for(var n=0;n<t.length;n++)this.createItemFromObjectAndAdd(t[n])},o.prototype.importFromJSON=function(t){this.importFromObject(p.GanttJsonUtils.parseJson(t))},o}();u.CollectionBase=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyType=u.TaskType=void 0,function(c){c[c.Regular=0]="Regular",c[c.Summary=1]="Summary",c[c.Milestone=2]="Milestone"}(u.TaskType||(u.TaskType={})),function(c){c[c.FS=0]="FS",c[c.SS=1]="SS",c[c.FF=2]="FF",c[c.SF=3]="SF"}(u.DependencyType||(u.DependencyType={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskCommandBase=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isApiCall=!1,e}return c.__extends(n,t),n.prototype.getState=function(){var e=new a.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled&&!this.control.taskEditController.dependencyId,e},n.prototype.updateParent=function(e){this.validationController._parentAutoCalc&&e&&e.children.length>0&&this.control.validationController.updateParentsIfRequired(e.children[0].task.internalId)},n}(p.CommandBase);u.TaskCommandBase=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GridLayoutCalculator=void 0;var c=h(12),p=h(19),a=h(4),o=h(58),t=h(5),n=h(15),e=h(59),r=h(23),i=h(129),s=h(1),l=function(){function g(){this.tileToDependencyMap=[],this.tileToNoWorkingIntervalsMap=[],this.minLineLength=10,this.resourceMaxWidth=500,this.minTaskWidth=2,this._taskWrapperPoints=Array(),this._taskElementInfoList=Array(),this._scaleCalculator=new i.ScaleCalculator}return g.prototype.setSettings=function(d,f,y,m,v,T,b,w){b===void 0&&(b=0),w===void 0&&(w=0),this.visibleTaskAreaSize=d,this.tickSize=f,this._viewType=T,this.range=m,this.verticalTickCount=v.itemCount,this.viewModel=v,this.elementSizeValues=y,this.taskHeight=y.taskHeight,this.parentTaskHeight=y.parentTaskHeight,this.milestoneWidth=y.milestoneWidth,this.scaleHeight=y.scaleItemHeight,this.arrowSize=new c.Size(y.connectorArrowWidth,y.connectorArrowWidth),this.lineThickness=y.connectorLineThickness,this.minConnectorSpaceFromTask=(this.tickSize.height-this.taskHeight)/2,this.tickTimeSpan=n.DateUtils.getTickTimeSpan(T),this.scrollBarHeight=b,this.createTileToNonWorkingIntervalsMap(),this._scaleCalculator.setSettings(m,T,f,w),this.reset()},Object.defineProperty(g.prototype,"viewType",{get:function(){return this._viewType},set:function(d){this._viewType!==d&&(this._viewType=d,this._scaleCalculator.setViewType(d))},enumerable:!1,configurable:!0}),g.prototype.reset=function(){this._taskWrapperPoints=new Array,this._taskElementInfoList=Array()},g.prototype.resetTaskInfo=function(d){delete this._taskWrapperPoints[d],delete this._taskElementInfoList[d]},g.prototype.getTaskAreaBorderInfo=function(d,f){var y=f?this.getVerticalGridLineHeight():this.getTotalWidth();return this.getGridBorderInfo(d,f,y)},g.prototype.getTotalWidth=function(){return this._scaleCalculator.scaleWidth},g.prototype.getScaleBorderInfo=function(d,f){var y=new o.GridElementInfo,m=this._scaleCalculator;return y.setPosition(new t.Point(m.getScaleBorderPosition(d,f),void 0)),y.setSize(new c.Size(0,this.scaleHeight)),y.className="dx-gantt-vb",y},g.prototype.getGridBorderInfo=function(d,f,y){var m=new o.GridElementInfo;return m.setPosition(this.getGridBorderPosition(d,f)),y&&m.setSize(this.getGridBorderSize(f,y)),m.className=f?"dx-gantt-vb":"dx-gantt-hb",m},g.prototype.getGridBorderPosition=function(d,f){var y=new t.Point(void 0,void 0),m=this._scaleCalculator,v=f?m.getScaleBorderPosition(d,this.viewType):(d+1)*this.tickSize.height;return f?y.x=v:y.y=v,y},g.prototype.getGridBorderSize=function(d,f){var y=new c.Size(0,0);return d?y.height=f:y.width=f,y},g.prototype.getScaleElementInfo=function(d,f){var y=new o.GridElementInfo,m=this.getScaleItemInfo(d,f);if(m){y.setPosition(m.position),y.setSize(m.size),y.className=this.getScaleItemClassName(f,y,this.getRenderedNoWorkingIntervals(y.position.x));var v=this._scaleCalculator.getScaleItems(f);(d===0||d===v.length-1)&&(y.style.overflowX="hidden",y.style.textOverflow="ellipsis"),y.additionalInfo.range=new p.DateRange(m.start,m.end)}return y},g.prototype.getScaleItemStart=function(d,f){return this._scaleCalculator.getScaleItemAdjustedStart(d,f)},g.prototype.getScaleItemClassName=function(d,f,y){var m="dx-gantt-si";return d.valueOf()==this.viewType.valueOf()&&this.isScaleItemInsideNoWorkingInterval(f,y)&&(m+=" dx-gantt-holiday-scaleItem"),m},g.prototype.getScaleItemInfo=function(d,f){return this._scaleCalculator.getScaleItem(d,f)},g.prototype.getScaleRangesInArea=function(d,f){var y=n.DateUtils.ViewTypeToScaleMap[this.viewType],m=this._scaleCalculator,v=Math.max(m.getScaleIndexByPos(d,y),0),T=m.getScaleIndexByPos(f,y);T===-1&&(T=m.topScaleItems.length-1);var b=Math.max(m.getScaleIndexByPos(d),0),w=m.getScaleIndexByPos(f);return w===-1&&(w=m.bottomScaleItems.length-1),[[v,T],[b,w]]},g.prototype.isScaleItemInsideNoWorkingInterval=function(d,f){for(var y=d.position.x,m=d.position.x+d.size.width,v=0;v<f.length;v++){var T=f[v].position.x,b=f[v].position.x+f[v].size.width;if(y>=T&&m<=b)return!0}return!1},g.prototype.getScaleItemColSpan=function(d){return this._scaleCalculator.getScaleItemColSpan(d)},g.prototype.getTaskWrapperElementInfo=function(d){var f=new o.GridElementInfo;return f.className=this.getTaskWrapperClassName(d),f.setPosition(this.getTaskWrapperPoint(d)),f.setAttribute("task-index",d),f},g.prototype.getTaskWrapperClassName=function(d){var f="dx-gantt-taskWrapper",y=this.getViewItem(d);return y.task.isMilestone()&&!y.isCustom&&(f="dx-gantt-milestoneWrapper"),y.selected&&(f+=" dx-gantt-selectedTask"),f},g.prototype.getTaskWrapperPoint=function(d){if(!(0,s.isDefined)(this._taskWrapperPoints[d])){var f=this.getViewItem(d),y=this.getTaskHeight(d),m=d*this.tickSize.height+(this.tickSize.height-y)/2,v=new t.Point(this.getPosByDate(f.task.start),m);f.task.isMilestone()&&!f.isCustom&&(v.x-=y/2),this._taskWrapperPoints[d]=v}return this._taskWrapperPoints[d].clone()},g.prototype.getTaskElementInfo=function(d,f){if(f===void 0&&(f=!1),!(0,s.isDefined)(this._taskElementInfoList[d])){var y=new o.GridElementInfo,m=this.getTask(d),v=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(d);if(!m.isMilestone()){var T=this.getTaskWidth(d);y.size.width=this.getCorrectedTaskWidthByRange(d,T),y.size.width<T&&(y.additionalInfo.taskCut=!0),f&&(y.size.height=this.getTaskHeight(d))}y.className=this.getTaskClassName(d,y.size.width),m.color&&(y.style.backgroundColor=m.color,v&&(y.style.borderLeftColor=m.color,y.style.borderRightColor=m.color,y.style.borderTopColor=m.color)),this._taskElementInfoList[d]=y}return this._taskElementInfoList[d]},g.prototype.getTaskClassName=function(d,f){var y=g.taskClassName,m=this.getViewItem(d),v=this.viewModel.parentAutoCalc&&this.viewModel.taskHasChildrenByIndex(d);return m.task.isMilestone()&&!m.isCustom?y+=" "+g.milestoneClassName:(f<=this.elementSizeValues.smallTaskWidth&&(y+=" "+g.smallTaskClassName),v&&(y+=this.getAutoCalcParentTaskClassName(m.task))),y},g.prototype.getAutoCalcParentTaskClassName=function(d){var f=" "+g.parentTaskClassName;return d.progress==0&&(f+=" dx-gantt-noPrg"),d.progress>=100&&(f+=" dx-gantt-cmpl"),f},g.prototype.getTaskPoint=function(d){var f=this.getTaskWrapperPoint(d);return this.getTask(d).isMilestone()||(f.y+=this.elementSizeValues.taskWrapperTopPadding),f},g.prototype.getTaskSize=function(d){return new c.Size(this.getTaskWidth(d),this.getTaskHeight(d))},g.prototype.getTaskWidth=function(d){var f=this.getViewItem(d);return f.isCustom&&f.size.width?f.size.width:f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(d):Math.max(this.getWidthByDateRange(f.task.start,f.task.end),this.minTaskWidth)},g.prototype.getTaskHeight=function(d){var f=this.getViewItem(d);return f.task.isMilestone()&&!f.isCustom?this.milestoneWidth:this.viewModel.isTaskToCalculateByChildren(f.task.internalId)?this.parentTaskHeight:f.isCustom&&f.size.height?f.size.height:this.taskHeight},g.prototype.getTask=function(d){var f=this.getViewItem(d);return f==null?void 0:f.task},g.prototype.getViewItem=function(d){return this.viewModel.items[d]},g.prototype.getTaskProgressElementInfo=function(d){var f=new o.GridElementInfo;return f.className=g.taskProgressClassName,f.setSize(this.getTaskProgressSize(d)),f},g.prototype.getTaskProgressSize=function(d){var f=this.getTaskProgressWidth(d);return this.isTaskCutByRange(d)&&(f=this.getCorrectedTaskWidthByRange(d,f)),new c.Size(f,0)},g.prototype.getTaskProgressWidth=function(d){return this.getTaskWidth(d)*this.getTask(d).normalizedProgress/100},g.prototype.getTaskTextElementInfo=function(d,f){var y=new o.GridElementInfo;if(y.className=this.getTaskTextElementClassName(f),!f){var m=this.getTaskPoint(d).x;if(m<this.elementSizeValues.outsideTaskTextDefaultWidth){var v=Math.max(m,0);y.size.width=v,v>0?y.margins.left=-v:y.additionalInfo.hidden=!0}}return y},g.prototype.getTaskTextElementClassName=function(d){return g.taskTitleClassName.concat(" ",d?g.titleInClassName:g.titleOutClassName)},g.prototype.getTaskResourcesWrapperElementInfo=function(d){var f=new o.GridElementInfo,y=this.getTaskSize(d).width;return f.className="dx-gantt-taskResWrapper",f.setPosition(this.getTaskWrapperPoint(d)),f.position.x=f.position.x+y,f},g.prototype.getTaskResourceElementInfo=function(){var d=new o.GridElementInfo;return d.className=g.taskResourceClassName,d},g.prototype.getSelectionElementInfo=function(d){return this.getRowElementInfo(d,"dx-gantt-sel")},g.prototype.getSelectionPosition=function(d){var f=new t.Point(void 0,void 0);return f.y=d*this.tickSize.height,f},g.prototype.getSelectionSize=function(){return new c.Size(this.getTotalWidth(),this.tickSize.height)},g.prototype.getHighlightRowInfo=function(d){return this.getRowElementInfo(d,"dx-gantt-altRow")},g.prototype.getRowElementInfo=function(d,f){var y=new o.GridElementInfo;return y.className=f,y.setPosition(this.getSelectionPosition(d)),y.setSize(this.getSelectionSize()),y},g.prototype.getNoWorkingIntervalInfo=function(d){var f=new o.GridElementInfo;return f.className="dx-gantt-nwi",f.setPosition(this.getNoWorkingIntervalPosition(d.start)),f.setSize(this.getNoWorkingIntervalSize(d)),f},g.prototype.getNoWorkingIntervalPosition=function(d){var f=new t.Point(void 0,void 0);return f.x=this.getPosByDate(d),f},g.prototype.getNoWorkingIntervalSize=function(d){return new c.Size(this.getWidthByDateRange(d.start,d.end),this.getVerticalGridLineHeight())},g.prototype.getVerticalGridLineHeight=function(){return Math.max(this.visibleTaskAreaSize.height-this.scrollBarHeight,this.tickSize.height*this.verticalTickCount)},g.prototype.getConnectorInfo=function(d,f,y,m){for(var v=new Array,T=this.getConnectorPoints(f,y,m),b=0;b<T.length-1;b++)v.push(this.getConnectorLineInfo(d,T[b],T[b+1],b==0||b==T.length-2));return v.push(this.getArrowInfo(d,T,v,f,y)),this.checkAndCorrectConnectorLinesByRange(v),v.filter(function(w){return!!w})},g.prototype.getConnectorLineInfo=function(d,f,y,m){var v=new o.GridElementInfo,T=f.x==y.x;return v.className=this.getConnectorClassName(T),v.setPosition(this.getConnectorPosition(f,y)),v.setSize(this.getConnectorSize(f,y,T,m)),v.setAttribute("dependency-id",d),v},g.prototype.getConnectorClassName=function(d){return d?g.CLASSNAMES.CONNECTOR_VERTICAL:g.CLASSNAMES.CONNECTOR_HORIZONTAL},g.prototype.getConnectorPosition=function(d,f){return new t.Point(Math.min(d.x,f.x),Math.min(d.y,f.y))},g.prototype.getConnectorSize=function(d,f,y,m){var v=new c.Size(0,0),T=m?0:1;return y?v.height=Math.abs(f.y-d.y)+T:v.width=Math.abs(f.x-d.x)+T,v},g.prototype.getArrowInfo=function(d,f,y,m,v){var T=new o.GridElementInfo,b=this.findArrowLineInfo(y,m,v),w=this.getArrowPosition(f,m,v);return T.className=this.getArrowClassName(w),T.setPosition(this.getArrowPoint(b,w)),T.setAttribute("dependency-id",d),T},g.prototype.findArrowLineInfo=function(d,f,y){return d[f<y?d.length-1:0]},g.prototype.getArrowPosition=function(d,f,y){var m=d[f<y?d.length-2:1],v=d[f<y?d.length-1:0];return m.x==v.x?m.y>v.y?a.Position.Top:a.Position.Bottom:m.x>v.x?a.Position.Left:a.Position.Right},g.prototype.getArrowClassName=function(d){var f=g.arrowClassName;switch(d){case a.Position.Left:f=f.concat(" ",g.leftArrowClassName);break;case a.Position.Top:f=f.concat(" ",g.topArrowClassName);break;case a.Position.Right:f=f.concat(" ",g.rightArrowClassName);break;case a.Position.Bottom:f=f.concat(" ",g.bottomArrowClassName)}return f},g.prototype.getArrowPositionByClassName=function(d){return d.indexOf(g.leftArrowClassName)>-1?a.Position.Left:d.indexOf(g.topArrowClassName)>-1?a.Position.Top:d.indexOf(g.rightArrowClassName)>-1?a.Position.Right:d.indexOf(g.bottomArrowClassName)>-1?a.Position.Bottom:void 0},g.prototype.getArrowPoint=function(d,f){return new t.Point(this.getArrowX(d,f),this.getArrowY(d,f))},g.prototype.getArrowX=function(d,f){switch(f){case a.Position.Left:return d.position.x-this.arrowSize.width/2;case a.Position.Right:return d.position.x+d.size.width-this.arrowSize.width/2;case a.Position.Top:case a.Position.Bottom:return d.position.x-(this.arrowSize.width-this.lineThickness)/2}},g.prototype.getArrowY=function(d,f){switch(f){case a.Position.Top:return d.position.y-this.arrowSize.height/2;case a.Position.Bottom:return d.position.y+d.size.height-this.arrowSize.height/2;case a.Position.Left:case a.Position.Right:return d.position.y-(this.arrowSize.height-this.lineThickness)/2}},g.prototype.getPosByDate=function(d){return this.getWidthByDateRange(this.range.start,d)},g.prototype.getWidthByDateRange=function(d,f){return n.DateUtils.getRangeTickCount(d,f,this.viewType)*this.tickSize.width},g.prototype.getDateByPos=function(d){if(this.viewType===a.ViewType.Months||this.viewType===a.ViewType.Quarter)return this.getDateByPosInMonthBasedViewTypes(d);var f=d/this.tickSize.width,y=new Date(this.range.start);return n.DateUtils.getDSTCorrectedTaskEnd(y,f*this.tickTimeSpan)},g.prototype.getDateByPosInMonthBasedViewTypes=function(d){return this._scaleCalculator.getDateInScale(d)},g.prototype.getConnectorPoints=function(d,f,y){switch(y){case r.DependencyType.FS:return this.getFinishToStartConnectorPoints(d,f);case r.DependencyType.SF:return this.getStartToFinishConnectorPoints(d,f);case r.DependencyType.SS:return this.getStartToStartConnectorPoints(d,f);case r.DependencyType.FF:return this.getFinishToFinishConnectorPoints(d,f);default:return new Array}},g.prototype.getFinishToStartConnectorPoints=function(d,f){return d<f?this.getTask(d).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide(d,f,!1):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(d,f,!1):this.getTask(d).end<=this.getTask(f).start?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide(f,d,!1):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(f,d,!0)},g.prototype.getFinishToFinishConnectorPoints=function(d,f){return d<f?this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(d,f):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide(f,d)},g.prototype.getStartToStartConnectorPoints=function(d,f){return d<f?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(d,f):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide(f,d)},g.prototype.getStartToFinishConnectorPoints=function(d,f){return d<f?this.getTask(d).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide(d,f,!0):this.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide(d,f,!1):this.getTask(d).start>=this.getTask(f).end?this.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide(f,d,!0):this.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide(f,d,!0)},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskTopSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskRightCenter(v,d),w=this.getTask(f).isMilestone(),A=this.getTaskTopCenter(T,f),I=this.getHorizontalIndentFromTaskEdge(f,y);return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(w?A.x:T.x+I),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskRightSide=function(d,f){var y=new Array,m=this.getTaskPoint(d),v=this.getTaskPoint(f),T=this.getTaskRightCenter(m,d),b=this.getTaskRightCenter(v,f);return y.push(new t.Point(Math.floor(T.x),Math.floor(T.y))),y.push(new t.Point(Math.floor(Math.max(T.x,b.x)+this.minLineLength),Math.floor(y[0].y))),y.push(new t.Point(Math.floor(y[1].x),Math.floor(b.y))),y.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),y},g.prototype.getConnectorPoints_FromTopTaskRightSide_ToBottomTaskLeftSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskRightCenter(v,d),w=this.getTaskBottomCenter(v,d),A=this.getTaskLeftCenter(T,f),I=this.getTaskTopCenter(T,f),_=y?this.getViewItem(d):this.getViewItem(f),M=_.isCustom?(this.tickSize.height-_.size.height)/2:this.minConnectorSpaceFromTask;return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x+this.minLineLength),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(y?w.y+M:I.y-M))),m.push(new t.Point(Math.floor(A.x-this.minLineLength),Math.floor(m[2].y))),m.push(new t.Point(Math.floor(m[3].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskRightSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskBottomCenter(v,d),w=this.getTask(d).isMilestone(),A=this.getTaskRightCenter(T,f),I=this.getHorizontalIndentFromTaskEdge(d,y);return m.push(new t.Point(Math.floor(w?b.x:v.x+I),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskBottomSide_ToBottomTaskLeftSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskBottomCenter(v,d),w=this.getTask(d).isMilestone(),A=this.getTaskLeftCenter(T,f),I=this.getHorizontalIndentFromTaskEdge(d,y);return m.push(new t.Point(Math.floor(w?b.x:v.x+I),Math.floor(b.y))),m.push(new t.Point(Math.floor(m[0].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskTopSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskLeftCenter(v,d),w=this.getTaskTopCenter(T,f),A=this.getTask(f).isMilestone(),I=this.getHorizontalIndentFromTaskEdge(f,y);return m.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),m.push(new t.Point(Math.floor(A?w.x:T.x+I),Math.floor(m[0].y))),m.push(new t.Point(Math.floor(m[1].x),Math.floor(w.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskRightSide=function(d,f,y){var m=new Array,v=this.getTaskPoint(d),T=this.getTaskPoint(f),b=this.getTaskLeftCenter(v,d),w=this.getTaskBottomCenter(v,d),A=this.getTaskRightCenter(T,f),I=this.getTaskTopCenter(T,f),_=y?this.getViewItem(d):this.getViewItem(f),M=_.isCustom?(this.tickSize.height-_.size.height)/2:this.minConnectorSpaceFromTask;return m.push(new t.Point(Math.floor(b.x),b.y)),m.push(new t.Point(Math.floor(m[0].x-this.minLineLength),m[0].y)),m.push(new t.Point(Math.floor(m[1].x),Math.floor(y?w.y+M:I.y-M))),m.push(new t.Point(Math.floor(A.x+this.minLineLength),Math.floor(m[2].y))),m.push(new t.Point(Math.floor(m[3].x),Math.floor(A.y))),m.push(new t.Point(Math.floor(A.x),Math.floor(A.y))),m},g.prototype.getConnectorPoints_FromTopTaskLeftSide_ToBottomTaskLeftSide=function(d,f){var y=new Array,m=this.getTaskPoint(d),v=this.getTaskPoint(f),T=this.getTaskLeftCenter(m,d),b=this.getTaskLeftCenter(v,f);return y.push(new t.Point(Math.floor(T.x),Math.floor(T.y))),y.push(new t.Point(Math.floor(Math.min(T.x,b.x)-this.minLineLength),Math.floor(y[0].y))),y.push(new t.Point(Math.floor(y[1].x),Math.floor(b.y))),y.push(new t.Point(Math.floor(b.x),Math.floor(b.y))),y},g.prototype.getTaskSidePoints=function(d){var f=this.getTaskPoint(d);return[this.getTaskLeftCenter(f,d),this.getTaskTopCenter(f,d),this.getTaskRightCenter(f,d),this.getTaskBottomCenter(f,d)]},g.prototype.getTaskLeftCenter=function(d,f){return new t.Point(d.x-this.getTaskEdgeCorrection(f),d.y+this.getTaskHeight(f)/2)},g.prototype.getTaskRightCenter=function(d,f){return new t.Point(d.x+this.getTaskWidth(f)+this.getTaskEdgeCorrection(f),d.y+this.getTaskHeight(f)/2)},g.prototype.getTaskTopCenter=function(d,f){return new t.Point(d.x+this.getTaskWidth(f)/2,d.y-this.getTaskEdgeCorrection(f))},g.prototype.getTaskBottomCenter=function(d,f){return new t.Point(d.x+this.getTaskWidth(f)/2,d.y+this.getTaskHeight(f)+this.getTaskEdgeCorrection(f))},g.prototype.getTaskEdgeCorrection=function(d){var f=this.getViewItem(d);return f.task.isMilestone()&&!f.isCustom?this.getTaskHeight(d)*(Math.sqrt(2)-1)/2:0},g.prototype.getHorizontalIndentFromTaskEdge=function(d,f){f===void 0&&(f=!1);var y=this.getTaskWidth(d),m=this.minLineLength<y/3?this.minLineLength:.2*y;return f?y-m:m},g.prototype.getRenderedRowColumnIndices=function(d,f){for(var y=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width,m=f?this.getFirstVisibleGridCellIndex(d,this.tickSize.height):this.getFirstScaleVisibleIndex(d),v=f?this.getLastVisibleGridCellIndex(d,this.tickSize.height,y,this.verticalTickCount):this.getLastScaleVisibleIndex(d),T=new Array,b=m;b<=v;b++)T.push(b);return T},g.prototype.getRenderedScaleItemIndices=function(d,f){for(var y=d===this.viewType,m=this._scaleCalculator,v=f[0],T=f[f.length-1],b=y?v:m.getTopScaleIndexByBottomIndex(v),w=y?T:m.getTopScaleIndexByBottomIndex(T),A=new Array,I=b;I<=w;I++)A.push(I);return A},g.prototype.getFirstScaleVisibleIndex=function(d){return this._scaleCalculator.getFirstScaleIndexForRender(d)},g.prototype.getLastScaleVisibleIndex=function(d){return this._scaleCalculator.getLastScaleIndexForRender(d+this.visibleTaskAreaSize.width)},g.prototype.getFirstVisibleGridCellIndex=function(d,f){var y=Math.floor(d/f);return y=Math.max(y-10,0)},g.prototype.getLastVisibleGridCellIndex=function(d,f,y,m){var v=Math.floor((d+y)/f);return v=Math.min(v+10,m-1)},g.prototype.createTileToConnectorLinesMap=function(){this.tileToDependencyMap=[];for(var d=0;d<this.viewModel.items.length;d++)for(var f=0;f<this.viewModel.items[d].dependencies.length;f++)this.createConnecotInfo(this.viewModel.items[d].dependencies[f],this.viewModel.items[d].visibleIndex)},g.prototype.updateTileToConnectorLinesMap=function(d){this.tileToDependencyMap.forEach(function(v,T,b){b[T]=v.filter(function(w){return w.attr["dependency-id"]!=d})});var f=[],y=this.viewModel.items.filter(function(v){return v.dependencies.filter(function(T){return T.id==d}).length>0})[0];if(y){var m=y.dependencies.filter(function(v){return v.id===d})[0];f=this.createConnecotInfo(m,y.visibleIndex)}return f},g.prototype.createConnecotInfo=function(d,f){var y=this,m=d.predecessor.visibleIndex,v=d.type,T=d.id,b=this.getConnectorInfo(T,m,f,v);return b.forEach(function(w){y.addElementInfoToTileMap(w,y.tileToDependencyMap,!0)}),b},g.prototype.createTileToNonWorkingIntervalsMap=function(){this.tileToNoWorkingIntervalsMap=[];for(var d=0;d<this.viewModel.noWorkingIntervals.length;d++){var f=this.getAdjustedNoWorkingInterval(this.viewModel.noWorkingIntervals[d]);if(f){var y=this.getNoWorkingIntervalInfo(f);this.addElementInfoToTileMap(y,this.tileToNoWorkingIntervalsMap,!1)}}},g.prototype.getAdjustedNoWorkingInterval=function(d){return d.end.getTime()-d.start.getTime()<this.tickTimeSpan-1?null:new p.DateRange(n.DateUtils.getNearestScaleTickDate(d.start,this.range,this.tickTimeSpan,this.viewType),n.DateUtils.getNearestScaleTickDate(d.end,this.range,this.tickTimeSpan,this.viewType))},g.prototype.addElementInfoToTileMap=function(d,f,y){var m=y?d.position.y:d.position.x,v=y?d.size.height:d.size.width,T=2*(y?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width);if(T>0)for(var b=Math.floor(m/T),w=Math.floor((m+v)/T),A=b;A<=w;A++)f[A]||(f[A]=new Array),f[A].push(d)},g.prototype.getRenderedConnectorLines=function(d){return this.getElementsInRenderedTiles(this.tileToDependencyMap,!0,d)},g.prototype.getRenderedNoWorkingIntervals=function(d){return this.getElementsInRenderedTiles(this.tileToNoWorkingIntervalsMap,!1,d)},g.prototype.getRenderedStripLines=function(d){var f=new Array,y=d.stripLines.map(function(I){return I.clone()});d.showCurrentTime&&y.push(new e.StripLine(new Date,null,d.currentTimeTitle,d.currentTimeCssClass,!0));for(var m=0,v=void 0;v=y[m];m++){var T=n.DateUtils.parse(v.start),b=v.end?n.DateUtils.parse(v.end):null;if(T>=this.range.start&&T<=this.range.end||b&&b>=this.range.start&&b<=this.range.end){var w=T>this.range.start?T:this.range.start,A=new o.GridElementInfo;A.size.height=this.getVerticalGridLineHeight(),A.position.x=this.getPosByDate(w),A.size.width=b?this.getWidthByDateRange(w,b<this.range.end?b:this.range.end):0,A.className=v.isCurrent?"dx-gantt-tc":b?"dx-gantt-ti":"dx-gantt-tm",A.className+=v.cssClass?" "+v.cssClass:"",A.attr.title=v.title,f.push(A)}}return f},g.prototype.getElementsInRenderedTiles=function(d,f,y){var m=new Array,v=f?this.visibleTaskAreaSize.height:this.visibleTaskAreaSize.width;if(v>0)for(var T=Math.floor(y/(2*v)),b=Math.floor((y+v)/(2*v)),w=T;w<=b;w++)d[w]&&d[w].forEach(function(A){m.indexOf(A)===-1&&m.push(A)});return m},g.prototype.isTaskInRenderedRange=function(d){var f=this.getViewItem(d),y=this.getTaskPoint(d);return f.task.isMilestone()?y.x+this.getTaskWidth(d)<this.getTotalWidth():y.x<this.getTotalWidth()},g.prototype.isTaskCutByRange=function(d){return!!this.getTaskElementInfo(d).additionalInfo.taskCut},g.prototype.checkAndCorrectElementDisplayByRange=function(d){d.parentElement.offsetLeft+d.offsetLeft+d.offsetWidth>this.getTotalWidth()&&(d.style.display="none")},g.prototype.checkAndCorrectArrowElementDisplayByRange=function(d){d.offsetLeft+d.offsetWidth>this.getTotalWidth()&&(d.style.display="none")},g.prototype.checkAndCorrectConnectorLinesByRange=function(d){if(d!=null&&d.length)for(var f=this.getTotalWidth(),y=0;y<d.length;y++){var m=d[y],v=!m.size.width;m.position.x>f?delete d[y]:!v&&m.position.x+m.size.width>f&&(m.size.width=f-m.position.x)}},g.prototype.getCorrectedTaskWidthByRange=function(d,f){var y=this.getTotalWidth()-this.getTaskPoint(d).x;return Math.min(y,f)},g.dxGanttPrefix="dx-gantt-",g.taskClassName=g.dxGanttPrefix+"task",g.milestoneClassName=g.dxGanttPrefix+"milestone",g.smallTaskClassName=g.dxGanttPrefix+"smallTask",g.parentTaskClassName=g.dxGanttPrefix+"parent",g.taskProgressClassName=g.dxGanttPrefix+"tPrg",g.taskTitleClassName=g.dxGanttPrefix+"taskTitle",g.titleInClassName=g.dxGanttPrefix+"titleIn",g.titleOutClassName=g.dxGanttPrefix+"titleOut",g.taskResourceClassName=g.dxGanttPrefix+"taskRes",g.arrowClassName=g.dxGanttPrefix+"arrow",g.leftArrowClassName=g.dxGanttPrefix+"LA",g.topArrowClassName=g.dxGanttPrefix+"TA",g.rightArrowClassName=g.dxGanttPrefix+"RA",g.bottomArrowClassName=g.dxGanttPrefix+"BA",g.CLASSNAMES={CONNECTOR_VERTICAL:"dx-gantt-conn-v",CONNECTOR_HORIZONTAL:"dx-gantt-conn-h"},g}();u.GridLayoutCalculator=l},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StyleDef=void 0;var c=h(1),p=h(3),a=h(17),o=h(35),t=h(36),n=h(62),e=function(){function r(i){this._fillColor=new a.Color,this._textColor=new a.Color,this._lineColor=new a.Color,this._cellWidth=new n.Width,this._cellPadding=new t.Margin,i&&this.assign(i)}return Object.defineProperty(r.prototype,"font",{get:function(){return this._fontFamily},set:function(i){this._fontFamily=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.fontFamilies)||i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(i){this._fontStyle=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.fontStyles)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(i){this._fontSize=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"overflow",{get:function(){return this._overflow},set:function(i){this._overflow=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.overflow)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"halign",{get:function(){return this._horizontalAlign},set:function(i){this._horizontalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.horizontalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"valign",{get:function(){return this._verticalAlign},set:function(i){this._verticalAlign=o.PredefinedStyles.getPredefinedStringOrUndefined(i,o.PredefinedStyles.verticalAlign)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fillColor",{get:function(){return this._fillColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this._textColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineColor",{get:function(){return this._lineColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellWidth",{get:function(){return this._cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"cellPadding",{get:function(){return this._cellPadding},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(i){this._lineWidth=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellWidth",{get:function(){return this._minCellWidth},set:function(i){this._minCellWidth=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minCellHeight",{get:function(){return this._minCellHeight},set:function(i){this._minCellHeight=i},enumerable:!1,configurable:!0}),r.prototype.assign=function(i){i&&(i instanceof r?((0,c.isDefined)(i.font)&&(this.font=i.font),(0,c.isDefined)(i.fontStyle)&&(this.fontStyle=i.fontStyle),(0,c.isDefined)(i.overflow)&&(this.overflow=i.overflow),(0,c.isDefined)(i.halign)&&(this.halign=i.halign),(0,c.isDefined)(i.valign)&&(this.valign=i.valign),(0,c.isDefined)(i.fontSize)&&(this.fontSize=i.fontSize),(0,c.isDefined)(i.lineWidth)&&(this.lineWidth=i.lineWidth),(0,c.isDefined)(i.minCellWidth)&&(this.minCellWidth=i.minCellWidth),(0,c.isDefined)(i.minCellHeight)&&(this.minCellHeight=i.minCellHeight),(0,c.isDefined)(i.fillColor)&&this.fillColor.assign(i.fillColor),(0,c.isDefined)(i.textColor)&&this.textColor.assign(i.textColor),(0,c.isDefined)(i.lineColor)&&this.lineColor.assign(i.lineColor),(0,c.isDefined)(i.cellWidth)&&this.cellWidth.assign(i.cellWidth),(0,c.isDefined)(i.cellPadding)&&this.cellPadding.assign(i.cellPadding)):this.assignFromCssStyle(i))},r.prototype.assignFromCssStyle=function(i){if(i.fontFamily&&(this.font=this.getPdfFontFamily(i)),this.fontStyle=this.getPdfFontStyle(i),(0,c.isDefined)(i.fontSize)&&(this.fontSize=this.getPfrFontSize(i.fontSize)),i.textAlign&&(this.halign=i.textAlign),i.verticalAlign&&(this.valign=i.verticalAlign),(0,c.isDefined)(i.borderWidth)&&(this.lineWidth=i.borderWidth),(0,c.isDefined)(i.cellWidth)&&this.cellWidth.assign(i.cellWidth),(0,c.isDefined)(i.width)&&(this.minCellWidth=typeof i.width=="number"?i.width:p.DomUtils.pxToInt(i.width)),(0,c.isDefined)(i.height)&&(this.minCellHeight=typeof i.height=="number"?i.height:p.DomUtils.pxToInt(i.height)),i.backgroundColor&&this.fillColor.assign(i.backgroundColor),i.color&&this.textColor.assign(i.color),i.borderColor&&this.lineColor.assign(i.borderColor),(0,c.isDefined)(i.width)&&this.cellWidth.assign(i.width),this.assignPaddingFromCss(i),(0,c.isDefined)(i.extraLeftPadding)){var s=this._cellPadding.left;this._cellPadding.left=s?s+i.extraLeftPadding:i.extraLeftPadding}},r.prototype.getPdfFontStyle=function(i){var s=i.fontWeight,l=parseInt(s),g=s==="bold"||!isNaN(l)&&l>500,d=g?"bold":"normal";return i.fontStyle==="italic"&&(d=g?"bolditalic":"italic"),d},r.prototype.getPdfFontFamily=function(i){var s=i.fontFamily&&i.fontFamily.toLowerCase(),l="helvetica";return s.indexOf("times")>-1&&(l="times"),s.indexOf("courier")>-1&&(l="courier"),l},r.prototype.getPfrFontSize=function(i){var s=p.DomUtils.pxToInt(i);if(!isNaN(s))return Math.ceil(s/96*72)},r.prototype.assignPaddingFromCss=function(i){if(i.padding)this._cellPadding.assign(i.padding);else{var s={};i.paddingLeft&&(s.left=p.DomUtils.pxToInt(i.paddingLeft)),i.paddingTop&&(s.top=p.DomUtils.pxToInt(i.paddingTop)),i.paddingRight&&(s.right=p.DomUtils.pxToInt(i.paddingRight)),i.paddingBottom&&(s.bottom=p.DomUtils.pxToInt(i.paddingBottom)),this._cellPadding.assign(s)}},r.prototype.hasValue=function(){return!0},r.prototype.getValue=function(){var i=this,s={};return(0,c.isDefined)(this.font)&&(s.font=this.font),(0,c.isDefined)(this.fontStyle)&&(s.fontStyle=this.fontStyle),(0,c.isDefined)(this.fontSize)&&(s.fontSize=this.fontSize),(0,c.isDefined)(this.overflow)&&(s.overflow=this.overflow),(0,c.isDefined)(this.halign)&&(s.halign=this.halign),(0,c.isDefined)(this.valign)&&(s.valign=this.valign),(0,c.isDefined)(this.lineWidth)&&(s.lineWidth=this.lineWidth),(0,c.isDefined)(this.minCellWidth)&&(s.minCellWidth=this.minCellWidth),(0,c.isDefined)(this.minCellHeight)&&(s.minCellHeight=this.minCellHeight),this.getJsPdfProviderProps().forEach(function(l){var g=i[l];g&&g.hasValue()&&(s[l]=g.getValue())}),s},r.prototype.getJsPdfProviderProps=function(){return["fillColor","textColor","lineColor","cellWidth","cellPadding"]},r}();u.StyleDef=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfPageTableNames=void 0;var c=function(){function p(){}return p.treeListHeader="treeListHeader",p.treeListMain="treeListMain",p.chartMain="chartMain",p.chartScaleTop="chartScaleTop",p.chartScaleBottom="chartScaleBottom",p}();u.PdfPageTableNames=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.BaseManipulator=void 0;var c=function(){function p(a,o){this.viewModel=a,this.dispatcher=o}return p.prototype.getErrorCallback=function(){return this.viewModel.getDataUpdateErrorCallback()},Object.defineProperty(p.prototype,"renderHelper",{get:function(){return this.viewModel.owner.renderHelper},enumerable:!1,configurable:!0}),p}();u.BaseManipulator=c},function(S,u,h){"use strict";var c;Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDomHelper=void 0;var p=h(3),a=h(9),o=h(46),t=h(4),n=h(25),e=function(){function r(){}return r.getEventSource=function(i){var s,l=(i.nodeType===((s=window==null?void 0:window.Node)===null||s===void 0?void 0:s.ELEMENT_NODE)?i:i.parentNode).classList[0];return r.classToSource[l]||t.TaskAreaEventSource.TaskArea},r.isConnectorLine=function(i){var s=a.EvtUtils.getEventSource(i);return p.DomUtils.hasClassName(s,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL)||p.DomUtils.hasClassName(s,n.GridLayoutCalculator.CLASSNAMES.CONNECTOR_VERTICAL)},r.isTaskElement=function(i){var s=a.EvtUtils.getEventSource(i),l=r.classToSource[s.classList[0]];return l===t.TaskAreaEventSource.TaskEdit_Frame||l===t.TaskAreaEventSource.TaskEdit_Progress||l===t.TaskAreaEventSource.TaskEdit_Start||l===t.TaskAreaEventSource.TaskEdit_End||l===t.TaskAreaEventSource.TaskEdit_DependencyStart||l===t.TaskAreaEventSource.TaskEdit_DependencyFinish},r.isMouseEvent=function(i){return i instanceof MouseEvent},r.isTouchEvent=function(i){return window.TouchEvent&&i instanceof TouchEvent},r.isPointerEvent=function(i){return window.PointerEvent&&i instanceof PointerEvent},r.isMousePointer=function(i){return this.isPointerEvent(i)&&i.pointerType==="mouse"},r.classToSource=((c={})[o.TaskEditController.CLASSNAMES.TASK_EDIT_PROGRESS]=t.TaskAreaEventSource.TaskEdit_Progress,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_START]=t.TaskAreaEventSource.TaskEdit_Start,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_END]=t.TaskAreaEventSource.TaskEdit_End,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME]=t.TaskAreaEventSource.TaskEdit_Frame,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.TaskEdit_DependencyStart,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT]=t.TaskAreaEventSource.TaskEdit_DependencyFinish,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH]=t.TaskAreaEventSource.Successor_DependencyStart,c[o.TaskEditController.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT]=t.TaskAreaEventSource.Successor_DependencyFinish,c),r}();u.TaskAreaDomHelper=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateBase=void 0;var c=h(10),p=h(5),a=h(3),o=h(9),t=h(66),n=h(172),e=h(29),r=h(13),i=function(){function s(l,g,d){this.position=new p.Point(-1,-1),this.isCursorInArea=!1,this._listener=l,this._taskArea=g,this._cellSize=d}return s.prototype.start=function(){},s.prototype.finish=function(){},s.prototype.isTouchEvent=function(l){return e.TaskAreaDomHelper.isTouchEvent(l)},s.prototype.isPointerEvent=function(l){return e.TaskAreaDomHelper.isPointerEvent(l)},s.prototype.isMouseEvent=function(l){return e.TaskAreaDomHelper.isMouseEvent(l)},s.prototype.onMouseWheel=function(l){},s.prototype.onScroll=function(l){this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_SCROLL)},s.prototype.onKeyDown=function(l){this.isCursorInArea&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN,l,null,{code:this.getShortcutCode(l)})},s.prototype.onContextMenu=function(l){var g=this.getClickedRowIndex(l),d=e.TaskAreaDomHelper.isConnectorLine(l);d||this.raiseTaskSelection(l,g),l.stopPropagation(),l.preventDefault(),c.Browser.WebKitFamily&&(l.returnValue=!1),this.raiseEvent(r.TaskAreaStateEventNames.CONTEXTMENU_SHOW,l,g,{type:d?"dependency":"task"})},s.prototype.onTaskPointerEnter=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onDocumentPointerMove=function(l){this.processPointerMove(l)},s.prototype.onDocumentPointerDown=function(l){this.processPointerDown(l)},s.prototype.onDocumentPointerUp=function(l){this.processPointerUp(l)},s.prototype.onTaskTouchStart=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onTouchMove=function(l){this.processPointerMove(l)},s.prototype.onTouchStart=function(l){this.processPointerDown(l)},s.prototype.onTouchEnd=function(l){this.processPointerUp(l)},s.prototype.onMouseDown=function(l){this.processPointerDown(l)},s.prototype.onMouseUp=function(l){},s.prototype.onMouseMove=function(l){this.processPointerMove(l)},s.prototype.onTaskHover=function(l){this.onTaskPointerEnterBase(l)},s.prototype.onTaskLeave=function(l){this.raiseEvent(r.TaskAreaStateEventNames.TASK_LEAVE,l,this.getClickedRowIndex(l))},s.prototype.onClick=function(l){var g=this.getClickedRowIndex(l);this.raiseTaskSelection(l,g),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_CLICK,l,g)},s.prototype.onDblClick=function(l){l.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,l,this.getClickedRowIndex(l))},s.prototype.onTaskAreaLeave=function(l){(!this.isPointerEvent(l)||e.TaskAreaDomHelper.isMousePointer(l))&&(this.isCursorInArea=!1,this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,l)),this.onTaskAreaLeaveInternal(l)},s.prototype.onTaskPointerEnterBase=function(l){this.isTouchEvent(l)||this.isPointerEvent(l)||l.preventDefault(),this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_START,l,this.getClickedRowIndex(l))},s.prototype.processPointerDown=function(l){var g=this.isTouchEvent(l),d=this.isPointerEvent(l);(g||d)&&this.checkAndProcessTouchOutsideArea(l)||(this.position=new p.Point(o.EvtUtils.getEventX(l),o.EvtUtils.getEventY(l)),(g||d)&&l.preventDefault(),g?this.onTouchStartInternal(l):d?this.onDocumentPointerDownInternal(l):this.onMouseDownInternal(l))},s.prototype.processPointerMove=function(l){var g,d=this.isTouchEvent(l),f=this.isPointerEvent(l);(g=this.position)!==null&&g!==void 0||(this.position=new p.Point(o.EvtUtils.getEventX(l),o.EvtUtils.getEventY(l)));var y=Math.abs(this.position.x-o.EvtUtils.getEventX(l))>2||Math.abs(this.position.y-o.EvtUtils.getEventY(l))>2;!((d||f)&&this.checkAndProcessTouchOutsideArea(l))&&y&&((d||f)&&l.preventDefault(),this.isTouchEvent(l)?this.onTouchMoveInternal(l):this.isPointerEvent(l)?this.onDocumentPointerMoveInternal(l):(this.isCursorInArea=!0,this.onMouseMoveInternal(l)))},s.prototype.processPointerUp=function(l){this.checkAndProcessTouchOutsideArea(l)||(l.preventDefault(),this.isTouchEvent(l)?this.onTouchEndInternal(l):this.onDocumentPointerUpInternal(l))},s.prototype.onMouseDownInternal=function(l){},s.prototype.onMouseMoveInternal=function(l){},s.prototype.onDocumentPointerUpInternal=function(l){},s.prototype.onDocumentPointerDownInternal=function(l){},s.prototype.onDocumentPointerMoveInternal=function(l){},s.prototype.onTouchStartInternal=function(l){},s.prototype.onTouchEndInternal=function(l){},s.prototype.onTouchMoveInternal=function(l){},s.prototype.onTaskAreaLeaveInternal=function(l){},s.prototype.checkAndProcessTouchOutsideArea=function(l){var g=!this.isInTaskArea(l);return g&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_EDIT_END,l),this.isCursorInArea=!g,g},s.prototype.raiseEvent=function(l,g,d,f){var y=new n.TaskAreaEventArgs(l,g,d,f),m=this._listener.getHandler(l);return m&&m(y)},s.prototype.raiseDependencySelection=function(l,g){this.raiseEvent(r.TaskAreaStateEventNames.DEPENDENCY_SELECTION,l,null,{key:g})},s.prototype.raiseTaskSelection=function(l,g){a.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(l))&&!e.TaskAreaDomHelper.isConnectorLine(l)&&this.raiseEvent(r.TaskAreaStateEventNames.TASK_SELECTION,l,g)},s.prototype.getClickedRowIndex=function(l){if(!l)return-1;var g=o.EvtUtils.getEventY(l)-a.DomUtils.getAbsolutePositionY(this._taskArea);return Math.floor(g/this._cellSize.height)},s.prototype.getRelativePos=function(l){var g=a.DomUtils.getAbsolutePositionX(this._taskArea),d=a.DomUtils.getAbsolutePositionY(this._taskArea);return new p.Point(l.x-g,l.y-d)},s.prototype.isInTaskArea=function(l){return a.DomUtils.isItParent(this._taskArea,o.EvtUtils.getEventSource(l))},s.prototype.getShortcutCode=function(l){var g=t.KeyUtils.getEventKeyCode(l),d=0;return l.altKey&&(d|=t.ModifierKey.Alt),l.ctrlKey&&(d|=t.ModifierKey.Ctrl),l.shiftKey&&(d|=t.ModifierKey.Shift),l.metaKey&&c.Browser.MacOSPlatform&&(d|=t.ModifierKey.Meta),d|g},s}();u.TaskAreaStateBase=i},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationOption=u.ConfirmationType=void 0,function(c){c[c.TaskDelete=0]="TaskDelete",c[c.DependencyDelete=1]="DependencyDelete",c[c.ResourcesDelete=2]="ResourcesDelete"}(u.ConfirmationType||(u.ConfirmationType={})),function(c){c[c.DoNothing=0]="DoNothing",c[c.RemoveDependency=1]="RemoveDependency",c[c.KeepDependency=2]="KeepDependency"}(u.ConstraintViolationOption||(u.ConstraintViolationOption={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DialogParametersBase=void 0;var c=function(){};u.DialogParametersBase=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DeassignResourceHistoryItem=void 0;var c=h(0),p=h(14),a=h(2),o=function(t){function n(e,r){var i=t.call(this,e)||this;return i.assignmentId=r,i}return c.__extends(n,t),n.prototype.redo=function(){this.assignment=this.modelManipulator.resource.deassig(this.assignmentId)},n.prototype.undo=function(){this.modelManipulator.resource.assign(this.assignment.resourceId,this.assignment.taskId,this.assignmentId)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:a.GanttDataObjectNames.resourceAssignment,getKey:function(){return e.assignmentId},updateKey:function(r){return e.assignmentId=r}},{objectType:a.GanttDataObjectNames.task,getKey:function(){var r;return(r=e.assignment)===null||r===void 0?void 0:r.taskId},updateKey:function(r){return e.assignment.taskId=r}},{objectType:a.GanttDataObjectNames.resource,getKey:function(){var r;return(r=e.assignment)===null||r===void 0?void 0:r.resourceId},updateKey:function(r){return e.assignment.resourceId=r}}]},enumerable:!1,configurable:!0}),n}(p.HistoryItem);u.DeassignResourceHistoryItem=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceCommandBase=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n}(p.CommandBase);u.ResourceCommandBase=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PredefinedStyles=void 0;var c=function(){function p(){}return p.getPredefinedStringOrUndefined=function(a,o){var t=a&&o&&a.toLowerCase()||void 0;return t&&(o.filter(function(n){return n.toLowerCase()===t})[0]||o.filter(function(n){return t.indexOf(n.toLowerCase())>-1})[0])},p.fontFamilies=["helvetica","times","courier"],p.fontStyles=["normal","bold","italic","bolditalic"],p.headerFooterVisibility=["everyPage","firstPage","never"],p.horizontalAlign=["left","center","right"],p.overflow=["linebreak","ellipsize","visible","hidden"],p.pageBreak=["auto","avoid","always"],p.rowPageBreak=["auto","avoid"],p.verticalAlign=["top","middle","bottom"],p.width=["auto","wrap"],p}();u.PredefinedStyles=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Margin=void 0;var c=h(1),p=h(3),a=function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if((0,c.isDefined)(t))if(typeof t=="string")this.assignFromString(t);else if(typeof t=="number"||t instanceof Array)this.assignWithValues(t);else{var n=t||t;this.assignWithMargin(n)}},o.prototype.assignFromString=function(t){var n=t.split(" ").map(function(e){return p.DomUtils.pxToInt(e)});this.assignWithValues(n)},o.prototype.assignWithMargin=function(t){(0,c.isDefined)(t.top)&&(this.top=t.top),(0,c.isDefined)(t.right)&&(this.right=t.right),(0,c.isDefined)(t.bottom)&&(this.bottom=t.bottom),(0,c.isDefined)(t.left)&&(this.left=t.left)},o.prototype.assignWithValues=function(t){var n=this.getCorrectedValues(t);this.top=n[0],this.right=n[1],this.bottom=n[2],this.left=n[3]},o.prototype.getCorrectedValues=function(t){var n=[this.top,this.right,this.bottom,this.left];if(typeof t=="number")n=[t,t,t,t];else{var e=t;switch(e.length){case 1:n=[e[0],e[0],e[0],e[0]];break;case 2:n=[e[0],e[1],e[0],e[1]];break;case 3:n=[e[0],e[1],e[2],e[1]];break;default:e.forEach(function(r,i){return n[i]=r})}}return n},o.prototype.hasValue=function(){return(0,c.isDefined)(this.top)||(0,c.isDefined)(this.left)||(0,c.isDefined)(this.right)||(0,c.isDefined)(this.bottom)},o.prototype.getValue=function(){if(!this.hasValue())return null;if(this.top===this.bottom&&this.left===this.right&&this.top===this.left)return this.top;var t={};return(0,c.isDefined)(this.top)&&(t.top=this.top),(0,c.isDefined)(this.left)&&(t.left=this.left),(0,c.isDefined)(this.right)&&(t.right=this.right),(0,c.isDefined)(this.bottom)&&(t.bottom=this.bottom),t},o}();u.Margin=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DataExportMode=u.ExportMode=void 0,function(c){c[c.all=0]="all",c[c.treeList=1]="treeList",c[c.chart=2]="chart"}(u.ExportMode||(u.ExportMode={})),function(c){c[c.all=0]="all",c[c.visible=1]="visible"}(u.DataExportMode||(u.DataExportMode={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RecurrenceBase=void 0;var c=h(0),p=h(203),a=h(57),o=h(204),t=h(1),n=h(8),e=h(71),r=function(i){function s(l,g,d,f){l===void 0&&(l=null),g===void 0&&(g=null),d===void 0&&(d=1),f===void 0&&(f=0);var y=i.call(this)||this;return y._start=null,y._end=null,y._interval=1,y._occurrenceCount=0,y._dayOfWeek=0,y._day=1,y._dayOfWeekOccurrence=0,y._month=0,y._calculateByDayOfWeek=!1,y.start=l,y.end=g,y.interval=d,y.occurrenceCount=f,y}return c.__extends(s,i),s.prototype.assignFromObject=function(l){(0,t.isDefined)(l)&&(i.prototype.assignFromObject.call(this,l),this.start=n.DateTimeUtils.convertToDate(l.start),this.end=n.DateTimeUtils.convertToDate(l.end),(0,t.isDefined)(l.interval)&&(this.interval=l.interval),(0,t.isDefined)(l.occurrenceCount)&&(this.occurrenceCount=l.occurrenceCount),(0,t.isDefined)(l.dayOfWeek)&&(this.dayOfWeekInternal=e.RecurrenceFactory.getEnumValue(p.DayOfWeek,l.dayOfWeek)),(0,t.isDefined)(l.day)&&(this.dayInternal=l.day),(0,t.isDefined)(l.dayOfWeekOccurrence)&&(this.dayOfWeekOccurrenceInternal=e.RecurrenceFactory.getEnumValue(a.DayOfWeekMonthlyOccurrence,l.dayOfWeekOccurrence)),(0,t.isDefined)(l.month)&&(this.monthInternal=e.RecurrenceFactory.getEnumValue(o.Month,l.month)),(0,t.isDefined)(l.calculateByDayOfWeek)&&(this._calculateByDayOfWeek=!!l.calculateByDayOfWeek))},s.prototype.calculatePoints=function(l,g){if(!l||!g)return new Array;var d=n.DateTimeUtils.getMaxDate(l,this._start),f=n.DateTimeUtils.getMinDate(g,this._end);return this._occurrenceCount>0?this.calculatePointsByOccurrenceCount(d,f):this.calculatePointsByDateRange(d,f)},s.prototype.calculatePointsByOccurrenceCount=function(l,g){for(var d=new Array,f=this.getFirstPoint(l);f&&d.length<this._occurrenceCount&&n.DateTimeUtils.compareDates(f,g)>=0;)this.isRecurrencePoint(f)&&d.push(f),f=this.getNextPoint(f);return d},s.prototype.calculatePointsByDateRange=function(l,g){for(var d=new Array,f=this.getFirstPoint(l);f&&n.DateTimeUtils.compareDates(f,g)>=0;)this.isRecurrencePoint(f)&&d.push(f),f=this.getNextPoint(f);return d},s.prototype.getFirstPoint=function(l){return this.isRecurrencePoint(l)?l:this.getNextPoint(l)},s.prototype.isRecurrencePoint=function(l){return this.isDateInRange(l)&&this.checkDate(l)&&(!this.useIntervalInCalc()||this.checkInterval(l))},s.prototype.isDateInRange=function(l){return!!l&&!(this._start&&n.DateTimeUtils.compareDates(this.start,l)<0)&&!(this._occurrenceCount==0&&this.end&&n.DateTimeUtils.compareDates(l,this.end)<0)},s.prototype.useIntervalInCalc=function(){return this.interval>1&&!!this._start},s.prototype.getNextPoint=function(l){return this.isDateInRange(l)?this.useIntervalInCalc()?this.calculatePointByInterval(l):this.calculateNearestPoint(l):null},s.prototype.getSpecDayInMonth=function(l,g){return this._calculateByDayOfWeek?n.DateTimeUtils.getSpecificDayOfWeekInMonthDate(this.dayOfWeekInternal,l,g,this.dayOfWeekOccurrenceInternal):new Date(l,g,this.dayInternal)},Object.defineProperty(s.prototype,"dayInternal",{get:function(){return this._day},set:function(l){l>0&&l<=31&&(this._day=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dayOfWeekInternal",{get:function(){return this._dayOfWeek},set:function(l){l>=p.DayOfWeek.Sunday&&l<=p.DayOfWeek.Saturday&&(this._dayOfWeek=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dayOfWeekOccurrenceInternal",{get:function(){return this._dayOfWeekOccurrence},set:function(l){l>=a.DayOfWeekMonthlyOccurrence.First&&l<=a.DayOfWeekMonthlyOccurrence.Last&&(this._dayOfWeekOccurrence=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"monthInternal",{get:function(){return this._month},set:function(l){l>=o.Month.January&&l<=o.Month.December&&(this._month=l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"start",{get:function(){return this._start},set:function(l){l&&(this._start=l,this._end&&l>this._end&&(this._end=l))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"end",{get:function(){return this._end},set:function(l){l&&(this._end=l,this._start&&l<this._start&&(this._start=l))},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"occurrenceCount",{get:function(){return this._occurrenceCount},set:function(l){l<0&&(l=0),this._occurrenceCount=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"interval",{get:function(){return this._interval},set:function(l){l>0&&(this._interval=l)},enumerable:!1,configurable:!0}),s}(h(2).DataObject);u.RecurrenceBase=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StringUtils=void 0;var c=function(){function p(){}return p.isAlpha=function(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"},p.isDigit=function(a){return a>="0"&&a<="9"},p.stringHashCode=function(a){var o=0;if(a.length===0)return o;for(var t=a.length,n=0;n<t;n++)o=(o<<5)-o+a.charCodeAt(n),o|=0;return o},p.endsAt=function(a,o){var t=a.length-1,n=o.length-1,e=t-n;if(e<0)return!1;for(;t>=e;t--,n--)if(a[t]!==o[n])return!1;return!0},p.startsAt=function(a,o){return a.substr(0,o.length)===o},p.stringInLowerCase=function(a){return a.toLowerCase()===a},p.stringInUpperCase=function(a){return a.toUpperCase()===a},p.atLeastOneSymbolInUpperCase=function(a){for(var o=0,t=void 0;t=a[o];o++)if(p.stringInUpperCase(t)&&!p.stringInLowerCase(t))return!0;return!1},p.getSymbolFromEnd=function(a,o){return a[a.length-o]},p.trim=function(a,o){if(o===void 0)return p.trimInternal(a,!0,!0);var t=o.join("");return a.replace(new RegExp("(^["+t+"]*)|(["+t+"]*$)","g"),"")},p.trimStart=function(a,o){if(o===void 0)return p.trimInternal(a,!0,!1);var t=o.join("");return a.replace(new RegExp("^["+t+"]*","g"),"")},p.trimEnd=function(a,o){if(o===void 0)return p.trimInternal(a,!1,!0);var t=o.join("");return a.replace(new RegExp("["+t+"]*$","g"),"")},p.getDecimalSeparator=function(){return 1.1.toLocaleString().substr(1,1)},p.repeat=function(a,o){return new Array(o<=0?0:o+1).join(a)},p.isNullOrEmpty=function(a){return!a||!a.length},p.padLeft=function(a,o,t){return p.repeat(t,Math.max(0,o-a.length))+a},p.trimInternal=function(a,o,t){var n=a.length;if(!n)return a;if(n<764833){var e=a;return o&&(e=e.replace(/^\s+/,"")),t&&(e=e.replace(/\s+$/,"")),e}var r=0;if(t)for(;n>0&&/\s/.test(a[n-1]);)n--;if(o&&n>0)for(;r<n&&/\s/.test(a[r]);)r++;return a.substring(r,n)},p}();u.StringUtils=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConfirmationDialogParameters=void 0;var c=h(0),p=function(a){function o(t,n){var e=a.call(this)||this;return e.type=t,e.callback=n,e}return c.__extends(o,a),o.prototype.clone=function(){var t=new o(this.type,this.callback);return t.message=this.message,t},o}(h(32).DialogParametersBase);u.ConfirmationDialogParameters=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveDependencyHistoryItem=void 0;var c=h(0),p=h(2),a=function(o){function t(n,e){var r=o.call(this,n)||this;return r.dependencyId=e,r}return c.__extends(t,o),t.prototype.redo=function(){this.dependency=this.modelManipulator.dependency.removeDependency(this.dependencyId)},t.prototype.undo=function(){this.modelManipulator.dependency.insertDependency(this.dependency.predecessorId,this.dependency.successorId,this.dependency.type,this.dependencyId)},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:p.GanttDataObjectNames.dependency,getKey:function(){return n.dependencyId},updateKey:function(e){return n.dependencyId=e}},{objectType:p.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.predecessorId},updateKey:function(e){return n.dependency.predecessorId=e}},{objectType:p.GanttDataObjectNames.task,getKey:function(){var e;return(e=n.dependency)===null||e===void 0?void 0:e.successorId},updateKey:function(e){return n.dependency.successorId=e}}]},enumerable:!1,configurable:!0}),t}(h(14).HistoryItem);u.RemoveDependencyHistoryItem=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CompositionHistoryItem=void 0;var c=h(0),p=function(a){function o(){var t=a.call(this,null)||this;return t.historyItems=[],t}return c.__extends(o,a),o.prototype.redo=function(){for(var t,n=0;t=this.historyItems[n];n++)t.redo()},o.prototype.undo=function(){for(var t,n=this.historyItems.length-1;t=this.historyItems[n];n--)t.undo()},o.prototype.add=function(t){if(t==null)throw new Error("Can't add null HistoryItem");this.historyItems.push(t)},o.prototype.undoItemsQuery=function(){this.undo()},o.prototype.setModelManipulator=function(t){if(a.prototype.setModelManipulator.call(this,t),this.historyItems)for(var n=0;n<this.historyItems.length;n++)this.historyItems[n].setModelManipulator(t)},o}(h(14).HistoryItem);u.CompositionHistoryItem=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateTaskHistoryItem=void 0;var c=h(0),p=h(18),a=h(2),o=function(t){function n(e,r){var i=t.call(this,e)||this;return i.data=r,i}return c.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=p.MathUtils.generateGuid()),this.modelManipulator.task.create(this.data,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.task.remove(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e,r=this,i=[{objectType:a.GanttDataObjectNames.task,getKey:function(){return r.insertedKey},updateKey:function(s){return r.insertedKey=s}}];return!((e=this.data)===null||e===void 0)&&e.parentId&&i.push({objectType:a.GanttDataObjectNames.task,getKey:function(){var s;return(s=r.data)===null||s===void 0?void 0:s.parentId},updateKey:function(s){return r.data.parentId=s}}),i},enumerable:!1,configurable:!0}),n}(h(14).HistoryItem);u.CreateTaskHistoryItem=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTaskInfo=void 0;var c=h(5),p=h(17),a=h(26),o=function(){function t(){}return Object.defineProperty(t.prototype,"left",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[0].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[1].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[2].x:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){var n;return((n=this.sidePoints)===null||n===void 0?void 0:n.length)>3?this.sidePoints[3].y:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var n=this.bottom-this.top;return this.isParent&&(n-=t.defaultParentHeightCorrection),n},enumerable:!1,configurable:!0}),t.prototype.assign=function(n){var e,r,i;this.isMilestone=n.isMilestone,this._copyPoints(n.sidePoints),this.progressWidth=n.progressWidth,this.isSmallTask=n.isSmallTask,this.text=n.text,this.textPosition=n.textPosition,(e=this.progressColor)!==null&&e!==void 0||(this.progressColor=new p.Color),this.progressColor.assign(n.progressColor),(r=this.taskColor)!==null&&r!==void 0||(this.taskColor=new p.Color),this.taskColor.assign(n.taskColor),(i=this.textStyle)!==null&&i!==void 0||(this.textStyle=new a.StyleDef),this.textStyle.assign(n.textStyle),this.isParent=n.isParent},t.prototype._copyPoints=function(n){var e=this;this.sidePoints=new Array,n==null||n.forEach(function(r){return e.sidePoints.push(new c.Point(r.x,r.y))})},t.defaultParentHeightCorrection=4,t}();u.PdfTaskInfo=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CellDef=void 0;var c=h(1),p=h(26),a=function(){function o(t,n,e){this.content="",typeof t=="string"?(this.content=t,this.colSpan=n,e&&this.appendStyles(e)):t&&this.assign(t)}return Object.defineProperty(o.prototype,"styles",{get:function(){return this._styles||(this._styles=new p.StyleDef),this._styles},enumerable:!1,configurable:!0}),o.prototype.assign=function(t){(0,c.isDefined)(t.content)&&(this.content=t.content),(0,c.isDefined)(t.colSpan)&&(this.colSpan=t.colSpan),t.styles&&this.appendStyles(t.styles)},o.prototype.appendStyles=function(t){t&&this.styles.assign(t)},o.prototype.hasValue=function(){return!0},o.prototype.getValue=function(){var t={};return t.content=this.content,this.colSpan>1&&(t.colSpan=this.colSpan),this._styles&&(t.styles=this._styles.getValue()),t},o}();u.CellDef=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditController=void 0;var c=h(4),p=h(19),a=h(3),o=h(10),t=h(169),n=h(65),e=h(15),r=function(){function i(s){this.showInfoDelay=1e3,this.taskIndex=-1,this.successorIndex=-1,this.isEditingInProgress=!1,this.disableTaskEditBox=!1,this.isTaskEditBoxShown=!1,this.settings=s,this.createElements()}return Object.defineProperty(i.prototype,"taskId",{get:function(){return this.viewModel.items[this.taskIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"successorId",{get:function(){return this.viewModel.items[this.successorIndex].task.internalId},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"task",{get:function(){return this.viewItem.task},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewItem",{get:function(){return this.viewModel.items[this.taskIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderHelper",{get:function(){return this.settings.getRenderHelper()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ganttSettings",{get:function(){return this.settings.getGanttSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"commandManager",{get:function(){return this.settings.getCommandManager()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"updateTaskCommand",{get:function(){return this.commandManager.updateTaskCommand},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"validationController",{get:function(){return this.settings.getValidationController()},enumerable:!1,configurable:!0}),i.prototype.raiseTaskMoving=function(s,l,g,d){return this.settings.getModelManipulator().dispatcher.raiseTaskMoving(s,l,g,d)},Object.defineProperty(i.prototype,"tooltip",{get:function(){var s;return(s=this._tooltip)!==null&&s!==void 0||(this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo)),this._tooltip.tooltipSettings=this.tooltipSettings,this._tooltip},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tooltipSettings",{get:function(){var s=this;return n.TooltipSettings.parse({getHeaderHeight:this.settings.getRenderHelper().header.clientHeight,getTaskProgressTooltipContentTemplate:this.ganttSettings.taskProgressTooltipContentTemplate,getTaskTimeTooltipContentTemplate:this.ganttSettings.taskTimeTooltipContentTemplate,getTaskTooltipContentTemplate:this.ganttSettings.taskTooltipContentTemplate,destroyTemplate:function(l){s.settings.destroyTemplate(l)},formatDate:function(l){return s.settings.formatDate(l)},getTaskAreaContainer:function(){return s.settings.getRenderHelper().taskAreaContainer}})},enumerable:!1,configurable:!0}),i.prototype.show=function(s){if(!this.isEditingInProgress&&!this.disableTaskEditBox){this.taskIndex=s,this.hide(),this.changeWrapInfo(),this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.displayDependency(),this.task.isMilestone()&&!this.viewItem.isCustom?this.baseElement.className=this.baseElement.className+" milestone":(this.isTaskUpdateAllowed()||(this.baseElement.className=this.baseElement.className+" "+i.CLASSNAMES.TASK_EDIT_HIDE_UPDATING),this.viewItem.isCustom&&this.baseElement.classList.add(i.CLASSNAMES.TASK_EDIT_BOX_CUSTOM));var l=this.settings.getGanttSettings().editing.taskHoverDelay||0;this.taskDateRange=new p.DateRange(this.task.start,this.task.end),this.displayTaskEditBox(l),this.displayProgressEdit(),this.displayStartEndEditElements()}},i.prototype.displayStartEndEditElements=function(){!this.task.isMilestone()&&this.isTaskUpdateAllowed()&&this.canUpdateTask()?(this.startEdit.style.display="block",this.endEdit.style.display="block"):(this.startEdit.style.display="none",this.endEdit.style.display="none")},i.prototype.displayProgressEdit=function(){!this.viewItem.isCustom&&this.canUpdateTask()&&this.isTaskUpdateAllowed()&&this.wrapInfo.size.width>this.wrapInfo.size.height?(this.progressEdit.style.display="block",this.progressEdit.style.left=this.task.normalizedProgress/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px"):this.progressEdit.style.display="none"},i.prototype.displayDependency=function(){this.ganttSettings.editing.enabled&&this.ganttSettings.editing.allowDependencyInsert&&this.ganttSettings.showDependencies||(this.baseElement.className=this.baseElement.className+" hide-dependency")},i.prototype.changeWrapInfo=function(){this.updateWrapInfo(),this.wrapInfo.assignPosition(this.baseElement),this.wrapInfo.assignSize(this.baseElement)},i.prototype.displayTaskEditBox=function(s){var l=this;s===void 0&&(s=0);var g=function(){l.renderHelper.taskArea.appendChild(l.baseElement),l.isTaskEditBoxShown=!0};s?this.timerId=setTimeout(g,s):g()},i.prototype.endEditing=function(){this.isEditingInProgress=!1,this.hide()},i.prototype.hide=function(){this.isTaskEditBoxShown=!1;var s=this.baseElement.parentNode;s&&s.removeChild(this.baseElement),this.tooltip.hide(),clearTimeout(this.timerId)},i.prototype.cancel=function(){clearTimeout(this.timerId)},i.prototype.showTaskInfo=function(s,l){l===void 0&&(l=500),this.timerId&&(l=this.showInfoDelay),this.tooltip.showInfo(this.task,s,l)},i.prototype.updateWrapInfo=function(){this.wrapInfo=this.getTaskWrapperElementInfo(this.taskIndex),this.wrapInfo.position.x--},i.prototype.isAllowedToConnectTasks=function(s){var l,g=this.viewModel.items[s];return this.validationController.canCreateDependency(this.taskId,(l=g.task)===null||l===void 0?void 0:l.internalId)},i.prototype.showDependencySuccessor=function(s){if(this.isAllowedToConnectTasks(s)){this.successorIndex=s;var l=this.getTaskWrapperElementInfo(s);l.assignPosition(this.dependencySuccessorBaseElement),l.assignSize(this.dependencySuccessorBaseElement),l.assignSize(this.dependencySuccessorFrame),this.renderHelper.taskArea.appendChild(this.dependencySuccessorBaseElement)}},i.prototype.hideDependencySuccessor=function(){var s=this.dependencySuccessorBaseElement.parentNode;s&&s.removeChild(this.dependencySuccessorBaseElement),this.successorIndex=-1},i.prototype.processProgress=function(s){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!0;var l=s.x-this.wrapInfo.position.x,g=0;s.x>this.wrapInfo.position.x&&(g=s.x<this.wrapInfo.position.x+this.wrapInfo.size.width?Math.round(l/this.baseElement.clientWidth*100):100),this.progressEdit.style.left=g/100*this.wrapInfo.size.width-this.progressEdit.offsetWidth/2+"px",this.tooltip.showProgress(g,a.DomUtils.getAbsolutePositionX(this.progressEdit)+this.progressEdit.offsetWidth/2)}},i.prototype.confirmProgress=function(){if(this.isTaskUpdateAllowed()){this.isEditingInProgress=!1;var s=Math.round((this.progressEdit.offsetLeft+this.progressEdit.offsetWidth/2)/this.wrapInfo.size.width*100);this.updateTaskCommand.execute(this.taskId,{progress:s})}},i.prototype.processEnd=function(s){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var l=s.x>this.wrapInfo.position.x?s.x:this.wrapInfo.position.x,g=l-this.wrapInfo.position.x;this.baseElement.style.width=(g<1?0:g)+"px";var d=this.task.start,f=this.renderHelper.gridLayoutCalculator.getDateByPos(l);f.setSeconds(0),f<d||g<1?this.taskDateRange.end.setTime(d.getTime()):this.taskDateRange.end=this.getCorrectedDate(this.task.end,f),this.tooltip.showTime(d,this.taskDateRange.end,a.DomUtils.getAbsolutePositionX(this.baseElement)+this.baseElement.clientWidth)}},i.prototype.confirmEnd=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{end:this.taskDateRange.end}),this.hide(),this.updateWrapInfo())},i.prototype.processStart=function(s){if(this.isTaskUpdateAllowed()){this.baseElement.className=this.baseElement.className+" move",this.isEditingInProgress=!0;var l=s.x<this.wrapInfo.position.x+this.wrapInfo.size.width?s.x:this.wrapInfo.position.x+this.wrapInfo.size.width,g=this.wrapInfo.size.width-(l-this.wrapInfo.position.x);this.baseElement.style.left=l+"px",this.baseElement.style.width=(g<1?0:g)+"px";var d=this.task.end,f=this.renderHelper.gridLayoutCalculator.getDateByPos(l);f.setSeconds(0),f>d||g<1?this.taskDateRange.start.setTime(d.getTime()):this.taskDateRange.start=this.getCorrectedDate(this.task.start,f),this.tooltip.showTime(this.taskDateRange.start,d,a.DomUtils.getAbsolutePositionX(this.baseElement))}},i.prototype.confirmStart=function(){this.isTaskUpdateAllowed()&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.isEditingInProgress=!1,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start}),this.hide(),this.updateWrapInfo())},i.prototype.processMove=function(s){if(this.isTaskUpdateAllowed()&&this.isTaskEditBoxShown){this.baseElement.className=this.baseElement.className+" move";var l=this.baseElement.offsetLeft+s;this.baseElement.style.left=l+"px";var g=this.renderHelper.gridLayoutCalculator.getDateByPos(l);this.taskDateRange.start=this.getCorrectedDate(this.task.start,g);var d=e.DateUtils.getRangeMSPeriod(this.task.start,this.task.end);return this.taskDateRange.end=e.DateUtils.getDSTCorrectedTaskEnd(this.taskDateRange.start,d),this.isEditingInProgress=this.raiseTaskMoving(this.task,this.taskDateRange.start,this.taskDateRange.end,this.onTaskMovingCallback.bind(this)),this.isEditingInProgress&&this.tooltip.showTime(this.taskDateRange.start,this.taskDateRange.end,a.DomUtils.getAbsolutePositionX(this.baseElement)),this.isEditingInProgress}return!0},i.prototype.onTaskMovingCallback=function(s,l){if(this.taskDateRange.start!==s||this.taskDateRange.end!==l){var g=this.renderHelper.gridLayoutCalculator,d=g.getPosByDate(s),f=g.getPosByDate(l)-d;this.baseElement.style.left=d+"px",this.baseElement.style.width=(f<1?0:f)+"px",this.taskDateRange.start=s,this.taskDateRange.end=l}},i.prototype.confirmMove=function(){this.isTaskUpdateAllowed()&&(this.ganttSettings.editing.allowDependencyInsert||(this.baseElement.className=this.baseElement.className+" hide-dependency"),this.isEditingInProgress&&(this.baseElement.className=i.CLASSNAMES.TASK_EDIT_BOX,this.updateTaskCommand.execute(this.taskId,{start:this.taskDateRange.start,end:this.taskDateRange.end}),this.updateWrapInfo(),this.hide(),this.isEditingInProgress=!1))},i.prototype.getCorrectedDate=function(s,l){if(this.ganttSettings.viewType>c.ViewType.SixHours){var g=l.getFullYear(),d=l.getMonth(),f=l.getDate(),y=this.ganttSettings.viewType===c.ViewType.Days?l.getHours():s.getHours(),m=s.getMinutes(),v=s.getSeconds(),T=s.getMilliseconds();return new Date(g,d,f,y,m,v,T)}return l},i.prototype.startDependency=function(s){this.dependencyLine=document.createElement("DIV"),this.dependencyLine.className=i.CLASSNAMES.TASK_EDIT_DEPENDENCY_LINE,this.renderHelper.taskArea.appendChild(this.dependencyLine),this.startPosition=s},i.prototype.processDependency=function(s){this.isEditingInProgress=!0,this.drawline(this.startPosition,s)},i.prototype.endDependency=function(s){this.isEditingInProgress=!1,s!=null&&this.commandManager.createDependencyCommand.execute(this.task.internalId,this.successorId,s);var l=this.dependencyLine.parentNode;l&&l.removeChild(this.dependencyLine),this.dependencyLine=null,this.hideDependencySuccessor(),this.hide()},i.prototype.selectDependency=function(s){this.ganttSettings.editing.allowDependencyDelete&&(this.dependencyId=s)},i.prototype.isDependencySelected=function(s){return this.dependencyId&&this.dependencyId===s},i.prototype.deleteSelectedDependency=function(){this.dependencyId&&this.commandManager.removeDependencyCommand.execute(this.dependencyId)},i.prototype.getTaskWrapperElementInfo=function(s){var l=this.renderHelper.gridLayoutCalculator,g=l.getTaskWrapperElementInfo(s);return g.size.width=l.getTaskWidth(s),g.size.height=l.getTaskHeight(s),g},i.prototype.createElements=function(){this.baseElement=document.createElement("DIV"),this.baseFrame=document.createElement("DIV"),this.baseFrame.className=i.CLASSNAMES.TASK_EDIT_FRAME,this.baseElement.appendChild(this.baseFrame),this.progressEdit=document.createElement("DIV"),this.progressEdit.className=i.CLASSNAMES.TASK_EDIT_PROGRESS,this.baseFrame.appendChild(this.progressEdit),this.progressEdit.appendChild(document.createElement("DIV")),this.dependencyFinish=document.createElement("DIV"),this.dependencyFinish.classList.add(i.CLASSNAMES.TASK_EDIT_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencyFinish.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyFinish),this.dependencyStart=document.createElement("DIV"),this.dependencyStart.classList.add(i.CLASSNAMES.TASK_EDIT_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencyStart.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.baseFrame.appendChild(this.dependencyStart),this.startEdit=document.createElement("DIV"),this.startEdit.className=i.CLASSNAMES.TASK_EDIT_START,this.baseFrame.appendChild(this.startEdit),this.endEdit=document.createElement("DIV"),this.endEdit.className=i.CLASSNAMES.TASK_EDIT_END,this.baseFrame.appendChild(this.endEdit),this.dependencySuccessorBaseElement=document.createElement("DIV"),this.dependencySuccessorBaseElement.className=i.CLASSNAMES.TASK_EDIT_BOX_SUCCESSOR,this.dependencySuccessorFrame=document.createElement("DIV"),this.dependencySuccessorFrame.className=i.CLASSNAMES.TASK_EDIT_FRAME_SUCCESSOR,this.dependencySuccessorBaseElement.appendChild(this.dependencySuccessorFrame),this.dependencySuccessorStart=document.createElement("DIV"),this.dependencySuccessorStart.classList.add(i.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH),o.Browser.TouchUI&&this.dependencySuccessorStart.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorStart),this.dependencySuccessorFinish=document.createElement("DIV"),this.dependencySuccessorFinish.classList.add(i.CLASSNAMES.TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT),o.Browser.TouchUI&&this.dependencySuccessorFinish.classList.add(i.CLASSNAMES.TASK_EDIT_TOUCH),this.dependencySuccessorFrame.appendChild(this.dependencySuccessorFinish),this._tooltip=new t.TaskEditTooltip(this.baseElement,this.tooltipSettings,this.renderHelper.elementTextHelperCultureInfo),this.attachEvents()},i.prototype.attachEvents=function(){this.onMouseLeaveHandler=(function(){this.isEditingInProgress||this.hide()}).bind(this),this.baseElement.addEventListener("mouseleave",this.onMouseLeaveHandler)},i.prototype.drawline=function(s,l){if(s.x>l.x){var g=l;l=s,s=g}var d=Math.atan((s.y-l.y)/(l.x-s.x));d=-(d=180*d/Math.PI);var f=Math.sqrt((s.x-l.x)*(s.x-l.x)+(s.y-l.y)*(s.y-l.y));this.dependencyLine.style.left=s.x+"px",this.dependencyLine.style.top=s.y+"px",this.dependencyLine.style.width=f+"px",this.dependencyLine.style.transform="rotate("+d+"deg)"},i.prototype.canUpdateTask=function(){return!this.viewModel.isTaskToCalculateByChildren(this.task.internalId)},i.prototype.isTaskUpdateAllowed=function(){var s=this.ganttSettings.editing;return s.enabled&&s.allowTaskUpdate},i.prototype.detachEvents=function(){var s;(s=this.baseElement)===null||s===void 0||s.removeEventListener("mouseleave",this.onMouseLeaveHandler)},i.CLASSNAMES={TASK_EDIT_BOX:"dx-gantt-task-edit-wrapper",TASK_EDIT_BOX_CUSTOM:"dx-gantt-task-edit-wrapper-custom",TASK_EDIT_FRAME:"dx-gantt-task-edit-frame",TASK_EDIT_PROGRESS:"dx-gantt-task-edit-progress",TASK_EDIT_DEPENDENCY_RIGTH:"dx-gantt-task-edit-dependency-r",TASK_EDIT_DEPENDENCY_LEFT:"dx-gantt-task-edit-dependency-l",TASK_EDIT_START:"dx-gantt-task-edit-start",TASK_EDIT_END:"dx-gantt-task-edit-end",TASK_EDIT_DEPENDENCY_LINE:"dx-gantt-task-edit-dependency-line",TASK_EDIT_BOX_SUCCESSOR:"dx-gantt-task-edit-wrapper-successor",TASK_EDIT_FRAME_SUCCESSOR:"dx-gantt-task-edit-frame-successor",TASK_EDIT_SUCCESSOR_DEPENDENCY_RIGTH:"dx-gantt-task-edit-successor-dependency-r",TASK_EDIT_SUCCESSOR_DEPENDENCY_LEFT:"dx-gantt-task-edit-successor-dependency-l",TASK_EDIT_TOUCH:"dx-gantt-edit-touch",TASK_EDIT_HIDE_UPDATING:"hide-updating"},i}();u.TaskEditController=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttView=void 0;var c=h(75),p=h(10),a=h(76),o=h(43),t=h(19),n=h(8),e=h(15),r=h(123),i=h(124),s=h(126),l=h(137),g=h(1),d=h(139),f=h(145),y=h(152),m=h(157),v=h(185),T=h(12),b=h(68),w=h(46),A=h(189),I=h(190),_=h(192),M=h(4),O=h(193),N=h(210),C=h(9),x=h(3),L=h(5),R=h(211),H=h(20),V=h(2),B=function(){function D(k,E,P){var j=this;this.currentSelectedTaskID="",this.isFocus=!1,this._updateWithModelReloadLockedCounter=0,this.scaleCount=2,this.tickSize=new T.Size(0,0),this.currentZoom=1,this.stripLinesUpdaterId=null,this.ganttOwner=E,this.settings=v.Settings.parse(P),this.initValidationController(),this.renderHelper=new m.RenderHelper(this),this.renderHelper.initMarkup(k),this.loadOptionsFromGanttOwner(),this.renderHelper.init(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),this.commandManager=new a.CommandManager(this),this.barManager=new c.BarManager(this.commandManager,this.ganttOwner.bars),this.initTaskEditController(),this.history=new l.History(this._getHistoryListener()),this.initFullScreenModeHelper(),this.updateView(),this._scrollTimeOut=setTimeout(function(){j.scrollLeftByViewType()},0),this.initializeStripLinesUpdater(),this.initGanttViewApi()}return D.prototype.initGanttViewApi=function(){this.ganttViewApi=new N.GanttViewApi(this)},D.prototype._getHistoryListener=function(){return{onTransactionStart:this.onHistoryTransactionStart.bind(this),onTransactionEnd:this.onHistoryTransactionEnd.bind(this)}},D.prototype.onHistoryTransactionStart=function(){this.lockUpdateWithReload()},D.prototype.onHistoryTransactionEnd=function(){this.unlockUpdateWithReload()},D.prototype.lockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter++},D.prototype.unlockUpdateWithReload=function(){this._updateWithModelReloadLockedCounter--,this._updateWithModelReloadLockedCounter===0&&this._pendingUpdateInfo&&(this.updateWithDataReload(this._pendingUpdateInfo.keepExpandState),this._pendingUpdateInfo=null)},D.prototype.initValidationController=function(){var k=this,E=_.ValidationControllerSettings.parse({getViewModel:function(){return k.viewModel},getHistory:function(){return k.history},getModelManipulator:function(){return k.modelManipulator},getRange:function(){return k.range},getValidationSettings:function(){return k.settings.validation},updateOwnerInAutoParentMode:function(){k.updateOwnerInAutoParentMode()},getIsValidateDependenciesRequired:function(){return k.isValidateDependenciesRequired()}});this.validationController=new I.ValidationController(E)},D.prototype.initTaskEditController=function(){var k=this,E=A.TaskEditSettings.parse({destroyTemplate:function(P){k.destroyTemplate(P)},formatDate:function(P){return k.getDateFormat(P)},getRenderHelper:function(){return k.renderHelper},getGanttSettings:function(){return k.settings},getViewModel:function(){return k.viewModel},getCommandManager:function(){return k.commandManager},getModelManipulator:function(){return k.modelManipulator},getValidationController:function(){return k.validationController}});this.taskEditController=new w.TaskEditController(E)},Object.defineProperty(D.prototype,"taskAreaEventsListener",{get:function(){var k;return(k=this._taskAreaEventsListener)!==null&&k!==void 0||(this._taskAreaEventsListener=new R.TaskAreaEventsListener(this)),this._taskAreaEventsListener},enumerable:!1,configurable:!0}),D.prototype.initFullScreenModeHelper=function(){var k=this,E=r.FullScreenHelperSettings.parse({getMainElement:function(){return k.getOwnerControlMainElement()},adjustControl:function(){k.adjustOwnerControl()}});this.fullScreenModeHelper=new i.FullScreenModeHelper(E)},D.prototype.getDateRange=function(k,E){var P=this.getVisibleAreaTime(),j=this.settings.startDateRange||e.DateUtils.adjustStartDateByViewType(new Date(k.getTime()-P),this.settings.viewType,this.settings.firstDayOfWeek),F=this.settings.endDateRange||e.DateUtils.adjustEndDateByViewType(new Date(E.getTime()+P),this.settings.viewType,this.settings.firstDayOfWeek);return this.settings.startDateRange&&j>F?F=j:this.settings.endDateRange&&j>F&&(j=F),new t.DateRange(j,F)},D.prototype.getVisibleAreaTime=function(){return Math.ceil(this.renderHelper.getTaskAreaContainerWidth()/this.tickSize.width)*e.DateUtils.getTickTimeSpan(this.settings.viewType)},D.prototype.zoomIn=function(k){k===void 0&&(k=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomIn(k)},D.prototype.zoomOut=function(k){k===void 0&&(k=this.renderHelper.getTaskAreaContainerWidth()/2),this.ganttViewApi.zoomOut(k)},D.prototype.scrollToDate=function(k){if(k){var E=k instanceof Date?e.DateUtils.getOrCreateUTCDate(k):e.DateUtils.parse(k);this.scrollToDateCore(E,0)}},D.prototype.showDialog=function(k,E,P,j){this.ganttOwner.showDialog(k,E,P,j)},D.prototype.showPopupMenu=function(k){this.ganttOwner.showPopupMenu(k)},D.prototype.hidePopupMenu=function(){this.ganttOwner.hidePopupMenu&&this.ganttOwner.hidePopupMenu()},D.prototype.collapseAll=function(){this.ganttOwner.collapseAll()},D.prototype.expandAll=function(){this.ganttOwner.expandAll()},D.prototype.onGanttViewContextMenu=function(k,E,P){return this.ganttOwner.onGanttViewContextMenu(k,E,P)},D.prototype.changeGanttTaskSelection=function(k,E){this.ganttOwner.changeGanttTaskSelection(k,E)},D.prototype.hideTaskEditControl=function(){this.taskEditController.hide()},D.prototype.scrollLeftByViewType=function(){var k=e.DateUtils.roundStartDate(this.dataRange.start,this.settings.viewType);this.scrollToDateCore(k,1)},D.prototype.scrollToDateCore=function(k,E){this.renderHelper.setTaskAreaContainerScrollLeftToDate(k,E)},D.prototype.onVisualModelChanged=function(){this.resetAndUpdate()},D.prototype.initializeStripLinesUpdater=function(){var k=this;this.settings.stripLines.showCurrentTime&&(this.stripLinesUpdaterId=setInterval(function(){k.renderHelper.recreateStripLines()},Math.max(this.settings.stripLines.currentTimeUpdateInterval,100)))},D.prototype.clearStripLinesUpdater=function(){this.stripLinesUpdaterId&&clearInterval(this.stripLinesUpdaterId),this.stripLinesUpdaterId=null},D.prototype.getGanttViewStartDate=function(k){if(!k)return new Date;var E=k.map(function(P){return typeof P.start=="string"?new Date(P.start):P.start}).filter(function(P){return(0,g.isDefined)(P)});return E.length>0?E.reduce(function(P,j){return j<P?j:P},E[0]):new Date},D.prototype.getGanttViewEndDate=function(k){if(!k)return new Date;var E=k.map(function(P){return typeof P.end=="string"?new Date(P.end):P.end}).filter(function(P){return(0,g.isDefined)(P)});return E.length>0?E.reduce(function(P,j){return j>P?j:P},E[0]):new Date},D.prototype.getTask=function(k){var E=this.getViewItem(k);return E==null?void 0:E.task},D.prototype.getViewItem=function(k){var E;return(E=this.viewModel)===null||E===void 0?void 0:E.items[k]},D.prototype.isValidateDependenciesRequired=function(){return this.settings.validation.validateDependencies&&this.settings.showDependencies},D.prototype.updateTickSizeWidth=function(){this.tickSize.width=this.renderHelper.etalonScaleItemWidths*this.currentZoom},D.prototype.updateView=function(){this.onBeginUpdateView(),this.renderHelper.setTimeScaleContainerScrollLeft(this.taskAreaContainerScrollLeft),this.processScroll(!1),this.processScroll(!0),this.ganttOwner.onGanttScroll(this.taskAreaContainerScrollTop),this.onEndUpdateView()},D.prototype.onBeginUpdateView=function(){this[D.taskAreaScrollTopKey]=this.renderHelper.taskAreaContainerScrollTop,this[D.taskAreaScrollLeftKey]=this.renderHelper.taskAreaContainerScrollLeft},D.prototype.onEndUpdateView=function(){delete this[D.taskAreaScrollTopKey],delete this[D.taskAreaScrollLeftKey],delete this[D.taskTextHeightKey]},Object.defineProperty(D.prototype,"taskAreaContainerScrollTop",{get:function(){var k;return(k=this[D.taskAreaScrollTopKey])!==null&&k!==void 0?k:this.renderHelper.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"taskAreaContainerScrollLeft",{get:function(){var k;return(k=this[D.taskAreaScrollLeftKey])!==null&&k!==void 0?k:this.renderHelper.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),D.prototype.processScroll=function(k){this.hideTaskEditControl(),this.renderHelper.processScroll(k)},D.prototype.allowTaskAreaBorders=function(k){return k?this.settings.areHorizontalBordersEnabled:this.settings.areVerticalBordersEnabled},D.prototype.getScaleItemText=function(k,E){return this.renderHelper.getScaleItemText(k,E)},D.prototype.getTaskText=function(k){return this.renderHelper.getTaskText(k)},D.prototype.rowHasChildren=function(k){var E=this.getViewItem(k);return(E==null?void 0:E.children.length)>0},D.prototype.rowHasSelection=function(k){var E=this.getViewItem(k);return E==null?void 0:E.selected},D.prototype.getAllVisibleTaskIndices=function(k,E){return this.viewModel.getAllVisibleTaskIndices(k,E)},D.prototype.getVisibleDependencyKeysByTaskRange=function(k){if(!this.settings.showDependencies)return[];var E=this.viewModel,P=k.map(function(j){return E.tasks.items[j].internalId});return E.dependencies.items.filter(function(j){return P.indexOf(j.successorId)>-1||P.indexOf(j.predecessorId)>-1}).map(function(j){return j.internalId})},D.prototype.getTreeListTableStyle=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListTableStyle)===null||E===void 0?void 0:E.call(k)},D.prototype.getTreeListColCount=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListColCount)===null||E===void 0?void 0:E.call(k)},D.prototype.getTreeListHeaderInfo=function(k){var E,P;return(P=(E=this.ganttOwner).getTreeListHeaderInfo)===null||P===void 0?void 0:P.call(E,k)},D.prototype.getTreeListCellInfo=function(k,E,P){var j,F;return(F=(j=this.ganttOwner).getTreeListCellInfo)===null||F===void 0?void 0:F.call(j,k,E,P)},D.prototype.getTreeListEmptyDataCellInfo=function(){var k,E;return(E=(k=this.ganttOwner).getTreeListEmptyDataCellInfo)===null||E===void 0?void 0:E.call(k)},D.prototype.exportToPdf=function(k){var E;return(E=k.docCreateMethod)!==null&&E!==void 0||(k.docCreateMethod=this.getDefaultPdfDocCreateMethod()),new y.PdfGanttExporter(new s.GanttExportCalculator(this,k)).export()},D.prototype.getDefaultPdfDocCreateMethod=function(){var k;return(k=window.jspdf)===null||k===void 0?void 0:k.jsPDF},D.prototype.getTaskDependencies=function(k){return this.viewModel.dependencies.items.filter(function(E){return E.predecessorId==k||E.successorId==k})},D.prototype.isHighlightRowElementAllowed=function(k){var E=this.getViewItem(k);return k%2!=0&&this.settings.areAlternateRowsEnabled||(E==null?void 0:E.children.length)>0},D.prototype.calculateAutoViewType=function(k,E){var P=(E.getTime()-k.getTime())/36e5;return P>8760?M.ViewType.Years:P>720?M.ViewType.Months:P>168?M.ViewType.Weeks:P>24?M.ViewType.Days:P>6?M.ViewType.SixHours:P>1?M.ViewType.Hours:M.ViewType.TenMinutes},D.prototype.getExternalTaskAreaContainer=function(k){return this.ganttOwner.getExternalTaskAreaContainer(k)},D.prototype.prepareExternalTaskAreaContainer=function(k,E){return this.ganttOwner.prepareExternalTaskAreaContainer(k,E)},D.prototype.getHeaderHeight=function(){return this.ganttOwner.getHeaderHeight()},D.prototype.changeTaskExpanded=function(k,E){var P=this.getTaskByPublicId(k);P&&this.viewModel.changeTaskExpanded(P.internalId,E)},D.prototype.expandTask=function(k){this.viewModel.changeTaskExpanded(k,!0)},D.prototype.collapseTask=function(k){this.viewModel.changeTaskExpanded(k,!1)},D.prototype.showTask=function(k){this.viewModel.changeTaskVisibility(k,!0)},D.prototype.hideTask=function(k){this.viewModel.changeTaskVisibility(k,!1)},D.prototype.getTaskVisibility=function(k){return this.viewModel.getTaskVisibility(k)},D.prototype.unselectCurrentSelectedTask=function(){this.unselectTask(this.currentSelectedTaskID)},D.prototype.getTaskSelected=function(k){return this.viewModel.getTaskSelected(k)},D.prototype.setViewType=function(k,E){E===void 0&&(E=!0),this.ganttViewApi.setViewType(k,E)},D.prototype.setViewTypeRange=function(k,E){this.ganttViewApi.setViewTypeRange(k,E)},D.prototype.setTaskTitlePosition=function(k){this.settings.taskTitlePosition!==k&&(this.settings.taskTitlePosition=k,this.resetAndUpdate())},D.prototype.setShowResources=function(k){this.settings.showResources!==k&&(this.settings.showResources=k,this.resetAndUpdate())},D.prototype.toggleResources=function(){this.setShowResources(!this.settings.showResources)},D.prototype.setShowDependencies=function(k){this.settings.showDependencies!==k&&(this.settings.showDependencies=k,this.resetAndUpdate())},D.prototype.toggleDependencies=function(){this.setShowDependencies(!this.settings.showDependencies)},D.prototype.setFirstDayOfWeek=function(k){this.settings.firstDayOfWeek!==k&&(this.settings.firstDayOfWeek=k,this.resetAndUpdate())},D.prototype.setStartDateRange=function(k){n.DateTimeUtils.areDatesEqual(this.settings.startDateRange,k)||(this.settings.startDateRange=new Date(k),this.resetAndUpdate())},D.prototype.setEndDateRange=function(k){n.DateTimeUtils.areDatesEqual(this.settings.endDateRange,k)||(this.settings.endDateRange=new Date(k),this.resetAndUpdate())},D.prototype.loadOptionsFromGanttOwner=function(){var k,E=this;this.tickSize.height=this.ganttOwner.getRowHeight();var P=this.ganttOwner.getGanttTasksData();this.dataRange=new t.DateRange(this.getGanttViewStartDate(P),this.getGanttViewEndDate(P)),this.settings.viewType==null&&(this.settings.viewType=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.updateTickSizeWidth(),this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.dispatcher=new d.ModelChangesDispatcher;var j=this.ganttOwner.getModelChangesListener();j&&this.dispatcher.onModelChanged.add(j),this.viewModel=new O.ViewVisualModel(this,P,this.ganttOwner.getGanttDependenciesData(),this.ganttOwner.getGanttResourcesData(),this.ganttOwner.getGanttResourceAssignmentsData(),this.range,this.ganttOwner.getGanttWorkTimeRules()),this.modelManipulator=new f.ModelManipulator(this.viewModel,this.dispatcher),(k=this.history)===null||k===void 0||k.historyItems.forEach(function(F){return F.setModelManipulator(E.modelManipulator)})},D.prototype.resetAndUpdate=function(){this.range=this.getDateRange(this.dataRange.start,this.dataRange.end),this.viewModel.updateRange(this.range),this.renderHelper.resetAndUpdate(this.tickSize,this.range,this.settings.viewType,this.viewModel,this.settings.firstDayOfWeek),p.Browser.IE&&this.taskEditController.createElements(),this.updateView()},D.prototype.cleanMarkup=function(){this.renderHelper.taskAreaManagerDetachEvents(),this.taskEditController.detachEvents(),this.clearStripLinesUpdater(),this.renderHelper.reset(),clearTimeout(this._scrollTimeOut)},D.prototype.checkAndProcessModelChanges=function(){var k=this.ganttOwner.getGanttTasksData(),E=this.viewModel.refreshTaskDataIfRequires(k);return E&&this.resetAndUpdate(),E},D.prototype.updateHistoryObsoleteInsertedKey=function(k,E,P){var j;(j=this.history)===null||j===void 0||j.updateObsoleteInsertedKey(k,E,P),P===V.GanttDataObjectNames.dependency&&this.renderHelper.updateRenderedConnectorLinesId(k,E)},D.prototype.updateRowHeights=function(k){if(this.tickSize.height!==k){this.tickSize.height=k;var E=this.renderHelper.getTaskAreaContainerScrollLeft();this.resetAndUpdate(),this.renderHelper.setTaskAreaContainerScrollLeft(E)}},D.prototype.selectTask=function(k){this.selectDependency(null),this.viewModel.changeTaskSelected(k,!0),this.currentSelectedTaskID=k,this.updateBarManager()},D.prototype.unselectTask=function(k){this.viewModel.changeTaskSelected(k,!1),this.updateBarManager()},D.prototype.selectTaskById=function(k){this.unselectCurrentSelectedTask();var E=this.getTaskByPublicId(k);E&&this.selectTask(E.internalId)},D.prototype.selectDependency=function(k){this.taskEditController.selectDependency(k),this.renderHelper.createConnectorLines()},D.prototype.getTaskAreaContainer=function(){return this.renderHelper.taskAreaContainer},D.prototype.setWidth=function(k){this.renderHelper.setMainElementWidth(k)},D.prototype.setHeight=function(k){this.renderHelper.setMainElementHeight(k)},D.prototype.setAllowSelection=function(k){this.settings.allowSelectTask=k},D.prototype.setEditingSettings=function(k){this.settings.editing=k,this.updateBarManager()},D.prototype.setValidationSettings=function(k){this.settings.validation=k},D.prototype.setRowLinesVisible=function(k){this.settings.areHorizontalBordersEnabled=k,this.renderHelper.prepareTaskAreaContainer(),this.resetAndUpdate()},D.prototype.setStripLines=function(k){this.settings.stripLines=b.StripLineSettings.parse(k),this.clearStripLinesUpdater(),this.initializeStripLinesUpdater(),this.renderHelper.recreateStripLines()},D.prototype.deleteTask=function(k){var E=this.getTaskByPublicId(k.toString());E&&this.commandManager.removeTaskCommand.execute(E.internalId,!1,!0)},D.prototype.insertTask=function(k){if(k){var E=k.parentId!=null?String(k.parentId):null,P=this.getTaskByPublicId(E),j=this.viewModel.getRootTaskId(),F=typeof k.start=="string"?new Date(k.start):k.start,W=typeof k.end=="string"?new Date(k.end):k.end,U={parentId:j&&E===j?E:P==null?void 0:P.internalId,title:k.title,start:F,end:W,progress:parseInt(k.progress)||0,color:k.color};if(this.commandManager.createTaskCommand.execute(U))return this.getLastInsertedTaskId()}return""},D.prototype.updateTask=function(k,E){var P=this.getTaskByPublicId(k.toString()),j=this._getTaskDataForUpdate(E,P);j&&this.commandManager.updateTaskCommand.execute(P.internalId,j)},D.prototype.getTaskData=function(k){var E=this.getTaskByPublicId(k.toString());if(E)return this.viewModel.getTaskObjectForDataSource(E)},D.prototype.insertDependency=function(k){if(k){var E=String(k.predecessorId),P=this.getTaskByPublicId(E),j=String(k.successorId),F=this.getTaskByPublicId(j),W=k.type;P&&F&&this.validationController.canCreateDependency(E,j)&&this.commandManager.createDependencyCommand.execute(P.internalId,F.internalId,W)}},D.prototype.deleteDependency=function(k){var E=this.viewModel.convertPublicToInternalKey("dependency",k);(0,g.isDefined)(E)&&this.commandManager.removeDependencyCommand.execute(E)},D.prototype.getDependencyData=function(k){return this.viewModel.getDependencyObjectForDataSource(k)},D.prototype.insertResource=function(k,E){var P=this;k&&this.commandManager.createResourceCommand.execute(String(k.text),k.color&&String(k.color),function(j){if((0,g.isDefined)(E))for(var F=0;F<E.length;F++)P.assignResourceToTask(j,E[F])})},D.prototype.deleteResource=function(k){var E=this.viewModel.convertPublicToInternalKey("resource",k);(0,g.isDefined)(E)&&this.commandManager.removeResourceCommand.execute(E)},D.prototype.assignResourceToTask=function(k,E){var P=this.viewModel.convertPublicToInternalKey("resource",k),j=this.viewModel.convertPublicToInternalKey("task",E);(0,g.isDefined)(P)&&(0,g.isDefined)(j)&&this.commandManager.assignResourceCommand.execute(P,j)},D.prototype.unassignResourceFromTask=function(k,E){var P=this.viewModel.findAssignment(k,E);P&&this.commandManager.deassignResourceCommand.execute(P.internalId)},D.prototype.unassignAllResourcesFromTask=function(k){var E=this,P=this.viewModel.convertPublicToInternalKey("task",k);this.viewModel.findAllTaskAssignments(P).forEach(function(j){return E.commandManager.deassignResourceCommand.execute(j.internalId)})},D.prototype.getResourceData=function(k){return this.viewModel.getResourceObjectForDataSource(k)},D.prototype.getResourceAssignmentData=function(k){return this.viewModel.getResourceAssignmentObjectForDataSource(k)},D.prototype.getTaskResources=function(k){var E=this.viewModel,P=E.getItemByPublicId("task",k);return P&&E.getAssignedResources(P).items},D.prototype.getVisibleTaskKeys=function(){return this.viewModel.getVisibleTasks().map(function(k){return k.id})},D.prototype.getVisibleDependencyKeys=function(){return this.viewModel.getVisibleDependencies().map(function(k){return k.id})},D.prototype.getVisibleResourceKeys=function(){return this.viewModel.getVisibleResources().map(function(k){return k.id})},D.prototype.getVisibleResourceAssignmentKeys=function(){return this.viewModel.getVisibleResourceAssignments().map(function(k){return k.id})},D.prototype.getTasksExpandedState=function(){return this.viewModel.getTasksExpandedState()},D.prototype.applyTasksExpandedState=function(k){this.viewModel.applyTasksExpandedState(k)},D.prototype.updateWithDataReload=function(k){if(this._updateWithModelReloadLockedCounter>0)this._pendingUpdateInfo={keepExpandState:k};else{var E=k&&this.getTasksExpandedState();this.loadOptionsFromGanttOwner(),k?this.applyTasksExpandedState(E):this.resetAndUpdate();var P=H.DialogBase.activeInstance;P&&P.canRefresh&&P.getDialogName()==="TaskEdit"&&P.refresh(),this.dispatcher.notifyGanttViewUpdated()}},D.prototype.onBrowserWindowResize=function(){this.fullScreenModeHelper.isInFullScreenMode?this.fullScreenModeHelper.adjustControlInFullScreenMode():this.adjustOwnerControl()},D.prototype.getTaskTreeLine=function(k){return this.viewModel.getTaskTreeLine(k).reverse()},D.prototype.setTaskValue=function(k,E,P){var j=this.commandManager.updateTaskCommand,F=this.getTaskByPublicId(k),W={};return F&&(E==="title"&&(W[E]=P||""),E==="progress"&&(W[E]=P),E==="start"&&(W[E]=n.DateTimeUtils.getMinDate(P,F.end)),E==="end"&&(W[E]=n.DateTimeUtils.getMaxDate(P,F.start))),Object.keys(W).length>0&&j.execute(F.internalId,W)},D.prototype.getLastInsertedTaskId=function(){var k=this.history.historyItems.filter(function(P){return P instanceof o.CreateTaskHistoryItem}),E=k[k.length-1];return E&&E.insertedKey},D.prototype.getTaskByPublicId=function(k){return this.viewModel.tasks.getItemByPublicId(k)},D.prototype.getPrevTask=function(k){var E=this.viewModel.findItem(k);if(!E)return null;var P=(E.parent||this.viewModel.root).children.indexOf(E)-1;return P>-1?E.parent.children[P].task:E.parent.task},D.prototype.getTaskIdByInternalId=function(k){var E=this.viewModel.findItem(k),P=E&&E.task;return P?P.id:null},D.prototype.isTaskHasChildren=function(k){var E=this.viewModel.findItem(k);return E&&E.children.length>0},D.prototype.requireFirstLoadParentAutoCalc=function(){var k=this.ganttOwner;return k.getRequireFirstLoadParentAutoCalc&&k.getRequireFirstLoadParentAutoCalc()},D.prototype.updateOwnerInAutoParentMode=function(){this.viewModel.parentAutoCalc&&this.dispatcher.notifyParentDataRecalculated(this.viewModel.getCurrentTaskData())},D.prototype.getOwnerControlMainElement=function(){var k=this.ganttOwner;return k.getMainElement&&k.getMainElement()},D.prototype.adjustOwnerControl=function(){var k=this.ganttOwner;k.adjustControl&&k.adjustControl()},D.prototype.applySettings=function(k,E){E===void 0&&(E=!1);var P=v.Settings.parse(k),j=E||this.settings.equal(P);this.settings=P,j||this.resetAndUpdate()},D.prototype.getDataUpdateErrorCallback=function(){var k=this,E=this.history,P=E.getCurrentProcessingItemInfo();return function(){k.dispatcher.lock(),E.rollBackAndRemove(P),k.dispatcher.unlock(),k.updateBarManager()}},D.prototype.setTaskTooltipContentTemplate=function(k){this.settings.taskTooltipContentTemplate=k},D.prototype.setTaskProgressTooltipContentTemplate=function(k){this.settings.taskProgressTooltipContentTemplate=k},D.prototype.setTaskTimeTooltipContentTemplate=function(k){this.settings.taskTimeTooltipContentTemplate=k},D.prototype.setTaskContentTemplate=function(k){this.settings.taskContentTemplate=k},D.prototype.updateBarManager=function(){this.barManager.updateItemsState([])},D.prototype.onTaskAreaClick=function(k,E){var P,j=this.viewModel.items[k];return j&&this.onTaskClick((P=j.task)===null||P===void 0?void 0:P.id,E)},D.prototype.onTaskAreaDblClick=function(k,E){var P=this.viewModel.items[k];P&&this.onTaskDblClick(P.task.id,E)&&this.commandManager.showTaskEditDialog.execute(P.task)},D.prototype.onTaskAreaContextMenu=function(k,E,P){var j,F,W=P==="dependency",U=E,K=this.viewModel,G=W?K.convertInternalToPublicKey("dependency",C.EvtUtils.getEventSource(E).getAttribute("dependency-id")):(F=(j=K.items[k])===null||j===void 0?void 0:j.task)===null||F===void 0?void 0:F.id;if(this.onGanttViewContextMenu(E,G,P)){var q={event:E,type:P,key:G,position:new L.Point(C.EvtUtils.getEventX(U),C.EvtUtils.getEventY(U))};this.showPopupMenu(q)}},D.prototype.onTaskSelectionChanged=function(k,E){var P=this,j=this.viewModel.items[k];this.isFocus=x.DomUtils.isItParent(this.renderHelper.taskArea,C.EvtUtils.getEventSource(E)),j&&this.isFocus&&this.settings.allowSelectTask&&setTimeout(function(){P.changeGanttTaskSelection(j.task.id,!0)},0)},D.prototype.onTaskClick=function(k,E){return!this.ganttOwner.onTaskClick||this.ganttOwner.onTaskClick(k,E)},D.prototype.onTaskDblClick=function(k,E){return!this.ganttOwner.onTaskDblClick||this.ganttOwner.onTaskDblClick(k,E)},D.prototype.getDateFormat=function(k){return this.ganttOwner.getFormattedDateText?this.ganttOwner.getFormattedDateText(k):this.getDefaultDateFormat(k)},D.prototype.getDefaultDateFormat=function(k){return("0"+k.getDate()).slice(-2)+"/"+("0"+(k.getMonth()+1)).slice(-2)+"/"+k.getFullYear()+" "+("0"+k.getHours()).slice(-2)+":"+("0"+k.getMinutes()).slice(-2)},D.prototype.destroyTemplate=function(k){this.ganttOwner.destroyTemplate?this.ganttOwner.destroyTemplate(k):k.innerHTML=""},D.prototype.onTaskAreaSizeChanged=function(k){this.ganttOwner.onTaskAreaSizeChanged&&this.ganttOwner.onTaskAreaSizeChanged(k)},D.prototype.showTaskEditDialog=function(){this.commandManager.showTaskEditDialog.execute()},D.prototype.showTaskDetailsDialog=function(k){var E=this.getTaskByPublicId(k);E&&this.commandManager.showTaskEditDialog.execute(E,!0)},D.prototype.showResourcesDialog=function(){this.commandManager.showResourcesDialog.execute()},D.prototype.getCommandByKey=function(k){return this.commandManager.getCommand(k)},D.prototype._getTaskDataForUpdate=function(k,E){var P={};return E&&k&&((0,g.isDefined)(k.title)&&k.title!==E.title&&(P.title=k.title),(0,g.isDefined)(k.progress)&&k.progress!==E.progress&&(P.progress=k.progress),(0,g.isDefined)(k.start)&&k.start!==E.start&&(P.start=k.start),(0,g.isDefined)(k.end)&&k.end!==E.end&&(P.end=k.end),(0,g.isDefined)(k.color)&&k.color!==E.color&&(P.color=k.color)),Object.keys(P).length>0?P:null},D.prototype.updateViewDataRange=function(){var k=this.viewModel,E=k.getTaskMinStart(),P=k.getTaskMaxEnd(),j=E.getTime()<this.dataRange.start.getTime(),F=P.getTime()>this.dataRange.end.getTime();j&&(this.dataRange.start=E),F&&(this.dataRange.end=P),(j||F)&&this.resetAndUpdate()},D.cachedPrefix="cached_",D.taskAreaScrollLeftKey=D.cachedPrefix+"taskAreaScrollLeft",D.taskAreaScrollTopKey=D.cachedPrefix+"taskAreaScrollTop",D.taskTextHeightKey=D.cachedPrefix+"taskTextHeight",D}();u.GanttView=B},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Resource=void 0;var c=h(0),p=h(1),a=function(o){function t(){var n=o.call(this)||this;return n.text="",n.color="",n}return c.__extends(t,o),t.prototype.assignFromObject=function(n){(0,p.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.text=n.text,(0,p.isDefined)(n.color)&&(this.color=n.color))},t}(h(2).DataObject);u.Resource=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssigningArguments=void 0;var c=h(0),p=function(a){function o(t,n){var e=a.call(this,null)||this;return e.values={resourceId:t,taskId:n},e}return c.__extends(o,a),Object.defineProperty(o.prototype,"resourceId",{get:function(){return this.values.resourceId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskId",{get:function(){return this.values.taskId},enumerable:!1,configurable:!0}),o}(h(11).BaseArguments);u.ResourceAssigningArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.AssignResourceHistoryItem=void 0;var c=h(0),p=h(14),a=h(2),o=h(18),t=function(n){function e(r,i,s){var l=n.call(this,r)||this;return l.resourceId=i,l.taskId=s,l}return c.__extends(e,n),e.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.assign(this.resourceId,this.taskId,this.insertedKey)},e.prototype.undo=function(){this.modelManipulator.resource.deassig(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:a.GanttDataObjectNames.resourceAssignment,getKey:function(){return r.insertedKey},updateKey:function(i){return r.insertedKey=i}},{objectType:a.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(i){return r.taskId=i}},{objectType:a.GanttDataObjectNames.resource,getKey:function(){return r.resourceId},updateKey:function(i){return r.resourceId=i}}]},enumerable:!1,configurable:!0}),e}(p.HistoryItem);u.AssignResourceHistoryItem=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyCommandBase=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n}(p.CommandBase);u.DependencyCommandBase=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskInsertingArguments=void 0;var c=h(0),p=function(a){function o(t,n){var e=a.call(this,t)||this;return e.values=n??{},e}return c.__extends(o,a),Object.defineProperty(o.prototype,"start",{get:function(){return this.values.start},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"end",{get:function(){return this.values.end},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"title",{get:function(){return this.values.title},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"progress",{get:function(){return this.values.progress},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"parentId",{get:function(){return this.values.parentId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o}(h(11).BaseArguments);u.TaskInsertingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UpdateTaskHistoryItem=void 0;var c=h(0),p=h(2),a=h(14),o=h(54),t=function(n){function e(r,i,s){var l=n.call(this,r)||this;return l.taskId=i,l.newValues=s,l}return c.__extends(e,n),e.prototype.redo=function(){var r=this.modelManipulator.task.update(this.taskId,this.newValues);this.oldState=new o.HistoryItemState(this.taskId,r)},e.prototype.undo=function(){this.modelManipulator.task.update(this.taskId,this.oldState.value)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:p.GanttDataObjectNames.task,getKey:function(){return r.taskId},updateKey:function(i){return r.taskId=i}}]},enumerable:!1,configurable:!0}),e}(a.HistoryItem);u.UpdateTaskHistoryItem=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItemState=void 0;var c=function(p,a){this.id=p,this.value=a};u.HistoryItemState=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Time=void 0;var c=function(){function p(a,o,t,n){a===void 0&&(a=0),o===void 0&&(o=0),t===void 0&&(t=0),n===void 0&&(n=0),this._hour=0,this._min=0,this._sec=0,this._msec=0,this._fullmsec=0,this.hour=a,this.min=o,this.sec=t,this.msec=n}return Object.defineProperty(p.prototype,"hour",{get:function(){return this._hour},set:function(a){a>=0&&a<24&&(this._hour=a,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"min",{get:function(){return this._min},set:function(a){a>=0&&a<60&&(this._min=a,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"sec",{get:function(){return this._sec},set:function(a){a>=0&&a<60&&(this._sec=a,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"msec",{get:function(){return this._msec},set:function(a){a>=0&&a<1e3&&(this._msec=a,this.updateFullMilleconds())},enumerable:!1,configurable:!0}),p.prototype.updateFullMilleconds=function(){var a=60*(60*this._hour+this._min)+this._sec;this._fullmsec=1e3*a+this._msec},p.prototype.getTimeInMilleconds=function(){return this._fullmsec},p}();u.Time=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TimeRange=void 0;var c=h(8),p=function(){function a(o,t){c.DateTimeUtils.caclTimeDifference(o,t)>=0?(this._start=o,this._end=t):(this._start=t,this._end=o)}return Object.defineProperty(a.prototype,"start",{get:function(){return this._start},set:function(o){o&&c.DateTimeUtils.caclTimeDifference(o,this._end)>=0&&(this._start=o)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._end},set:function(o){o&&c.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&(this._end=o)},enumerable:!1,configurable:!0}),a.prototype.isTimeInRange=function(o){return c.DateTimeUtils.caclTimeDifference(this._start,o)>=0&&c.DateTimeUtils.caclTimeDifference(o,this._end)>=0},a.prototype.hasIntersect=function(o){return this.isTimeInRange(o.start)||this.isTimeInRange(o.end)||o.isTimeInRange(this.start)||o.isTimeInRange(this.end)},a.prototype.concatWith=function(o){return!!this.hasIntersect(o)&&(this.start=c.DateTimeUtils.getMinTime(this.start,o.start),this.end=c.DateTimeUtils.getMaxTime(this.end,o.end),!0)},a}();u.TimeRange=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DayOfWeekMonthlyOccurrence=void 0,function(c){c[c.First=0]="First",c[c.Second=1]="Second",c[c.Third=2]="Third",c[c.Forth=3]="Forth",c[c.Last=4]="Last"}(u.DayOfWeekMonthlyOccurrence||(u.DayOfWeekMonthlyOccurrence={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GridElementInfo=void 0;var c=h(5),p=h(12),a=h(127),o=function(){function t(n,e,r){this.id=t.id++,this.position=new c.Point(void 0,void 0),this.size=new p.Size(0,0),this.margins=new a.Margins(void 0,void 0,void 0,void 0),this.attr={},this.style={},this.additionalInfo={},n&&(this.className=n),e&&this.setPosition(e),r&&this.setSize(r)}return t.prototype.setSize=function(n){this.size.width=n.width,this.size.height=n.height},t.prototype.setPosition=function(n){this.position.x=n.x,this.position.y=n.y},t.prototype.assignToElement=function(n){this.assignPosition(n),this.assignSize(n),this.assignMargins(n),this.className&&(n.className=this.className)},t.prototype.assignPosition=function(n){this.position.x!=null&&(n.style.left=this.position.x+"px"),this.position.y!=null&&(n.style.top=this.position.y+"px")},t.prototype.assignSize=function(n){this.size.width&&(n.style.width=this.size.width+"px"),this.size.height&&(n.style.height=this.size.height+"px")},t.prototype.assignMargins=function(n){this.margins.left&&(n.style.marginLeft=this.margins.left+"px"),this.margins.top&&(n.style.marginTop=this.margins.top+"px"),this.margins.right&&(n.style.marginRight=this.margins.right+"px"),this.margins.bottom&&(n.style.marginBottom=this.margins.bottom+"px")},t.prototype.setAttribute=function(n,e){this.attr[n]=e},t.id=0,t}();u.GridElementInfo=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StripLine=void 0;var c=h(1),p=function(){function a(o,t,n,e,r){this.isCurrent=!1,this.start=o,this.end=t,this.title=n,this.cssClass=e,this.isCurrent=r}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.start)&&(t.start=o.start),(0,c.isDefined)(o.end)&&(t.end=o.end),(0,c.isDefined)(o.title)&&(t.title=o.title),(0,c.isDefined)(o.cssClass)&&(t.cssClass=o.cssClass)),t},a.prototype.clone=function(){return new a(this.start,this.end,this.title,this.cssClass,this.isCurrent)},a.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=t&&this.start==o.start)&&this.end==o.end)&&this.title==o.title)&&this.cssClass==o.cssClass},a}();u.StripLine=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfDependencyLineInfo=void 0;var c=h(5),p=h(17),a=function(){function o(){}return o.prototype.assign=function(t){var n;this._copyPoints(t.points),this.arrowInfo=t.arrowInfo,(n=this.fillColor)!==null&&n!==void 0||(this.fillColor=new p.Color),this.fillColor.assign(t.fillColor)},o.prototype._copyPoints=function(t){var n=this;this.points=new Array,t==null||t.forEach(function(e){return n.points.push(new c.Point(e.x,e.y))})},o}();u.PdfDependencyLineInfo=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTaskResourcesInfo=void 0;var c=h(1),p=h(26),a=function(){function o(t,n,e,r){t&&(this.text=t),n&&(this.style=new p.StyleDef(n)),(0,c.isDefined)(e)&&(this.x=e),(0,c.isDefined)(r)&&(this.y=r)}return o.prototype.assign=function(t){this.text=t.text,this.style=new p.StyleDef(t.style),this.x=t.x,this.y=t.y},o}();u.PdfTaskResourcesInfo=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Width=void 0;var c=h(35),p=h(3),a=function(){function o(t){this.assign(t)}return o.prototype.assign=function(t){if(t instanceof o)this._widthInternal=t._widthInternal;else{var n=typeof t=="number"?t:parseInt(t);isNaN(n)?this.assignFromString(t):this._widthInternal=n}},o.prototype.assignFromString=function(t){if(t){var n=p.DomUtils.pxToInt(t);this._widthInternal=n||c.PredefinedStyles.getPredefinedStringOrUndefined(t,c.PredefinedStyles.width)}},o.prototype.hasValue=function(){return!!this._widthInternal},o.prototype.getValue=function(){return this._widthInternal},o}();u.Width=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfTimeMarkerInfo=void 0;var c=h(5),p=h(12),a=h(1),o=h(17),t=function(){function n(e,r,i,s,l){this.lineColor=new o.Color,this.color=new o.Color,e&&(this.start=new c.Point(e.x,e.y)),r&&(this.size=new p.Size(r.width,r.height)),i&&this.color.assign(i),s&&this.lineColor.assign(s),(0,a.isDefined)(l)&&(this.isStripLine=l)}return n.prototype.assign=function(e){var r,i,s,l;e&&(this.start=new c.Point((r=e.start)===null||r===void 0?void 0:r.x,(i=e.start)===null||i===void 0?void 0:i.y),this.size=new p.Size((s=e.size)===null||s===void 0?void 0:s.width,(l=e.size)===null||l===void 0?void 0:l.height),this.isStripLine=e.isStripLine,this.color.assign(e.color),this.lineColor.assign(e.lineColor))},n}();u.PdfTimeMarkerInfo=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EllipsisHelper=void 0;var c=function(){function p(){}return p.limitPdfTextWithEllipsis=function(a,o,t){if(!(o!=null&&o.getTextWidth)||!t)return a;if(o.getTextWidth(a.toString())>t){for(var n=a,e=a.length-1;o.getTextWidth(n)>t&&e>0;)n=n.substring(0,e)+p.ellipsis,e--;return n}return a},p.ellipsis="...",p}();u.EllipsisHelper=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TooltipSettings=void 0;var c=h(1),p=function(){function a(){}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.getHeaderHeight)&&(t.getHeaderHeight=o.getHeaderHeight),(0,c.isDefined)(o.getTaskTooltipContentTemplate)&&(t.getTaskTooltipContentTemplate=o.getTaskTooltipContentTemplate),(0,c.isDefined)(o.getTaskProgressTooltipContentTemplate)&&(t.getTaskProgressTooltipContentTemplate=o.getTaskProgressTooltipContentTemplate),(0,c.isDefined)(o.getTaskTimeTooltipContentTemplate)&&(t.getTaskTimeTooltipContentTemplate=o.getTaskTimeTooltipContentTemplate),(0,c.isDefined)(o.destroyTemplate)&&(t.destroyTemplate=o.destroyTemplate),(0,c.isDefined)(o.formatDate)&&(t.formatDate=o.formatDate),(0,c.isDefined)(o.getTaskAreaContainer)&&(t.getTaskAreaContainer=o.getTaskAreaContainer)),t},a}();u.TooltipSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.KeyCode=u.ModifierKey=u.KeyUtils=void 0;var c,p,a=h(10),o=h(171),t=h(39),n=function(){function e(){}return e.getKeyModifiers=function(r){var i=0;return r.altKey&&(i|=c.Alt),r.ctrlKey&&(i|=c.Ctrl),r.shiftKey&&(i|=c.Shift),r.metaKey&&(i|=c.Meta),i},e.getShortcutCode=function(r,i,s,l,g){var d=r;return d|=i?c.Ctrl:0,d|=s?c.Shift:0,d|=l?c.Alt:0,d|=g?c.Meta:0},e.getShortcutCodeByEvent=function(r){return e.getShortcutCode(e.getEventKeyCode(r),r.ctrlKey,r.shiftKey,r.altKey,!!a.Browser.MacOSPlatform&&r.metaKey)},e.getEventKeyCode=function(r){return a.Browser.NetscapeFamily||a.Browser.Opera?r.which:r.keyCode},e.parseShortcutString=function(r){if(!r)return 0;var i=!1,s=!1,l=!1,g=!1,d=null,f=r.toString().split("+");if(f.length>0)for(var y=0;y<f.length;y++){var m=t.StringUtils.trim(f[y].toUpperCase());switch(m){case"CONTROL":case"CONTROLKEY":case"CTRL":i=!0;break;case"SHIFT":case"SHIFTKEY":s=!0;break;case"ALT":l=!0;break;case"CMD":g=!0;break;case"F1":d=p.F1;break;case"F2":d=p.F2;break;case"F3":d=p.F3;break;case"F4":d=p.F4;break;case"F5":d=p.F5;break;case"F6":d=p.F6;break;case"F7":d=p.F7;break;case"F8":d=p.F8;break;case"F9":d=p.F9;break;case"F10":d=p.F10;break;case"F11":d=p.F11;break;case"F12":d=p.F12;break;case"RETURN":case"ENTER":d=p.Enter;break;case"HOME":d=p.Home;break;case"END":d=p.End;break;case"LEFT":d=p.Left;break;case"RIGHT":d=p.Right;break;case"UP":d=p.Up;break;case"DOWN":d=p.Down;break;case"PAGEUP":d=p.PageUp;break;case"PAGEDOWN":d=p.PageDown;break;case"SPACE":d=p.Space;break;case"TAB":d=p.Tab;break;case"BACKSPACE":case"BACK":d=p.Backspace;break;case"CONTEXT":d=p.ContextMenu;break;case"ESCAPE":case"ESC":d=p.Esc;break;case"DELETE":case"DEL":d=p.Delete;break;case"INSERT":case"INS":d=p.Insert;break;case"PLUS":d=43;break;default:d=m.charCodeAt(0)}}else alert(o.EncodeUtils.decodeViaTextArea("Invalid shortcut"));return e.getShortcutCode(d,i,s,l,g)},e}();u.KeyUtils=n,function(e){e[e.None=0]="None",e[e.Ctrl=65536]="Ctrl",e[e.Shift=262144]="Shift",e[e.Alt=1048576]="Alt",e[e.Meta=16777216]="Meta"}(c=u.ModifierKey||(u.ModifierKey={})),function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Pause=19]="Pause",e[e.CapsLock=20]="CapsLock",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Insert=45]="Insert",e[e.Delete=46]="Delete",e[e.Key_0=48]="Key_0",e[e.Key_1=49]="Key_1",e[e.Key_2=50]="Key_2",e[e.Key_3=51]="Key_3",e[e.Key_4=52]="Key_4",e[e.Key_5=53]="Key_5",e[e.Key_6=54]="Key_6",e[e.Key_7=55]="Key_7",e[e.Key_8=56]="Key_8",e[e.Key_9=57]="Key_9",e[e.Key_a=65]="Key_a",e[e.Key_b=66]="Key_b",e[e.Key_c=67]="Key_c",e[e.Key_d=68]="Key_d",e[e.Key_e=69]="Key_e",e[e.Key_f=70]="Key_f",e[e.Key_g=71]="Key_g",e[e.Key_h=72]="Key_h",e[e.Key_i=73]="Key_i",e[e.Key_j=74]="Key_j",e[e.Key_k=75]="Key_k",e[e.Key_l=76]="Key_l",e[e.Key_m=77]="Key_m",e[e.Key_n=78]="Key_n",e[e.Key_o=79]="Key_o",e[e.Key_p=80]="Key_p",e[e.Key_q=81]="Key_q",e[e.Key_r=82]="Key_r",e[e.Key_s=83]="Key_s",e[e.Key_t=84]="Key_t",e[e.Key_u=85]="Key_u",e[e.Key_v=86]="Key_v",e[e.Key_w=87]="Key_w",e[e.Key_x=88]="Key_x",e[e.Key_y=89]="Key_y",e[e.Key_z=90]="Key_z",e[e.Windows=91]="Windows",e[e.ContextMenu=93]="ContextMenu",e[e.Numpad_0=96]="Numpad_0",e[e.Numpad_1=97]="Numpad_1",e[e.Numpad_2=98]="Numpad_2",e[e.Numpad_3=99]="Numpad_3",e[e.Numpad_4=100]="Numpad_4",e[e.Numpad_5=101]="Numpad_5",e[e.Numpad_6=102]="Numpad_6",e[e.Numpad_7=103]="Numpad_7",e[e.Numpad_8=104]="Numpad_8",e[e.Numpad_9=105]="Numpad_9",e[e.Multiply=106]="Multiply",e[e.Add=107]="Add",e[e.Subtract=109]="Subtract",e[e.Decimal=110]="Decimal",e[e.Divide=111]="Divide",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NumLock=144]="NumLock",e[e.ScrollLock=145]="ScrollLock",e[e.Semicolon=186]="Semicolon",e[e.Equals=187]="Equals",e[e.Comma=188]="Comma",e[e.Dash=189]="Dash",e[e.Period=190]="Period",e[e.ForwardSlash=191]="ForwardSlash",e[e.GraveAccent=192]="GraveAccent",e[e.OpenBracket=219]="OpenBracket",e[e.BackSlash=220]="BackSlash",e[e.CloseBracket=221]="CloseBracket",e[e.SingleQuote=222]="SingleQuote"}(p=u.KeyCode||(u.KeyCode={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskDragBaseState=void 0;var c=h(0),p=h(5),a=h(9),o=h(30),t=h(13),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.onMouseDownInternal=function(i){this.onStart(i)},r.prototype.onMouseUp=function(i){this.onEnd(i)},r.prototype.onMouseMoveInternal=function(i){this.onDrag(i)},r.prototype.onTouchStartInternal=function(i){this.onStart(i)},r.prototype.onTouchEndInternal=function(i){this.onEnd(i)},r.prototype.onTouchMoveInternal=function(i){this.onDrag(i)},r.prototype.onDocumentPointerDownInternal=function(i){this.onStart(i)},r.prototype.onDocumentPointerUpInternal=function(i){this.onEnd(i)},r.prototype.onDocumentPointerMoveInternal=function(i){this.onDrag(i)},r.prototype.onStart=function(i){this.currentPosition=new p.Point(a.EvtUtils.getEventX(i),a.EvtUtils.getEventY(i)),this.raiseDependencySelection(i,null),this.onStartInternal(i)},r.prototype.onDrag=function(i){var s;i.preventDefault();var l=new p.Point(a.EvtUtils.getEventX(i),a.EvtUtils.getEventY(i));(s=this.currentPosition)!==null&&s!==void 0||(this.currentPosition=l),this.onDragInternal(l),this.currentPosition=l},r.prototype.onEnd=function(i){this.onEndInternal(i),this.raiseEvent(t.TaskAreaStateEventNames.STATE_EXIT,i)},r.prototype.onStartInternal=function(i){},r.prototype.onEndInternal=function(i){},r.prototype.onDragInternal=function(i){},r.prototype.finish=function(){this.raiseEvent(t.TaskAreaStateEventNames.TASK_EDIT_END)},r}(o.TaskAreaStateBase);u.TaskDragBaseState=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StripLineSettings=void 0;var c=h(1),p=h(59),a=function(){function o(){this.showCurrentTime=!1,this.currentTimeUpdateInterval=6e4,this.stripLines=[]}return o.parse=function(t){var n=new o;if(t&&((0,c.isDefined)(t.showCurrentTime)&&(n.showCurrentTime=t.showCurrentTime),(0,c.isDefined)(t.currentTimeUpdateInterval)&&(n.currentTimeUpdateInterval=t.currentTimeUpdateInterval),(0,c.isDefined)(t.currentTimeTitle)&&(n.currentTimeTitle=t.currentTimeTitle),(0,c.isDefined)(t.currentTimeCssClass)&&(n.currentTimeCssClass=t.currentTimeCssClass),(0,c.isDefined)(t.stripLines)))for(var e=0;e<t.stripLines.length;e++)n.stripLines.push(p.StripLine.parse(t.stripLines[e]));return n},o.prototype.equal=function(t){var n=!0;if(n=(n=(n=(n=(n=n&&this.showCurrentTime==t.showCurrentTime)&&this.currentTimeUpdateInterval==t.currentTimeUpdateInterval)&&this.currentTimeTitle==t.currentTimeTitle)&&this.currentTimeCssClass==t.currentTimeCssClass)&&this.stripLines.length===t.stripLines.length)for(var e=0;e<t.stripLines.length;e++)n=n&&this.stripLines[e].equal(t.stripLines[e]);return n},o}();u.StripLineSettings=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Dependency=void 0;var c=h(0),p=h(1),a=h(2),o=h(23),t=function(n){function e(){var r=n.call(this)||this;return r.predecessorId="",r.successorId="",r.type=null,r}return c.__extends(e,n),Object.defineProperty(e.prototype,"isStartDependency",{get:function(){return this.type===o.DependencyType.SS||this.type===o.DependencyType.SF},enumerable:!1,configurable:!0}),e.prototype.assignFromObject=function(r){(0,p.isDefined)(r)&&(n.prototype.assignFromObject.call(this,r),this.predecessorId=String(r.predecessorId),this.successorId=String(r.successorId),this.type=this.parseType(r.type))},e.prototype.parseType=function(r){if(!(0,p.isDefined)(r))return o.DependencyType.FS;switch(r.toString().toUpperCase()){case"SS":case"1":return o.DependencyType.SS;case"FF":case"2":return o.DependencyType.FF;case"SF":case"3":return o.DependencyType.SF;default:return o.DependencyType.FS}},e}(a.DataObject);u.Dependency=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssignment=void 0;var c=h(0),p=h(1),a=function(o){function t(){var n=o.call(this)||this;return n.taskId="",n.resourceId="",n}return c.__extends(t,o),t.prototype.assignFromObject=function(n){(0,p.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.taskId=String(n.taskId),this.resourceId=String(n.resourceId))},t}(h(2).DataObject);u.ResourceAssignment=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RecurrenceFactory=void 0;var c=h(1),p=h(72),a=h(205),o=h(206),t=h(208),n=function(){function e(){}return e.createRecurrenceByType=function(r){if(!r)return null;switch(r.toLowerCase()){case"daily":return new p.Daily;case"weekly":return new a.Weekly;case"monthly":return new o.Monthly;case"yearly":return new t.Yearly}return null},e.createRecurrenceFromObject=function(r){if(!r)return null;var i=this.createRecurrenceByType(r.type);return i&&i.assignFromObject(r),i},e.getEnumValue=function(r,i){if(!(0,c.isDefined)(r[i]))return null;var s=parseInt(i);return isNaN(s)?r[i]:s},e}();u.RecurrenceFactory=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Daily=void 0;var c=h(0),p=h(38),a=h(8),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return!0},n.prototype.checkInterval=function(e){return a.DateTimeUtils.getDaysBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=this.interval;return this.isRecurrencePoint(e)||(r-=a.DateTimeUtils.getDaysBetween(this.start,e)%this.interval),a.DateTimeUtils.addDays(e,r)},n.prototype.calculateNearestPoint=function(e){return a.DateTimeUtils.addDays(e,1)},n}(p.RecurrenceBase);u.Daily=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttView=u.default=void 0,h(74);var c=h(47);Object.defineProperty(u,"default",{enumerable:!0,get:function(){return c.GanttView}}),Object.defineProperty(u,"GanttView",{enumerable:!0,get:function(){return c.GanttView}})},function(S,u,h){},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.BarManager=void 0;var c=function(){function p(a,o){this.commandManager=a,this.bars=o}return p.prototype.updateContextMenu=function(){for(var a=0,o=void 0;o=this.bars[a];a++)if(o.isContextMenu()){o.updateItemsList();for(var t=o.getCommandKeys(),n=0;n<t.length;n++)this.updateBarItem(o,t[n])}},p.prototype.updateItemsState=function(a){for(var o=!!a.length,t=function(i,s){if(s.isVisible()){for(var l=s.getCommandKeys(),g=function(f){if(o&&!a.filter(function(y){return y==l[f]}).length)return"continue";n.updateBarItem(s,l[f])},d=0;d<l.length;d++)g(d);s.completeUpdate()}},n=this,e=0,r=void 0;r=this.bars[e];e++)t(0,r)},p.prototype.updateBarItem=function(a,o){var t=this.commandManager.getCommand(o);if(t){var n=t.getState();a.setItemVisible(o,n.visible),n.visible&&(a.setItemEnabled(o,n.enabled),a.setItemValue(o,n.value))}},p}();u.BarManager=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CommandManager=void 0;var c=h(77),p=h(78),a=h(79),o=h(86),t=h(88),n=h(89),e=h(90),r=h(91),i=h(94),s=h(96),l=h(97),g=h(98),d=h(99),f=h(100),y=h(101),m=h(104),v=h(105),T=h(109),b=h(112),w=h(113),A=h(114),I=h(115),_=h(117),M=h(120),O=h(121),N=h(122),C=function(){function x(L){this.control=L,this.commands={},this.createCommand(t.GanttClientCommand.CreateTask,this.createTaskCommand),this.createCommand(t.GanttClientCommand.CreateSubTask,this.createSubTaskCommand),this.createCommand(t.GanttClientCommand.RemoveTask,this.removeTaskCommand),this.createCommand(t.GanttClientCommand.RemoveDependency,this.removeDependencyCommand),this.createCommand(t.GanttClientCommand.TaskInformation,this.showTaskEditDialog),this.createCommand(t.GanttClientCommand.ResourceManager,this.showResourcesDialog),this.createCommand(t.GanttClientCommand.TaskAddContextItem,new M.TaskAddContextItemCommand(this.control)),this.createCommand(t.GanttClientCommand.Undo,new d.UndoCommand(this.control)),this.createCommand(t.GanttClientCommand.Redo,new g.RedoCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomIn,new O.ZoomInCommand(this.control)),this.createCommand(t.GanttClientCommand.ZoomOut,new N.ZoomOutCommand(this.control)),this.createCommand(t.GanttClientCommand.FullScreen,new l.ToggleFullScreenCommand(this.control)),this.createCommand(t.GanttClientCommand.CollapseAll,new n.CollapseAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ExpandAll,new e.ExpandAllCommand(this.control)),this.createCommand(t.GanttClientCommand.ToggleResources,this.toggleResources),this.createCommand(t.GanttClientCommand.ToggleDependencies,this.toggleDependencies)}return Object.defineProperty(x.prototype,"createTaskCommand",{get:function(){return new A.CreateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"createSubTaskCommand",{get:function(){return new w.CreateSubTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"removeTaskCommand",{get:function(){return new _.RemoveTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"updateTaskCommand",{get:function(){return new I.UpdateTaskCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"createDependencyCommand",{get:function(){return new r.CreateDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"removeDependencyCommand",{get:function(){return new i.RemoveDependencyCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"createResourceCommand",{get:function(){return new y.CreateResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"removeResourceCommand",{get:function(){return new T.RemoveResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"assignResourceCommand",{get:function(){return new f.AssignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"deassignResourceCommand",{get:function(){return new m.DeassignResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"changeResourceColorCommand",{get:function(){return new v.ResourceColorCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showTaskEditDialog",{get:function(){return new o.TaskEditDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showConstraintViolationDialog",{get:function(){return new p.ConstraintViolationDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showConfirmationDialog",{get:function(){return new c.ConfirmationDialog(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"showResourcesDialog",{get:function(){return new a.ResourcesDialogCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"toggleResources",{get:function(){return new b.ToggleResourceCommand(this.control)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"toggleDependencies",{get:function(){return new s.ToggleDependenciesCommand(this.control)},enumerable:!1,configurable:!0}),x.prototype.getCommand=function(L){return this.commands[L]},x.prototype.createCommand=function(L,R){this.commands[L]=R},x}();u.CommandManager=C},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConfirmationDialog=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.prototype.applyParameters=function(t,n){return this.history.beginTransaction(),n.callback(),this.history.endTransaction(),this.control.barManager.updateItemsState([]),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"Confirmation"},o}(h(20).DialogBase);u.ConfirmationDialog=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationDialogCommand=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.prototype.applyParameters=function(t,n){return n.callback(t),!0},o.prototype.createParameters=function(t){return t},o.prototype.getDialogName=function(){return"ConstraintViolation"},o}(h(20).DialogBase);u.ConstraintViolationDialogCommand=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesDialogCommand=void 0;var c=h(0),p=h(21),a=h(20),o=h(31),t=h(40),n=h(85),e=function(r){function i(){var s=r!==null&&r.apply(this,arguments)||this;return s.resourcesForDelete=[],s}return c.__extends(i,r),i.prototype.onBeforeDialogShow=function(s){return this.modelManipulator.dispatcher.raiseResourceManagerDialogShowing(s,function(l){s.resources=l.values.resources})},i.prototype.applyParameters=function(s,l){this.history.beginTransaction();for(var g=0;g<s.resources.length;g++)l.resources.getItemById(s.resources.getItem(g).internalId)||this.control.commandManager.createResourceCommand.execute(s.resources.getItem(g).text);for(g=0;g<l.resources.length;g++)s.resources.getItemById(l.resources.getItem(g).internalId)||this.resourcesForDelete.push(l.resources.getItem(g));return this.history.endTransaction(),!1},i.prototype.createParameters=function(s){this.callBack=s;var l=new n.ResourcesDialogParameters;return l.resources=new p.ResourceCollection,l.resources.addRange(this.control.viewModel.resources.items),l},i.prototype.afterClosing=function(){var s=this;if(this.resourcesForDelete.length){var l=this.control.commandManager.showConfirmationDialog,g=new t.ConfirmationDialogParameters(o.ConfirmationType.ResourcesDelete,function(){s.history.beginTransaction();for(var d=0;d<s.resourcesForDelete.length;d++)s.control.commandManager.removeResourceCommand.execute(s.resourcesForDelete[d].internalId);s.history.endTransaction()});g.message=this.resourcesForDelete.reduce(function(d,f){return c.__spreadArray(c.__spreadArray([],d,!0),[f.text],!1)},[]).join(", "),this.callBack&&(l.afterClosing=function(){delete a.DialogBase.activeInstance,s.callBack()}),l.execute(g)}else this.callBack&&this.callBack()},i.prototype.getDialogName=function(){return"Resources"},i}(a.DialogBase);u.ResourcesDialogCommand=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttJsonUtils=void 0;var c=h(81),p=function(){function a(){}return a.parseJson=function(o){return c.JsonUtils.isValid(o)?JSON.parse(o):null},a}();u.GanttJsonUtils=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.JsonUtils=void 0;var c=function(){function p(){}return p.isValid=function(a){return!/[^,:{}[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,""))},p}();u.JsonUtils=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ListUtils=void 0;var c=h(83),p=h(84),a=function(){function o(){}return o.remove=function(t,n){var e=t.indexOf(n,0);e>=0&&t.splice(e,1)},o.removeBy=function(t,n){for(var e=t.length,r=0;r<e;r++)if(n(t[r],r))return t.splice(r,1)[0];return null},o.shallowCopy=function(t){return t.slice()},o.deepCopy=function(t){return o.map(t,function(n){return n.clone()})},o.initByValue=function(t,n){for(var e=[];t>0;t--)e.push(n);return e},o.initByCallback=function(t,n){for(var e=[],r=0;r<t;r++)e.push(n(r));return e},o.forEachOnInterval=function(t,n){for(var e=t.end,r=t.start;r<e;r++)n(r)},o.reverseForEachOnInterval=function(t,n){for(var e=t.start,r=t.end-1;r>=e;r--)n(r)},o.reducedMap=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++){var l=n(t[s],s);l!==null&&i.push(l)}return i},o.filter=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++){var l=t[s];n(l,s)&&i.push(l)}return i},o.map=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=[],s=e;s<r;s++)i.push(n(t[s],s));return i},o.indexBy=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(n(t[i],i))return i;return-1},o.reverseIndexBy=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(n(t[i],i))return i;return-1},o.elementBy=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.indexBy(t,n,e,r);return i<0?null:t[i]},o.reverseElementBy=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);var i=o.reverseIndexBy(t,n,e,r);return i<0?null:t[i]},o.last=function(t){return t[t.length-1]},o.setLast=function(t,n){return t[t.length-1]=n},o.incLast=function(t){return++t[t.length-1]},o.decLast=function(t){return--t[t.length-1]},o.equals=function(t,n){return t.length===n.length&&o.allOf2(t,n,function(e,r){return e.equals(r)})},o.equalsByReference=function(t,n){var e=t.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(t[r]!==n[r])return!1;return!0},o.unique=function(t,n,e,r){e===void 0&&(e=n),r===void 0&&(r=function(){});var i=t.length;if(i===0)return[];var s=(t=t.sort(n))[0],l=o.reducedMap(t,function(g){return e(s,g)!==0?(s=g,g):(r(g),null)},1,i);return l.unshift(t[0]),l},o.uniqueNumber=function(t){t=t.sort(p.Comparers.number);for(var n=Number.NaN,e=t.length-1;e>=0;e--)n===t[e]?t.splice(e,1):n=t[e];return t},o.forEach=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)n(t[i],i)},o.forEach2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)e(t[s],n[s],s)},o.reverseForEach=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)n(t[i],i)},o.reverseIndexOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(t[i]===n)return i;return-1},o.accumulate=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=n,l=r;l<i;l++)s=e(s,t[l],l);return s},o.accumulateNumber=function(t,n,e,r,i){e===void 0&&(e=0),r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=e,l=r;l<i;l++)s+=n(t[l],l,s);return s},o.anyOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(n(t[i],i))return!0;return!1},o.unsafeAnyOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++){var s=n(t[i],i);if(s)return s}return null},o.reverseAnyOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--)if(n(t[i],i))return!0;return!1},o.unsafeReverseAnyOf=function(t,n,e,r){e===void 0&&(e=t.length-1),r===void 0&&(r=0);for(var i=e;i>=r;i--){var s=n(t[i],i);if(s)return s}return null},o.anyOf2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)if(e(t[s],n[s],s))return!0;return!1},o.allOf=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);for(var i=e;i<r;i++)if(!n(t[i],i))return!1;return!0},o.allOf2=function(t,n,e,r,i){r===void 0&&(r=0),i===void 0&&(i=t.length);for(var s=r;s<i;s++)if(!e(t[s],n[s],s))return!1;return!0},o.allOfOnInterval=function(t,n){for(var e=t.end,r=t.start;r<e;r++)if(!n(r))return!1;return!0},o.addListOnTail=function(t,n){for(var e=0,r=void 0;r=n[e];e++)t.push(r);return t},o.joinLists=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];return o.accumulate(n,[],function(r,i){return o.addListOnTail(r,t(i)),r})},o.push=function(t,n){return t.push(n),t},o.countIf=function(t,n){return o.accumulateNumber(t,function(e,r){return n(e,r)?1:0})},o.clear=function(t){t.splice(0)},o.merge=function(t,n,e,r,i,s){if(i===void 0&&(i=0),s===void 0&&(s=t.length),t=t.slice(i,s),s-i<2)return t;for(var l=(t=t.sort(n))[i],g=[l],d=i+1;d<s;d++){var f=t[d];e(l,f)?r(l,f):(l=f,g.push(l))}return g},o.min=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.minExtended(t,n,e,r);return i?i.minElement:null},o.max=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.maxExtended(t,n,e,r);return i?i.maxElement:null},o.minMax=function(t,n,e,r){e===void 0&&(e=0),r===void 0&&(r=t.length);var i=o.minMaxExtended(t,n,e,r);return i?new c.MinMax(i.minElement,i.maxElement):null},o.minExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=n(i),l=e+1;l<r;l++){var g=t[l],d=n(g);d<s&&(s=d,i=g)}return new c.ExtendedMin(i,s)},o.maxExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=n(i),l=e+1;l<r;l++){var g=t[l],d=n(g);d>s&&(s=d,i=g)}return new c.ExtendedMax(i,s)},o.minMaxExtended=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=i,l=n(i),g=l,d=e+1;d<r;d++){var f=t[d],y=n(f);y<l?(l=y,i=f):y>g&&(g=y,s=f)}return new c.ExtendedMinMax(i,l,s,g)},o.minByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=e+1;s<r;s++){var l=t[s];n(l,i)<0&&(i=l)}return i},o.maxByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=e+1;s<r;s++){var l=t[s];n(l,i)>0&&(i=l)}return i},o.minMaxByCmp=function(t,n,e,r){if(e===void 0&&(e=0),r===void 0&&(r=t.length),t.length===0)return null;for(var i=t[e],s=i,l=e+1;l<r;l++){var g=t[l],d=n(g,i);d>0?s=g:d<0&&(i=g)}return new c.MinMax(i,s)},o}();u.ListUtils=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ExtendedMinMax=u.ExtendedMax=u.ExtendedMin=u.MinMaxNumber=u.MinMax=void 0;var c=h(0),p=function(e,r){this.minElement=e,this.maxElement=r};u.MinMax=p;var a=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),Object.defineProperty(r.prototype,"length",{get:function(){return this.maxElement-this.minElement},enumerable:!1,configurable:!0}),r}(p);u.MinMaxNumber=a;var o=function(e,r){this.minElement=e,this.minValue=r};u.ExtendedMin=o;var t=function(e,r){this.maxElement=e,this.maxValue=r};u.ExtendedMax=t;var n=function(e){function r(i,s,l,g){var d=e.call(this,i,l)||this;return d.minValue=s,d.maxValue=g,d}return c.__extends(r,e),r}(p);u.ExtendedMinMax=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Equals=u.Comparers=void 0;var c=function(){function a(){}return a.number=function(o,t){return o-t},a.string=function(o,t){return o===t?0:o>t?1:-1},a.stringIgnoreCase=function(o,t){return(o=o.toLowerCase())===(t=t.toLowerCase())?0:o>t?1:-1},a}();u.Comparers=c;var p=function(){function a(){}return a.simpleType=function(o,t){return o===t},a.object=function(o,t){return o&&t&&(o===t||o.equals(t))},a}();u.Equals=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesDialogParameters=void 0;var c=h(0),p=h(21),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.resources=new p.ResourceCollection,n.resources.addRange(this.resources.items),n},t}(h(32).DialogParametersBase);u.ResourcesDialogParameters=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditDialogCommand=void 0;var c=h(0),p=h(21),a=h(49),o=h(50),t=h(33),n=h(20),e=h(87),r=h(1),i=function(s){function l(){return s!==null&&s.apply(this,arguments)||this}return c.__extends(l,s),l.prototype.onBeforeDialogShow=function(g){return this.modelManipulator.dispatcher.raiseTaskTaskEditDialogShowing(g,function(d){var f=d.values;g.start=f.start,g.end=f.end,g.progress=f.progress,g.title=f.title,g.readOnlyFields=d.readOnlyFields,g.hiddenFields=d.hiddenFields})},l.prototype.applyParameters=function(g,d){var f=this;this.history.beginTransaction();var y=this.getUpdatedTaskData(g,d);Object.keys(y).length>0&&setTimeout(function(){return f.control.commandManager.updateTaskCommand.execute(d.id,y)},0);for(var m=0;m<g.assigned.length;m++)if(!d.assigned.getItemById(g.assigned.getItem(m).internalId)){var v=g.assigned.getItem(m).internalId,T=d.id,b=new a.ResourceAssigningArguments(v,T);this.modelManipulator.dispatcher.notifyResourceAssigning(b),b.cancel||this.history.addAndRedo(new o.AssignResourceHistoryItem(this.modelManipulator,b.resourceId,b.taskId))}var w=function(I){var _=d.assigned.getItem(I);if(!g.assigned.getItemById(_.internalId)){var M=A.control.viewModel.assignments.items.filter(function(O){return O.resourceId===_.internalId&&O.taskId===d.id})[0];A.modelManipulator.dispatcher.fireResourceUnassigning(M)&&A.history.addAndRedo(new t.DeassignResourceHistoryItem(A.modelManipulator,M.internalId))}},A=this;for(m=0;m<d.assigned.length;m++)w(m);return this.history.endTransaction(),!1},l.prototype.getUpdatedTaskData=function(g,d){var f={};return(0,r.isDefined)(g.title)&&d.title!==g.title&&(f.title=g.title),(0,r.isDefined)(g.progress)&&d.progress!==g.progress&&(f.progress=g.progress),(0,r.isDefined)(g.start)&&d.start!==g.start&&(f.start=g.start),(0,r.isDefined)(g.end)&&d.end!==g.end&&(f.end=g.end),f},l.prototype.createParameters=function(g){var d=this;g=g||this.control.viewModel.tasks.getItemById(this.control.currentSelectedTaskID);var f=new e.TaskEditParameters;return f.id=g.internalId,f.title=g.title,f.progress=g.progress,f.start=g.start,f.end=g.end,f.assigned=this.control.viewModel.getAssignedResources(g),f.resources=new p.ResourceCollection,f.resources.addRange(this.control.viewModel.resources.items),f.showResourcesDialogCommand=this.control.commandManager.showResourcesDialog,f.showTaskEditDialogCommand=this.control.commandManager.showTaskEditDialog,f.enableEdit=this.isTaskEditEnabled(),f.enableRangeEdit=this.isTaskRangeEditEnabled(g),f.isValidationRequired=this.control.isValidateDependenciesRequired(),f.getCorrectDateRange=function(y,m,v){return d.control.validationController.getCorrectDateRange(y,m,v)},f},l.prototype.isTaskEditEnabled=function(){var g=this.control.settings;return g.editing.enabled&&g.editing.allowTaskUpdate},l.prototype.isTaskRangeEditEnabled=function(g){return!this.control.viewModel.isTaskToCalculateByChildren(g.internalId)},l.prototype.isEnabled=function(){var g=this.control,d=g.viewModel.findItem(g.currentSelectedTaskID);return!!d&&d.selected||this.isApiCall},l.prototype.getState=function(){var g=s.prototype.getState.call(this);return g.visible=g.visible&&!this.control.taskEditController.dependencyId,g},l.prototype.getDialogName=function(){return"TaskEdit"},l}(n.DialogBase);u.TaskEditDialogCommand=i},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditParameters=void 0;var c=h(0),p=h(21),a=function(o){function t(){var n=o!==null&&o.apply(this,arguments)||this;return n.enableEdit=!0,n.enableRangeEdit=!0,n.isValidationRequired=!1,n.hiddenFields=[],n.readOnlyFields=[],n}return c.__extends(t,o),t.prototype.clone=function(){var n=new t;return n.id=this.id,n.title=this.title,n.progress=this.progress,n.start=this.start,n.end=this.end,n.assigned=new p.ResourceCollection,n.assigned.addRange(this.assigned.items),n.resources=new p.ResourceCollection,n.resources.addRange(this.resources.items),n.showResourcesDialogCommand=this.showResourcesDialogCommand,n.showTaskEditDialogCommand=this.showTaskEditDialogCommand,n.enableEdit=this.enableEdit,n.enableRangeEdit=this.enableRangeEdit,n.hiddenFields=this.hiddenFields.slice(),n.readOnlyFields=this.readOnlyFields.slice(),n.isValidationRequired=this.isValidationRequired,n.getCorrectDateRange=this.getCorrectDateRange,n},t}(h(32).DialogParametersBase);u.TaskEditParameters=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttClientCommand=void 0,function(c){c[c.CreateTask=0]="CreateTask",c[c.CreateSubTask=1]="CreateSubTask",c[c.RemoveTask=2]="RemoveTask",c[c.RemoveDependency=3]="RemoveDependency",c[c.TaskInformation=4]="TaskInformation",c[c.TaskAddContextItem=5]="TaskAddContextItem",c[c.Undo=6]="Undo",c[c.Redo=7]="Redo",c[c.ZoomIn=8]="ZoomIn",c[c.ZoomOut=9]="ZoomOut",c[c.FullScreen=10]="FullScreen",c[c.CollapseAll=11]="CollapseAll",c[c.ExpandAll=12]="ExpandAll",c[c.ResourceManager=13]="ResourceManager",c[c.ToggleResources=14]="ToggleResources",c[c.ToggleDependencies=15]="ToggleDependencies"}(u.GanttClientCommand||(u.GanttClientCommand={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CollapseAllCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.collapseAll(),!0},n.prototype.isEnabled=function(){return!0},n}(p.CommandBase);u.CollapseAllCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ExpandAllCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.expandAll(),!0},n.prototype.isEnabled=function(){return!0},n}(p.CommandBase);u.ExpandAllCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateDependencyCommand=void 0;var c=h(0),p=h(23),a=h(92),o=h(93),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.execute=function(r,i,s){return n.prototype.execute.call(this,r,i,s)},e.prototype.executeInternal=function(r,i,s){if(this.control.viewModel.dependencies.items.filter(function(d){return d.predecessorId===r&&d.successorId===i||d.successorId===r&&d.predecessorId===i}).length)return!1;var l=new a.DependencyInsertingArguments(r,i,s);if(this.modelManipulator.dispatcher.notifyDependencyInserting(l),l.cancel)return!1;if(r=l.predecessorId,i=l.successorId,s=l.type,this.control.history.beginTransaction(),this.history.addAndRedo(new o.InsertDependencyHistoryItem(this.modelManipulator,r,i,s)),this.control.isValidateDependenciesRequired()){var g=this.control.viewModel.tasks.getItemById(r);s===p.DependencyType.SF||s===p.DependencyType.SS?this.control.validationController.moveStartDependTasks(r,g.start):this.control.validationController.moveEndDependTasks(r,g.end)}return this.control.history.endTransaction(),!0},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyInsert},e}(h(51).DependencyCommandBase);u.CreateDependencyCommand=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyInsertingArguments=void 0;var c=h(0),p=function(a){function o(t,n,e){var r=a.call(this,null)||this;return r.values={predecessorId:t,successorId:n,type:e},r}return c.__extends(o,a),Object.defineProperty(o.prototype,"predecessorId",{get:function(){return this.values.predecessorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"successorId",{get:function(){return this.values.successorId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"type",{get:function(){return this.values.type},enumerable:!1,configurable:!0}),o}(h(11).BaseArguments);u.DependencyInsertingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.InsertDependencyHistoryItem=void 0;var c=h(0),p=h(18),a=h(2),o=function(t){function n(e,r,i,s){var l=t.call(this,e)||this;return l.predecessorId=r,l.successorId=i,l.type=s,l}return c.__extends(n,t),n.prototype.redo=function(){var e;(e=this.insertedKey)!==null&&e!==void 0||(this.insertedKey=p.MathUtils.generateGuid()),this.modelManipulator.dependency.insertDependency(this.predecessorId,this.successorId,this.type,this.insertedKey)},n.prototype.undo=function(){this.modelManipulator.dependency.removeDependency(this.insertedKey)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:a.GanttDataObjectNames.dependency,getKey:function(){return e.insertedKey},updateKey:function(r){return e.insertedKey=r}},{objectType:a.GanttDataObjectNames.task,getKey:function(){return e.predecessorId},updateKey:function(r){return e.predecessorId=r}},{objectType:a.GanttDataObjectNames.task,getKey:function(){return e.successorId},updateKey:function(r){return e.successorId=r}}]},enumerable:!1,configurable:!0}),n}(h(14).HistoryItem);u.InsertDependencyHistoryItem=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveDependencyCommand=void 0;var c=h(0),p=h(31),a=h(40),o=h(95),t=h(41),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.execute=function(i,s){var l=this;return s===void 0&&(s=!0),s?(this.control.commandManager.showConfirmationDialog.execute(new a.ConfirmationDialogParameters(p.ConfirmationType.DependencyDelete,function(){l.executeInternal(i)})),!1):e.prototype.execute.call(this,i)},r.prototype.executeInternal=function(i){if((i=i||this.control.taskEditController.dependencyId)!=null){var s=this.control.viewModel.dependencies.items.filter(function(g){return g.internalId===i})[0];if(s){var l=new o.DependencyRemovingArguments(s);if(this.modelManipulator.dispatcher.notifyDependencyRemoving(l),!l.cancel)return this.history.addAndRedo(new t.RemoveDependencyHistoryItem(this.modelManipulator,i)),i===this.control.taskEditController.dependencyId&&this.control.taskEditController.selectDependency(null),this.control.barManager.updateItemsState([]),!0}}return!1},r.prototype.isEnabled=function(){return e.prototype.isEnabled.call(this)&&this.control.settings.editing.allowDependencyDelete},r.prototype.getState=function(){var i=e.prototype.getState.call(this);return i.visible=i.enabled&&this.control.taskEditController.dependencyId!=null,i},r}(h(51).DependencyCommandBase);u.RemoveDependencyCommand=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyRemovingArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.DependencyRemovingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleDependenciesCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleDependencies(),!0},n}(p.CommandBase);u.ToggleDependenciesCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleFullScreenCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.isInFullScreenMode=!1,e.fullScreenTempVars={},e}return c.__extends(n,t),n.prototype.getState=function(){var e=new a.SimpleCommandState(!0);return e.value=this.control.fullScreenModeHelper.isInFullScreenMode,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.fullScreenModeHelper.toggle(),!0},n}(p.CommandBase);u.ToggleFullScreenCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RedoCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){var e=new a.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.redo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canRedo()},n}(p.CommandBase);u.RedoCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UndoCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){var e=new a.SimpleCommandState(this.isEnabled());return e.visible=this.control.settings.editing.enabled,e},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.history.undo(),!0},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.history.canUndo()},n}(p.CommandBase);u.UndoCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.AssignResourceCommand=void 0;var c=h(0),p=h(49),a=h(50),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e,r){return t.prototype.execute.call(this,e,r)},n.prototype.executeInternal=function(e,r){if(!this.control.viewModel.assignments.items.filter(function(l){return l.resourceId===e&&l.taskId===r})[0]){var i=this.control.viewModel,s=new p.ResourceAssigningArguments(i.convertInternalToPublicKey("resource",e),i.convertInternalToPublicKey("task",r));if(this.modelManipulator.dispatcher.notifyResourceAssigning(s),!s.cancel)return this.history.addAndRedo(new a.AssignResourceHistoryItem(this.modelManipulator,i.convertPublicToInternalKey("resource",s.resourceId),i.convertPublicToInternalKey("task",s.taskId))),!0}return!1},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},n}(h(34).ResourceCommandBase);u.AssignResourceCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateResourceCommand=void 0;var c=h(0),p=h(102),a=h(103),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e,r,i){return r===void 0&&(r=""),t.prototype.execute.call(this,e,r,i)},n.prototype.executeInternal=function(e,r,i){r===void 0&&(r="");var s=new p.ResourceInsertingArguments(e,r);return this.modelManipulator.dispatcher.notifyResourceCreating(s),s.cancel||this.history.addAndRedo(new a.CreateResourceHistoryItem(this.modelManipulator,s.text,s.color,i)),!s.cancel},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceInsert},n}(h(34).ResourceCommandBase);u.CreateResourceCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceInsertingArguments=void 0;var c=h(0),p=function(a){function o(t,n){n===void 0&&(n="");var e=a.call(this,null)||this;return e.values={text:t,color:n},e}return c.__extends(o,a),Object.defineProperty(o.prototype,"text",{get:function(){return this.values.text},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"color",{get:function(){return this.values.color},enumerable:!1,configurable:!0}),o}(h(11).BaseArguments);u.ResourceInsertingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateResourceHistoryItem=void 0;var c=h(0),p=h(14),a=h(2),o=h(18),t=function(n){function e(r,i,s,l){s===void 0&&(s="");var g=n.call(this,r)||this;return g.text=i,g.color=s,g.createCallback=l,g}return c.__extends(e,n),e.prototype.redo=function(){var r;(r=this.insertedKey)!==null&&r!==void 0||(this.insertedKey=o.MathUtils.generateGuid()),this.modelManipulator.resource.create(this.text,this.color,this.insertedKey,this.createCallback)},e.prototype.undo=function(){this.modelManipulator.resource.remove(this.insertedKey)},Object.defineProperty(e.prototype,"keyUpdaters",{get:function(){var r=this;return[{objectType:a.GanttDataObjectNames.resource,getKey:function(){return r.insertedKey},updateKey:function(i){return r.insertedKey=i}}]},enumerable:!1,configurable:!0}),e}(p.HistoryItem);u.CreateResourceHistoryItem=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DeassignResourceCommand=void 0;var c=h(0),p=h(33),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.execute=function(n){return o.prototype.execute.call(this,n)},t.prototype.executeInternal=function(n){var e=this.control.viewModel.assignments.items.filter(function(r){return r.internalId===n})[0];return!(!e||!this.modelManipulator.dispatcher.fireResourceUnassigning(e))&&(this.history.addAndRedo(new p.DeassignResourceHistoryItem(this.modelManipulator,n)),!0)},t.prototype.isEnabled=function(){return o.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskResourceUpdate},t}(h(34).ResourceCommandBase);u.DeassignResourceCommand=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorCommand=void 0;var c=h(0),p=h(106),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.execute=function(n,e){return o.prototype.execute.call(this,n,e)},t.prototype.executeInternal=function(n,e){return this.control.viewModel.resources.getItemById(n).color!==e&&(this.history.addAndRedo(new p.ResourceColorHistoryItem(this.modelManipulator,n,e)),!0)},t}(h(108).ResourcePropertyCommandBase);u.ResourceColorCommand=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorHistoryItem=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.prototype.getPropertiesManipulator=function(){return this.modelManipulator.resource.properties.color},o}(h(107).ResourcePropertiesHistoryItemBase);u.ResourceColorHistoryItem=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertiesHistoryItemBase=void 0;var c=h(0),p=h(2),a=function(o){function t(n,e,r){var i=o.call(this,n)||this;return i.resourceId=e,i.newValue=r,i}return c.__extends(t,o),t.prototype.redo=function(){this.oldState=this.getPropertiesManipulator().setValue(this.resourceId,this.newValue)},t.prototype.undo=function(){this.getPropertiesManipulator().restoreValue(this.oldState)},t.prototype.getPropertiesManipulator=function(){throw new Error("Not Implemented")},Object.defineProperty(t.prototype,"keyUpdaters",{get:function(){var n=this;return[{objectType:p.GanttDataObjectNames.resource,getKey:function(){return n.resourceId},updateKey:function(e){return n.resourceId=e}}]},enumerable:!1,configurable:!0}),t}(h(14).HistoryItem);u.ResourcePropertiesHistoryItemBase=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertyCommandBase=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(this.isEnabled())},n.prototype.isEnabled=function(){return t.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceUpdate},n}(p.CommandBase);u.ResourcePropertyCommandBase=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveResourceCommand=void 0;var c=h(0),p=h(110),a=h(111),o=h(33),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.execute=function(r){return n.prototype.execute.call(this,r)},e.prototype.executeInternal=function(r){var i=this,s=this.control.viewModel.resources.items.filter(function(d){return d.internalId===r})[0];if(s){var l=new p.ResourceRemovingArguments(s);if(this.modelManipulator.dispatcher.notifyResourceRemoving(l),!l.cancel){var g=new a.RemoveResourceHistoryItem(this.modelManipulator,r);return this.control.viewModel.assignments.items.filter(function(d){return d.resourceId===r}).forEach(function(d){i.modelManipulator.dispatcher.fireResourceUnassigning(d)&&g.add(new o.DeassignResourceHistoryItem(i.modelManipulator,d.internalId))}),this.history.addAndRedo(g),!0}}return!1},e.prototype.isEnabled=function(){return n.prototype.isEnabled.call(this)&&this.control.settings.editing.allowResourceDelete},e}(h(34).ResourceCommandBase);u.RemoveResourceCommand=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceRemovingArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.ResourceRemovingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveResourceHistoryItem=void 0;var c=h(0),p=h(42),a=h(2),o=function(t){function n(e,r){var i=t.call(this)||this;return i.modelManipulator=e,i.resourceId=r,i}return c.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.resource=this.modelManipulator.resource.remove(this.resourceId)},n.prototype.undo=function(){var e=this;this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){e.resource.color&&e.modelManipulator.resource.properties.color.setValue(e.resource.internalId,e.resource.color),window.setTimeout(function(){return t.prototype.undo.call(e)},0)})},n.prototype.undoItemsQuery=function(){this.modelManipulator.resource.create(this.resource.text,this.resource.color,this.resourceId,function(){}),this.resource.color&&this.modelManipulator.resource.properties.color.setValue(this.resource.internalId,this.resource.color),t.prototype.undo.call(this)},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:a.GanttDataObjectNames.resource,getKey:function(){return e.resourceId},updateKey:function(r){return e.resourceId=r}}]},enumerable:!1,configurable:!0}),n}(p.CompositionHistoryItem);u.RemoveResourceHistoryItem=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ToggleResourceCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.toggleResources(),!0},n}(p.CommandBase);u.ToggleResourceCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateSubTaskCommand=void 0;var c=h(0),p=h(52),a=h(43),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){e=e||this.control.currentSelectedTaskID;var r=this.control.viewModel.findItem(e);if(r.selected){var i={start:new Date(r.task.start.getTime()),end:new Date(r.task.end.getTime()),title:"New task",progress:0,parentId:e},s=new p.TaskInsertingArguments(null,i);if(this.modelManipulator.dispatcher.notifyTaskCreating(s),!s.cancel){this.history.addAndRedo(new a.CreateTaskHistoryItem(this.modelManipulator,s));var l=this.control.viewModel.findItem(i.parentId);t.prototype.updateParent.call(this,l)}return!s.cancel}return!1},n.prototype.isEnabled=function(){var e=this.control,r=e.viewModel.findItem(e.currentSelectedTaskID);return t.prototype.isEnabled.call(this)&&!!r&&r.selected},n.prototype.getState=function(){var e=t.prototype.getState.call(this),r=this.control;return e.visible=e.visible&&r.settings.editing.allowTaskInsert,e},n}(h(24).TaskCommandBase);u.CreateSubTaskCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CreateTaskCommand=void 0;var c=h(0),p=h(52),a=h(43),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.execute=function(e){return t.prototype.execute.call(this,e)},n.prototype.executeInternal=function(e){var r,i;if(e!=null||(e={}),!e.parentId){var s=this.control.viewModel.findItem(this.control.currentSelectedTaskID),l=s&&s.task;l&&(e.parentId=l.parentId)}var g=this.control.viewModel.findItem(e.parentId)||this.control.viewModel.items[0],d=g&&g.task;e.start||(e.start=d?new Date(d.start.getTime()):new Date(this.control.range.start.getTime())),e.end||(e.end=d?new Date(d.end.getTime()):new Date(this.control.range.end.getTime())),(r=e.title)!==null&&r!==void 0||(e.title="New task"),(i=e.progress)!==null&&i!==void 0||(e.progress=0);var f=new p.TaskInsertingArguments(null,e);if(this.modelManipulator.dispatcher.notifyTaskCreating(f),!f.cancel){this.history.addAndRedo(new a.CreateTaskHistoryItem(this.modelManipulator,f));var y=this.control.viewModel.findItem(e.parentId);t.prototype.updateParent.call(this,y)}return!f.cancel},n.prototype.getState=function(){var e=t.prototype.getState.call(this);return e.visible=e.visible&&this.control.settings.editing.allowTaskInsert,e},n}(h(24).TaskCommandBase);u.CreateTaskCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.UpdateTaskCommand=void 0;var c=h(0),p=h(1),a=h(31),o=h(116),t=h(41),n=h(53),e=h(15),r=function(i){function s(){return i!==null&&i.apply(this,arguments)||this}return c.__extends(s,i),s.prototype.execute=function(l,g){return i.prototype.execute.call(this,l,g)},s.prototype.executeInternal=function(l,g){var d=this.control.viewModel.tasks.getItemById(l);if(!d)return!1;var f=this.control.modelManipulator.dispatcher.raiseTaskUpdating(d,g,function(m){g.title=m.title,g.progress=m.progress,g.start=m.start,g.end=m.end,g.color=m.color});if(f){(0,p.isDefined)(g.start)&&(0,p.isDefined)(g.end)&&g.end.getTime()<g.start.getTime()&&(g.end=g.start),(0,p.isDefined)(g.progress)&&(g.progress=Math.max(Math.min(g.progress,100),0));var y=this.filterChangedValues(g,d);this.processDependecyValidation(y,d)}return f},s.prototype.isEnabled=function(){return i.prototype.isEnabled.call(this)&&this.control.settings.editing.allowTaskUpdate},s.prototype.filterChangedValues=function(l,g){if(!l)return null;var d={};for(var f in g)Object.prototype.hasOwnProperty.call(g,f)&&(0,p.isDefined)(l[f])&&g[f]!==l[f]&&(d[f]=l[f]);return d},s.prototype.processDependecyValidation=function(l,g){var d=this,f=function(b){d.onAfterValidationCallback(l,g,b)},y=this.control.isValidateDependenciesRequired();if(y){var m=[],v=(0,p.isDefined)(l.start)&&l.start!==g.start,T=(0,p.isDefined)(l.end)&&l.end!==g.end;v&&y&&(m=m.concat(this.control.validationController.checkStartDependencies(g.internalId,l.start))),T&&y&&(m=m.concat(this.control.validationController.checkEndDependencies(g.internalId,l.end))),m.length>0?this.control.commandManager.showConstraintViolationDialog.execute(new o.ConstraintViolationDialogParameters(m,f)):f(null)}else f(null)},s.prototype.onAfterValidationCallback=function(l,g,d){var f=this;if(!d||d.option!==a.ConstraintViolationOption.DoNothing||(delete l.start,delete l.end),Object.keys(l).length>0){this.history.beginTransaction(),(d==null?void 0:d.option)===a.ConstraintViolationOption.RemoveDependency&&d.validationErrors.forEach(function(b){return f.history.addAndRedo(new t.RemoveDependencyHistoryItem(f.modelManipulator,b.dependencyId))});var y=this.control.isValidateDependenciesRequired(),m=g.internalId,v=g.start,T=g.end;this.history.addAndRedo(new n.UpdateTaskHistoryItem(this.modelManipulator,m,l)),(0,p.isDefined)(l.start)&&y&&this.control.validationController.moveStartDependTasks(m,v),(0,p.isDefined)(l.end)&&y&&this.control.validationController.moveEndDependTasks(m,T),this.processAutoParentUpdate(m,l,v,T),this.history.endTransaction(),(d==null?void 0:d.option)!==a.ConstraintViolationOption.RemoveDependency&&(d==null?void 0:d.option)!==a.ConstraintViolationOption.KeepDependency||this.control.updateBarManager(),this.control.updateViewDataRange()}},s.prototype.processAutoParentUpdate=function(l,g,d,f){var y=(0,p.isDefined)(g.start),m=(0,p.isDefined)(g.end),v=(0,p.isDefined)(g.progress)||y||m,T=y?g.start.getTime()-d.getTime():null,b=m?g.end.getTime()-f.getTime():null,w=y&&e.DateUtils.getTimezoneOffsetDiff(d,g.start)!==0,A=m&&e.DateUtils.getTimezoneOffsetDiff(f,g.end)!==0,I=(w||A)&&Math.abs(b-T)===e.DateUtils.msPerHour;v?T!==0&&(T===b||I)?this.validationController.correctParentsOnChildMoving(l,T):this.validationController.updateParentsIfRequired(l):this.control.updateOwnerInAutoParentMode()},s}(h(24).TaskCommandBase);u.UpdateTaskCommand=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConstraintViolationDialogParameters=void 0;var c=h(0),p=function(a){function o(t,n){var e=a.call(this)||this;return e.validationErrors=t,e.callback=n,e}return c.__extends(o,a),o.prototype.clone=function(){var t=new o(this.validationErrors,this.callback);return t.option=this.option,t},Object.defineProperty(o.prototype,"hasCriticalErrors",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.some(function(n){return n.critical})},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"errorsCount",{get:function(){var t;return(t=this.validationErrors)===null||t===void 0?void 0:t.length},enumerable:!1,configurable:!0}),o}(h(32).DialogParametersBase);u.ConstraintViolationDialogParameters=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveTaskCommand=void 0;var c=h(0),p=h(31),a=h(40),o=h(118),t=h(41),n=h(33),e=h(119),r=function(i){function s(){return i!==null&&i.apply(this,arguments)||this}return c.__extends(s,i),s.prototype.execute=function(l,g,d,f,y,m){var v=this;return g===void 0&&(g=!0),d===void 0&&(d=!1),f===void 0&&(f=!0),this.isApiCall=d,this.isUpdateParentTaskRequired=f,g?(this.control.commandManager.showConfirmationDialog.execute(new a.ConfirmationDialogParameters(p.ConfirmationType.TaskDelete,function(){v.executeInternal(l,y,m)})),!1):i.prototype.execute.call(this,l,y,m)},s.prototype.executeInternal=function(l,g,d){var f=this,y=d||[];l=l||this.control.currentSelectedTaskID;var m=this.control.viewModel.findItem(l),v=m?m.task:this.control.viewModel.tasks.getItemById(l),T=new o.TaskRemovingArguments(v);if(this.modelManipulator.dispatcher.notifyTaskRemoving(T),T.cancel)return!1;var b=this.history,w=this.control.viewModel;b.beginTransaction(),w.beginUpdate();var A=!!g,I=new e.RemoveTaskHistoryItem(this.modelManipulator,l),_=w.tasks.items.filter(function(C){return C.parentId===l}),M=_.map(function(C){return C.internalId}),O=w.dependencies.items.filter(function(C){return y.indexOf(C.internalId)===-1&&(C.predecessorId===l||C.successorId===l)&&!M.some(function(x){return C.predecessorId===x||C.successorId===x})});if(O.length){if(!this.control.settings.editing.allowDependencyDelete)return!1;O.forEach(function(C){I.add(new t.RemoveDependencyHistoryItem(f.modelManipulator,C.internalId)),y.push(C.internalId)})}if(w.assignments.items.filter(function(C){return C.taskId===l}).forEach(function(C){f.modelManipulator.dispatcher.fireResourceUnassigning(C)&&I.add(new n.DeassignResourceHistoryItem(f.modelManipulator,C.internalId))}),_.reverse().forEach(function(C){return new s(f.control).execute(C.internalId,!1,!0,!1,I,y)}),A?g.add(I):b.addAndRedo(I),this.isUpdateParentTaskRequired){var N=this.control.viewModel.findItem(v.parentId);i.prototype.updateParent.call(this,N)}return b.endTransaction(),w.endUpdate(),!0},s.prototype.isEnabled=function(){var l=this.control,g=l.viewModel.findItem(l.currentSelectedTaskID);return i.prototype.isEnabled.call(this)&&(!!g&&g.selected||this.isApiCall)},s.prototype.getState=function(){var l=i.prototype.getState.call(this),g=this.control;return l.visible=l.visible&&g.settings.editing.allowTaskDelete,l},s}(h(24).TaskCommandBase);u.RemoveTaskCommand=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskRemovingArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,t.id)||this;return n.values=t,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.TaskRemovingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RemoveTaskHistoryItem=void 0;var c=h(0),p=h(2),a=h(42),o=function(t){function n(e,r){var i=t.call(this)||this;return i.modelManipulator=e,i.taskId=r,i}return c.__extends(n,t),n.prototype.redo=function(){t.prototype.redo.call(this),this.task=this.modelManipulator.task.remove(this.taskId)},n.prototype.undo=function(){var e=this;this.modelManipulator.task.create(this.task,this.taskId,function(){window.setTimeout(function(){return t.prototype.undo.call(e)},0)})},n.prototype.undoItemsQuery=function(){var e;this.modelManipulator.task.create(this.task,this.taskId);for(var r=this.historyItems.length-1;e=this.historyItems[r];r--)e instanceof a.CompositionHistoryItem?e.undoItemsQuery():e.undo()},Object.defineProperty(n.prototype,"keyUpdaters",{get:function(){var e=this;return[{objectType:p.GanttDataObjectNames.task,getKey:function(){return e.taskId},updateKey:function(r){return e.taskId=r}},{objectType:p.GanttDataObjectNames.task,getKey:function(){var r;return(r=e.task)===null||r===void 0?void 0:r.parentId},updateKey:function(r){return e.task.parentId=r}}]},enumerable:!1,configurable:!0}),n}(a.CompositionHistoryItem);u.RemoveTaskHistoryItem=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAddContextItemCommand=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.prototype.getState=function(){var t=a.prototype.getState.call(this);return t.visible=t.visible&&this.control.settings.editing.allowTaskInsert,t},o.prototype.execute=function(){return!1},o}(h(24).TaskCommandBase);u.TaskAddContextItemCommand=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ZoomInCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomIn(),!0},n}(p.CommandBase);u.ZoomInCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ZoomOutCommand=void 0;var c=h(0),p=h(6),a=h(7),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.getState=function(){return new a.SimpleCommandState(!0)},n.prototype.execute=function(){return t.prototype.execute.call(this)},n.prototype.executeInternal=function(){return this.control.zoomOut(),!0},n}(p.CommandBase);u.ZoomOutCommand=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FullScreenHelperSettings=void 0;var c=h(1),p=function(){function a(){}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.getMainElement)&&(t.getMainElement=o.getMainElement),(0,c.isDefined)(o.adjustControl)&&(t.adjustControl=o.adjustControl)),t},a}();u.FullScreenHelperSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.FullScreenModeHelper=void 0;var c=h(10),p=h(125),a=h(3),o=function(){function t(n){this._isInFullScreenMode=!1,this.fullScreenTempVars={},this.settings=n}return Object.defineProperty(t.prototype,"isInFullScreenMode",{get:function(){return this._isInFullScreenMode},enumerable:!1,configurable:!0}),t.prototype.getMainElement=function(){return this.settings.getMainElement()},t.prototype.adjustControl=function(){this.settings.adjustControl()},t.prototype.toggle=function(){return this._isInFullScreenMode=!this._isInFullScreenMode,this._isInFullScreenMode?this.setFullScreenMode():this.setNormalMode(),!0},t.prototype.setFullScreenMode=function(){this.prepareFullScreenMode(),this.adjustControlInFullScreenMode()},t.prototype.prepareFullScreenMode=function(){var n=this.getMainElement();p.AttrUtils.changeElementStyleAttribute(n,"border-top-width","0px"),p.AttrUtils.changeElementStyleAttribute(n,"border-left-width","0px"),p.AttrUtils.changeElementStyleAttribute(n,"border-right-width","0px"),p.AttrUtils.changeElementStyleAttribute(n,"border-bottom-width","0px"),this.fullScreenTempVars.scrollTop=a.DomUtils.getDocumentScrollTop(),this.fullScreenTempVars.scrollLeft=a.DomUtils.getDocumentScrollLeft(),p.AttrUtils.changeElementStyleAttribute(n,"background-color","white"),p.AttrUtils.changeElementStyleAttribute(n,"position","fixed"),p.AttrUtils.changeElementStyleAttribute(n,"top","0px"),p.AttrUtils.changeElementStyleAttribute(n,"left","0px"),p.AttrUtils.changeElementStyleAttribute(n,"z-index","1010"),p.AttrUtils.changeElementStyleAttribute(document.documentElement,"position","static"),p.AttrUtils.changeElementStyleAttribute(document.documentElement,"overflow","hidden"),this.fullScreenTempVars.bodyMargin=document.body.style.margin,document.body.style.margin="0",this.fullScreenTempVars.width=n.style.width,this.fullScreenTempVars.height=n.style.height||n.clientHeight,window.self!==window.top&&this.requestFullScreen(document.body)},t.prototype.setNormalMode=function(){this.cancelFullScreen(document);var n=this.getMainElement();p.AttrUtils.restoreElementStyleAttribute(n,"left"),p.AttrUtils.restoreElementStyleAttribute(n,"top"),p.AttrUtils.restoreElementStyleAttribute(n,"background-color"),p.AttrUtils.restoreElementStyleAttribute(document.documentElement,"overflow"),p.AttrUtils.restoreElementStyleAttribute(document.documentElement,"position"),p.AttrUtils.restoreElementStyleAttribute(n,"z-index"),document.body.style.margin=this.fullScreenTempVars.bodyMargin,p.AttrUtils.restoreElementStyleAttribute(n,"position"),p.AttrUtils.restoreElementStyleAttribute(n,"border-top-width"),p.AttrUtils.restoreElementStyleAttribute(n,"border-left-width"),p.AttrUtils.restoreElementStyleAttribute(n,"border-right-width"),p.AttrUtils.restoreElementStyleAttribute(n,"border-bottom-width"),this.setHeight(this.fullScreenTempVars.height),this.setWidth(this.fullScreenTempVars.width),document.documentElement.scrollTop=this.fullScreenTempVars.scrollTop,document.documentElement.scrollLeft=this.fullScreenTempVars.scrollLeft,this.adjustControl()},t.prototype.adjustControlInFullScreenMode=function(){var n=document.documentElement.clientWidth==0?document.body.clientWidth:document.documentElement.clientWidth,e=document.documentElement.clientHeight==0?document.body.clientHeight:document.documentElement.clientHeight;this.setWidth(n),this.setHeight(e),this.adjustControl()},t.prototype.requestFullScreen=function(n){n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullscreen&&n.msRequestFullscreen()},t.prototype.cancelFullScreen=function(n){c.Browser.Firefox&&!this.getFullScreenElement(n)||(n.webkitExitFullscreen?n.webkitExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.msExitFullscreen?n.msExitFullscreen():n.exitFullscreen&&n.exitFullscreen())},t.prototype.getFullScreenElement=function(n){return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement},t.prototype.setWidth=function(n){this.getMainElement().style.width=this.isNumber(n)?n+"px":n},t.prototype.setHeight=function(n){this.getMainElement().style.height=this.isNumber(n)?n+"px":n},t.prototype.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},t}();u.FullScreenModeHelper=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.AttrUtils=void 0;var c=h(10),p=function(){function a(){}return a.setElementAttribute=function(o,t,n){o.setAttribute&&(c.Browser.IE&&c.Browser.MajorVersion>=11&&t.toLowerCase()==="src"&&o.setAttribute(t,""),o.setAttribute(t,n))},a.setStyleAttribute=function(o,t,n){o.setProperty&&o.setProperty(t,n,"")},a.getElementAttribute=function(o,t){return o.getAttribute(t)},a.getStyleAttribute=function(o,t){if(o.getPropertyValue){if(c.Browser.Firefox)try{return o.getPropertyValue(t)}catch{return o[t]}return o.getPropertyValue(t)}return null},a.removeElementAttribute=function(o,t){o.removeAttribute&&o.removeAttribute(t)},a.removeStyleAttribute=function(o,t){o.removeProperty&&o.removeProperty(t)},a.changeElementStyleAttribute=function(o,t,n){a.saveStyleAttributeInElement(o,t),a.setStyleAttribute(o.style,t,n)},a.restoreElementStyleAttribute=function(o,t){var n="dxwu_saved"+t,e=o.style;if(a.isExistsAttributeInElement(o,n)){var r=a.getElementAttribute(o,n);return r===a.emptyObject||r===null?a.removeStyleAttribute(e,t):a.setStyleAttribute(e,t,r),a.removeElementAttribute(o,n),!0}return!1},a.saveStyleAttributeInElement=function(o,t){var n="dxwu_saved"+t,e=o.style;if(!a.isExistsAttributeInElement(o,n)){var r=a.getStyleAttribute(e,t);a.setElementAttribute(o,n,a.isAttributeExists(r)?r:a.emptyObject)}},a.isExistsAttributeInElement=function(o,t){var n=a.getElementAttribute(o,t);return a.isAttributeExists(n)},a.isAttributeExists=function(o){return o!==null&&o!==""},a.emptyObject="DxEmptyValue",a}();u.AttrUtils=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttExportCalculator=void 0;var c=h(5),p=h(3),a=h(4),o=h(25),t=h(60),n=h(61),e=h(44),r=h(17),i=h(26),s=h(36),l=h(45),g=h(130),d=h(131),f=h(27),y=h(12),m=h(134),v=h(136),T=h(63),b=h(37),w=h(35),A=function(){function I(_,M){var O,N;this._owner=_,this._props=new d.GanttPdfExportProps(M),(O=(N=this._props).margins)!==null&&O!==void 0||(N.margins=new s.Margin(I._defaultPageMargin))}return Object.defineProperty(I.prototype,"chartTableScaleTopMatrix",{get:function(){var _;return(_=this._chartTableScaleTopMatrix)!==null&&_!==void 0||(this._chartTableScaleTopMatrix=this.calculateChartScaleMatrix(0)),this._chartTableScaleTopMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"chartTableScaleBottomMatrix",{get:function(){var _;return(_=this._chartTableScaleBottomMatrix)!==null&&_!==void 0||(this._chartTableScaleBottomMatrix=this.calculateChartScaleMatrix(1)),this._chartTableScaleBottomMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"chartTableBodyMatrix",{get:function(){return this._chartTableBodyMatrix||this.calculateChartTableBodyMatrix(),this._chartTableBodyMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"treeListHeaderMatrix",{get:function(){return this._treeListHeaderMatrix||this.calculateTreeListTableHeaderMatrix(),this._treeListHeaderMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"treeListBodyMatrix",{get:function(){return this._treeListBodyMatrix||this.calculateTreeListTableBodyMatrix(),this._treeListBodyMatrix},enumerable:!1,configurable:!0}),I.prototype.getPages=function(_){return new m.PdfGanttPaginator(_,this.settings,this.createGlobalInfo()).getPages()},Object.defineProperty(I.prototype,"settings",{get:function(){return this.settingsForPaging},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"layoutCalculator",{get:function(){return this._taskAreaHelper.layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"taskAreaHelper",{get:function(){var _;return(_=this._taskAreaHelper)!==null&&_!==void 0||(this._taskAreaHelper=new g.TaskAreaExportHelper(this._owner,this._props)),this._taskAreaHelper},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"scalingHelper",{get:function(){var _,M;return(_=this._scalingHelper)!==null&&_!==void 0||(this._scalingHelper=new v.ScalingHelper((M=this._props)===null||M===void 0?void 0:M.pdfDoc)),this._scalingHelper},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"visibleTaskIndices",{get:function(){return this.taskAreaHelper.visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"baseCellWidth",{get:function(){return this.taskAreaHelper.baseCellSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"baseCellHeight",{get:function(){return this.taskAreaHelper.baseCellHeight},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"chartScaleTableStyle",{get:function(){var _;return(_=this._chartScaleTableStyle)!==null&&_!==void 0||(this._chartScaleTableStyle=this.getChartScaleTableStyle()),this._chartScaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"chartMainTableStyle",{get:function(){var _;return(_=this._chartMainTableStyle)!==null&&_!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"treeListTableStyle",{get:function(){return this._treeListTableStyle||this.calculateTreeListTableStyle(),this._treeListTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageTopMargin",{get:function(){return this._props.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageLeftMargin",{get:function(){return this._props.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageRightMargin",{get:function(){return this._props.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"pageBottomMargin",{get:function(){return this._props.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"headerTableTop",{get:function(){var _;return(_=this._headerTableTop)!==null&&_!==void 0||(this._headerTableTop=this.pageTopMargin),this._headerTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"mainTableTop",{get:function(){var _;return(_=this._mainTableTop)!==null&&_!==void 0||(this._mainTableTop=this.getMainTableTop()),this._mainTableTop},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"exportDataMode",{get:function(){return this._props.exportDataMode},enumerable:!1,configurable:!0}),I.prototype.getMainTableTop=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.offsetTop},Object.defineProperty(I.prototype,"chartLeft",{get:function(){var _;return(_=this._chartLeft)!==null&&_!==void 0||(this._chartLeft=this.getChartLeft()),this._chartLeft},enumerable:!1,configurable:!0}),I.prototype.getChartLeft=function(){var _;return((((_=this._props)===null||_===void 0?void 0:_.exportMode)||b.ExportMode.all)===b.ExportMode.chart?this.pageLeftMargin:this.treeListLeft+this.treeListWidth)-this.taskAreaHelper.offsetLeft},Object.defineProperty(I.prototype,"treeListLeft",{get:function(){var _;return(_=this._treeListLeft)!==null&&_!==void 0||(this._treeListLeft=this.pageLeftMargin),this._treeListLeft},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"headerTableHeight",{get:function(){return 2*this.taskAreaHelper.headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"mainTableHeight",{get:function(){var _;return(_=this._mainTableHeight)!==null&&_!==void 0||(this._mainTableHeight=this.taskAreaHelper.taskAreaHeight),this._mainTableHeight},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"treeListWidth",{get:function(){var _;return(_=this._treeListWidth)!==null&&_!==void 0||(this._treeListWidth=this.getTreeListTableWidth()),this._treeListWidth},enumerable:!1,configurable:!0}),I.prototype.getTreeListTableWidth=function(){var _,M=this,O=this.treeListHeaderMatrix[0].map(function(N,C){return M.getTreeListColumnWidth(C)});return(_=O==null?void 0:O.reduce(function(N,C){return N+C},0))!==null&&_!==void 0?_:0},Object.defineProperty(I.prototype,"chartWidth",{get:function(){var _=this;if(!this._chartWidth){var M=this.chartTableScaleBottomMatrix[0];this._chartWidth=M.reduce(function(O,N){return O+(N.styles.cellWidth.hasValue()?N.styles.cellWidth.getValue():_.baseCellWidth)},0)}return this._chartWidth},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"settingsForPaging",{get:function(){return this._settingsForPaging||(this._settingsForPaging=new d.GanttPdfExportProps(this._props),this.prepareAutoFormat(this._settingsForPaging),this.scalingHelper.scalePageMargins(this._settingsForPaging)),this._settingsForPaging},enumerable:!1,configurable:!0}),I.prototype.prepareAutoFormat=function(_){if(_.format===d.GanttPdfExportProps.autoFormatKey){_.format=null;var M=_.landscape,O=this.autoFormatWidth,N=this.autoFormatHeight;(M&&N>O||!M&&N<O)&&(_.landscape=!M),_.pageSize=new y.Size(O,N)}},Object.defineProperty(I.prototype,"autoFormatWidth",{get:function(){var _,M=(((_=this._props)===null||_===void 0?void 0:_.exportMode)||b.ExportMode.all)!==b.ExportMode.treeList,O=this.pageRightMargin;return(O+=M?this.chartLeft+this.chartWidth:this.treeListLeft+this.treeListWidth)+I._autoFormatWidthAddStock},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"autoFormatHeight",{get:function(){return this.mainTableTop+this.mainTableHeight+this.pageBottomMargin},enumerable:!1,configurable:!0}),I.prototype.createGlobalInfo=function(){var _={objects:this._canExportChart()?this.getGanttObjectsInfo():null,tables:this.getTablesInfo()};return this.scalingHelper.scaleSizes(_),_},I.prototype.getTablesInfo=function(){var _={};return this._canExportTreelist()&&(_[f.PdfPageTableNames.treeListHeader]=this.createTreeListHeaderTableInfo(),_[f.PdfPageTableNames.treeListMain]=this.createTreeListMainTableInfo()),this._canExportChart()&&(_[f.PdfPageTableNames.chartMain]=this.createChartMainTableInfo(),_[f.PdfPageTableNames.chartScaleTop]=this._createChartScaleTopInfo(),_[f.PdfPageTableNames.chartScaleBottom]=this._createChartScaleBottomInfo()),_},Object.defineProperty(I.prototype,"exportMode",{get:function(){var _,M;return(M=(_=this._props)===null||_===void 0?void 0:_.exportMode)!==null&&M!==void 0?M:b.ExportMode.all},enumerable:!1,configurable:!0}),I.prototype._canExportTreelist=function(){return this.exportMode===b.ExportMode.all||this.exportMode===b.ExportMode.treeList},I.prototype._canExportChart=function(){return this.exportMode===b.ExportMode.all||this.exportMode===b.ExportMode.chart},Object.defineProperty(I.prototype,"_predefinedFont",{get:function(){var _,M,O,N,C=(M=(_=this._props)===null||_===void 0?void 0:_.pdfDoc)===null||M===void 0?void 0:M.getFont();return(C==null?void 0:C.fontName)||((N=(O=this._props)===null||O===void 0?void 0:O.font)===null||N===void 0?void 0:N.name)},enumerable:!1,configurable:!0}),I.prototype._createChartScaleTopInfo=function(){return{name:f.PdfPageTableNames.chartScaleTop,size:new y.Size(this.chartWidth,this.taskAreaHelper.headerRowHeight),position:new c.Point(this.chartLeft,this.headerTableTop),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.taskAreaHelper.headerRowHeight),cells:this.chartTableScaleTopMatrix}},I.prototype._createChartScaleBottomInfo=function(){var _=this.taskAreaHelper.headerRowHeight;return{name:f.PdfPageTableNames.chartScaleBottom,size:new y.Size(this.chartWidth,_),position:new c.Point(this.chartLeft,this.headerTableTop+_),style:this.chartScaleTableStyle,baseCellSize:new y.Size(this.baseCellWidth,_),cells:this.chartTableScaleBottomMatrix}},I.prototype.createChartMainTableInfo=function(){return{name:f.PdfPageTableNames.chartMain,size:new y.Size(this.chartWidth,this.mainTableHeight),position:new c.Point(this.chartLeft,this.mainTableTop),style:this.chartMainTableStyle,baseCellSize:new y.Size(this.baseCellWidth,this.baseCellHeight),cells:this.chartTableBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},I.prototype.createTreeListHeaderTableInfo=function(){return{name:f.PdfPageTableNames.treeListHeader,size:new y.Size(this.treeListWidth,this.headerTableHeight),position:new c.Point(this.treeListLeft,this.headerTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.headerTableHeight),cells:this.treeListHeaderMatrix}},I.prototype.createTreeListMainTableInfo=function(){return{name:f.PdfPageTableNames.treeListMain,size:new y.Size(this.treeListWidth,this.mainTableHeight),position:new c.Point(this.treeListLeft,this.mainTableTop),style:this.treeListTableStyle,baseCellSize:new y.Size(null,this.baseCellHeight),cells:this.treeListBodyMatrix,hideRowLines:!this._owner.settings.areHorizontalBordersEnabled}},I.prototype.calculateChartScaleMatrix=function(_){for(var M=this.taskAreaHelper,O=M.scaleRanges,N=new Array,C=O[_][0],x=O[_][1],L=C;L<=x;L++){var R=this.layoutCalculator.getScaleItemStart(L,M.scales[_]),H=new l.CellDef(this._owner.renderHelper.getScaleItemTextByStart(R,M.scales[_]));H.styles.cellPadding.assign(0),H.styles.minCellHeight=this.taskAreaHelper.headerRowHeight;var V=_===0?M.scaleTopWidths[L]:M.scaleBottomWidths[L];H.styles.cellWidth.assign(V),N.push(H)}return[N]},I.prototype.calculateChartTableBodyMatrix=function(){var _=this;this._chartTableBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.visibleTaskIndices.forEach(function(M){return _._chartTableBodyMatrix.push(_.createChartTableBodyRow(M))}):this._chartTableBodyMatrix.push(this.createChartTableBodyRow(-1))},I.prototype.createChartTableBodyRow=function(_){var M=new l.CellDef;return this.rowHasChildren(_)&&M.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),this.chartTableScaleBottomMatrix[0].map(function(O){var N=new l.CellDef(M);return N.styles.cellWidth.assign(O.styles.cellWidth),N})},I.prototype.rowHasSelection=function(_){return this._owner.rowHasSelection(_)},I.prototype.rowHasChildren=function(_){return this._owner.rowHasChildren(_)},I.prototype.calculateTreeListTableHeaderMatrix=function(){this._treeListHeaderMatrix=new Array;for(var _=this._owner,M=_.getTreeListColCount(),O=new Array,N=0;N<M;N++){var C=new l.CellDef(_.getTreeListHeaderInfo(N));C.styles.minCellHeight=2*this.taskAreaHelper.headerRowHeight,O.push(C)}this._treeListHeaderMatrix.push(O)},I.prototype.calculateTreeListTableBodyMatrix=function(){this._treeListBodyMatrix=new Array,this.visibleTaskIndices.length>0?this.fillTreeListTableBodyMatrix(this._treeListBodyMatrix):this.fillTreeListEmptyTableBodyMatrix(this._treeListBodyMatrix)},I.prototype.fillTreeListTableBodyMatrix=function(_){for(var M,O=this.visibleTaskIndices,N=this.treeListHeaderMatrix[0].length,C=0;C<O.length;C++){for(var x=new Array,L=O[C],R=(M=this._owner.getTask(L))===null||M===void 0?void 0:M.id,H=0;H<N;H++){var V=new l.CellDef(this._owner.getTreeListCellInfo(L,H,R));V.styles.cellWidth.hasValue()||V.styles.cellWidth.assign(this.getTreeListColumnWidth(H)),this.rowHasChildren(O[C])&&V.styles.fillColor.assign(this.taskAreaHelper.parentRowBackColor),x.push(V)}_.push(x)}},I.prototype.fillTreeListEmptyTableBodyMatrix=function(_){var M=new Array,O=new l.CellDef(this._owner.getTreeListEmptyDataCellInfo());O.styles.cellWidth.assign(this.treeListWidth),O.styles.halign=w.PredefinedStyles.horizontalAlign[1],O.styles.valign=w.PredefinedStyles.verticalAlign[1],M.push(O),_.push(M)},I.prototype.getTreeListColumnWidth=function(_){var M=this.treeListHeaderMatrix[0][_],O=M&&M.styles;return O.cellWidth.getValue()||O.minCellWidth||0},I.prototype.getObjectsLeftOffset=function(_){_===void 0&&(_=!1);var M=this.dataObjectLeftDelta;return _||(M+=this.taskAreaHelper.customRangeLeftOffset),M},Object.defineProperty(I.prototype,"dataObjectLeftDelta",{get:function(){var _;return(_=this._dataObjectLeftDelta)!==null&&_!==void 0||(this._dataObjectLeftDelta=this.getDataObjectLeftDelta()),this._dataObjectLeftDelta},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"dataObjectTopDelta",{get:function(){var _;return(_=this._dataObjectTopDelta)!==null&&_!==void 0||(this._dataObjectTopDelta=this.getDataObjectTopDelta()),this._dataObjectTopDelta},enumerable:!1,configurable:!0}),I.prototype.getChartScaleTableStyle=function(){var _=new i.StyleDef(this.taskAreaHelper.scaleTableStyle);return this._predefinedFont&&(_.font=this._predefinedFont),_},I.prototype.getChartMainTableStyle=function(){var _=new i.StyleDef(this.taskAreaHelper.chartMainTableStyle);return this._predefinedFont&&(_.font=this._predefinedFont),_},I.prototype.calculateTreeListTableStyle=function(){this._treeListTableStyle=new i.StyleDef(this._owner.getTreeListTableStyle()),this._treeListTableStyle.fillColor.assign(this.chartMainTableStyle.fillColor),this._treeListTableStyle.lineColor.assign(this.chartMainTableStyle.lineColor),this._predefinedFont&&(this._treeListTableStyle.font=this._predefinedFont)},I.prototype.getGanttObjectsInfo=function(){return{tasks:this.tasksInfo,dependencies:this.dependenciesInfo,resources:this.resourcesInfo,timeMarkers:this.timeMarkersInfo}},Object.defineProperty(I.prototype,"tasksInfo",{get:function(){var _;return(_=this._tasksInfo)!==null&&_!==void 0||(this._tasksInfo=this.calculateTasksInfo()),this._tasksInfo},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"dependenciesInfo",{get:function(){var _;return(_=this._dependenciesInfo)!==null&&_!==void 0||(this._dependenciesInfo=this.calculateDependenciesInfo()),this._dependenciesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"resourcesInfo",{get:function(){var _;return(_=this._resourcesInfo)!==null&&_!==void 0||(this._resourcesInfo=this.calculateResourcesInfo()),this._resourcesInfo},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"timeMarkersInfo",{get:function(){var _;return(_=this._timeMarkersInfo)!==null&&_!==void 0||(this._timeMarkersInfo=this.calculateTimeMarkersInfoInfo()),this._timeMarkersInfo},enumerable:!1,configurable:!0}),I.prototype.getDataObjectLeftDelta=function(){return this.chartLeft-this.taskAreaHelper.objectsLeftDelta},I.prototype.getDataObjectTopDelta=function(){return this.headerTableTop+this.headerTableHeight-this.taskAreaHelper.objectsTopDelta},I.prototype.calculateTasksInfo=function(){var _=this,M=new Array;return this.visibleTaskIndices.forEach(function(O){return M.push(_.calculateTaskInfo(O))}),M},I.prototype.calculateTaskInfo=function(_){var M=new e.PdfTaskInfo,O=this.layoutCalculator.getTaskElementInfo(_);return M.taskColor=this.getTaskColor(_),M.sidePoints=this.getTaskSidePoints(_),M.isMilestone=O.className.indexOf(o.GridLayoutCalculator.milestoneClassName)>0,M.isMilestone||(M.isSmallTask=O.className.indexOf(o.GridLayoutCalculator.smallTaskClassName)>0,M.isParent=O.className.indexOf(o.GridLayoutCalculator.parentTaskClassName)>0,this.appendTaskTitle(M,_),this.appendTaskProgress(M,_)),M},I.prototype.appendTaskTitle=function(_,M){var O=this._owner.settings.taskTitlePosition;_.isSmallTask&&O!==a.TaskTitlePosition.Outside||O===a.TaskTitlePosition.None||(_.text=this._owner.getTaskText(M),_.textPosition=O,_.textStyle=this.getTaskTextStyle(M))},I.prototype.appendTaskProgress=function(_,M){var O=this.layoutCalculator.getTaskProgressElementInfo(M);_.progressWidth=O.size.width,_.progressColor=this.getTaskProgressColor(M),_.progressColor.applyOpacityToBackground(_.taskColor)},I.prototype.getTaskSidePoints=function(_){var M=this,O=this.layoutCalculator.getTaskSidePoints(_);return O.forEach(function(N){N.x+=M.getObjectsLeftOffset(!0),N.y+=M.dataObjectTopDelta}),O},I.prototype.getTaskColor=function(_){var M=this.taskAreaHelper.getTaskElementBackColor(_,o.GridLayoutCalculator.taskClassName);return new r.Color(M)},I.prototype.getTaskProgressColor=function(_){return new r.Color(this.taskAreaHelper.getTaskElementBackColor(_,o.GridLayoutCalculator.taskProgressClassName))},I.prototype.getTaskTextStyle=function(_){var M=new i.StyleDef;return M.cellPadding.assign(0),M.assign(this.taskAreaHelper.getTaskElementStyle(_,o.GridLayoutCalculator.taskTitleClassName)),M},I.prototype.calculateDependenciesInfo=function(){var _=this,M=new Array,O=this.taskAreaHelper,N=new r.Color(O.dependencyColor);return O.connectorLines.forEach(function(C){return M.push(_.createLineInfo(C,N,O.arrowWidth))}),M},I.prototype.createLineInfo=function(_,M,O){var N=new t.PdfDependencyLineInfo;if(N.fillColor=M,_.className.indexOf(o.GridLayoutCalculator.arrowClassName)>-1){var C=this.layoutCalculator.getArrowPositionByClassName(_.className);N.arrowInfo={position:C,width:O},N.points=[this.getArrowTopCorner(_,C,O)]}else N.points=this.getLinePoints(_);return N},I.prototype.getArrowTopCorner=function(_,M,O){var N=_.position.x+this.getObjectsLeftOffset(),C=_.position.y+this.dataObjectTopDelta;switch(M){case a.Position.Left:N+=O;break;case a.Position.Top:C+=O}return new c.Point(N,C)},I.prototype.getLinePoints=function(_){var M=_.position.x+this.getObjectsLeftOffset(),O=_.position.y+this.dataObjectTopDelta,N=M+_.size.width,C=O+_.size.height;return[new c.Point(M,O),new c.Point(N,C)]},I.prototype.calculateResourcesInfo=function(){var _=this,M=new Array;return this.taskAreaHelper.resourcesElements.forEach(function(O){return M=M.concat(_.calculateResourcesInLine(O))}),M},I.prototype.calculateResourcesInLine=function(_){var M=new Array;if(_)for(var O=p.DomUtils.pxToInt(_.style.left)+this.getObjectsLeftOffset(),N=p.DomUtils.pxToInt(_.style.top)+this.dataObjectTopDelta,C=_.getElementsByClassName(o.GridLayoutCalculator.taskResourceClassName),x=0;x<C.length;x++){var L=C[x];if(this.taskAreaHelper.isElementVisible(L)){var R=getComputedStyle(L);O+=this.getMargin(R).left,M.push(new n.PdfTaskResourcesInfo(L.textContent,new i.StyleDef(R),O,N)),O+=p.DomUtils.pxToInt(R.width)}}return M},I.prototype.calculateTimeMarkersInfoInfo=function(){var _=this,M=new Array;return this.taskAreaHelper.stripLinesElements.forEach(function(O){return M.push(_.createTimeMarkerInfo(O,!0))}),this.taskAreaHelper.noWorkingIntervalsElements.forEach(function(O){return M.push(_.createTimeMarkerInfo(O,!1))}),M},I.prototype.createTimeMarkerInfo=function(_,M){var O=getComputedStyle(_),N=p.DomUtils.pxToInt(O.left)+this.getObjectsLeftOffset(),C=p.DomUtils.pxToInt(O.top)+this.dataObjectTopDelta,x=p.DomUtils.pxToInt(O.width),L=p.DomUtils.pxToInt(O.height);return new T.PdfTimeMarkerInfo(new c.Point(N,C),new y.Size(x,L),new r.Color(O.backgroundColor),new r.Color(O.borderLeftColor),M)},I.prototype.getMargin=function(_){var M=new s.Margin(0);if(_){var O=_.margin;O||(O+=_.marginTop||"0",O+=" "+_.marginRight||!1,O+=" "+_.marginBottom||!1,O+=" "+_.marginLeft||!1),M.assign(O)}return M},I._defaultPageMargin=10,I._autoFormatWidthAddStock=1,I}();u.GanttExportCalculator=A},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Margins=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.empty=function(){return new o(0,0,0,0)},o.prototype.clone=function(){return new o(this.left,this.right,this.top,this.bottom)},o}(h(128).Offsets);u.Margins=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Offsets=void 0;var c=function(){function p(a,o,t,n){this.left=a,this.right=o,this.top=t,this.bottom=n}return p.empty=function(){return new p(0,0,0,0)},Object.defineProperty(p.prototype,"horizontal",{get:function(){return this.left+this.right},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"vertical",{get:function(){return this.top+this.bottom},enumerable:!1,configurable:!0}),p.fromNumber=function(a){return new p(a,a,a,a)},p.fromOffsets=function(a){return new p(a.left,a.right,a.top,a.bottom)},p.fromSide=function(a,o){return new p(a,a,o,o)},p.prototype.normalize=function(){return this.left=Math.max(0,this.left),this.right=Math.max(0,this.right),this.top=Math.max(0,this.top),this.bottom=Math.max(0,this.bottom),this},p.prototype.toString=function(){return JSON.stringify(this)},p.prototype.isEmpty=function(){return this.left===0&&this.right===0&&this.top===0&&this.bottom===0},p.prototype.offset=function(a){return this.left+=a.left,this.right+=a.right,this.top+=a.top,this.bottom+=a.bottom,this},p.prototype.multiply=function(a,o,t,n){switch(arguments.length){case 1:return this.left*=a,this.right*=a,this.top*=a,this.bottom*=a,this;case 2:return this.left*=a,this.right*=a,this.top*=o,this.bottom*=o,this;case 4:return this.left*=a,this.right*=o,this.top*=t,this.bottom*=n,this}return this},p.prototype.clone=function(){return new p(this.left,this.right,this.top,this.bottom)},p.prototype.copyFrom=function(a){this.left=a.left,this.right=a.right,this.top=a.top,this.bottom=a.bottom},p.prototype.equals=function(a){return this.top===a.top&&this.bottom===a.bottom&&this.right===a.right&&this.left===a.left},p.prototype.applyConverter=function(a){return this.left=a(this.left),this.right=a(this.right),this.top=a(this.top),this.bottom=a(this.bottom),this},p}();u.Offsets=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleCalculator=u.ScaleItemInfo=void 0;var c=h(5),p=h(12),a=h(15),o=h(4),t=function(e,r,i,s){this.start=e,this.end=r,this.position=i,this.size=s};u.ScaleItemInfo=t;var n=function(){function e(){this.firstDayOfWeek=0}return e.prototype.setSettings=function(r,i,s,l){l===void 0&&(l=0),this.range=r,this.viewType=i,this.tickSize=s,this.firstDayOfWeek=l,this.reset()},e.prototype.setViewType=function(r){this.viewType=r,this.reset()},e.prototype.reset=function(){delete this._bottomScaleItems,delete this._topScaleItems,delete this._scaleWidth},e.prototype.getScaleIndexByPos=function(r,i){i!=null||(i=this.viewType);var s=i===this.viewType?this.bottomScaleItems:this.topScaleItems,l=-1;if(s.findIndex)l=s.findIndex(function(d){return r>=d.position.x&&r<=d.position.x+d.size.width});else{var g=s.filter(function(d){return r>=d.position.x&&r<=d.position.x+d.size.width})[0];g&&(l=s.indexOf(g))}return l},e.prototype.getScaleBorderPosition=function(r,i){var s=this.getScaleItems(i)[r];if(s)return s.position.x+s.size.width},e.prototype.getScaleItems=function(r){return r===this.viewType?this.bottomScaleItems:r===a.DateUtils.ViewTypeToScaleMap[this.viewType]?this.topScaleItems:null},e.prototype.getScaleItem=function(r,i){return this.getScaleItems(i)[r]},e.prototype.getScaleItemAdjustedStart=function(r,i){var s=this.getScaleItems(i)[r];if(r>0)return s.start;var l=i!==this.viewType,g=l?a.DateUtils.adjustStartDateByViewType(this.range.start,this.viewType,this.firstDayOfWeek):this.getAdjustedBottomScaleItemStart(s.start,i,this.firstDayOfWeek);if(l&&i===o.ViewType.Months){var d=this.range.start;g=new Date(d.getFullYear(),d.getMonth(),1)}if(l&&i===o.ViewType.FiveYears){var f=5*Math.trunc(g.getFullYear()/5);g=new Date(f,g.getMonth(),g.getDate())}return g},Object.defineProperty(e.prototype,"topScaleItems",{get:function(){var r;return(r=this._topScaleItems)!==null&&r!==void 0||(this._topScaleItems=this.calculateTopScale(a.DateUtils.ViewTypeToScaleMap[this.viewType])),this._topScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomScaleItems",{get:function(){var r;return(r=this._bottomScaleItems)!==null&&r!==void 0||(this._bottomScaleItems=this.calculateBottomScale(this.viewType)),this._bottomScaleItems},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleWidth",{get:function(){var r;return(r=this._scaleWidth)!==null&&r!==void 0||(this._scaleWidth=this.calculateScaleWidth()),this._scaleWidth},enumerable:!1,configurable:!0}),e.prototype.getFirstScaleIndexForRender=function(r){var i=this.getScaleIndexByPos(r);return i=Math.max(i-10,0)},e.prototype.getLastScaleIndexForRender=function(r){var i=this.getScaleIndexByPos(r);return i=i===-1?this.bottomScaleItems.length-1:Math.min(i+10,this.bottomScaleItems.length-1)},e.prototype.getTopScaleIndexByBottomIndex=function(r){var i=this.bottomScaleItems[r];return i?this.getScaleIndexByPos(i.position.x,a.DateUtils.ViewTypeToScaleMap[this.viewType]):-1},e.prototype.calculateBottomScale=function(r){for(var i=new Array,s=this.tickSize.width,l=this.range.start,g=0;l.getTime()<this.range.end.getTime();){var d=this.getNextScaleDate(l,r),f=l.getTime()===this.range.start.getTime(),y=d.getTime()>=this.range.end.getTime(),m=f||y?this.getRangeTickCount(l,d)*s:s;i.push(new t(l,d,new c.Point(g,void 0),new p.Size(m,0))),l=d,g+=m}return i},e.prototype.calculateTopScale=function(r){for(var i=new Array,s=this.range.end.getTime(),l=this.range.start,g=0,d=0;l.getTime()<s;)for(var f=this.getNextScaleDate(l,r),y=f.getTime(),m=d;m<this.bottomScaleItems.length;m++){var v=this.bottomScaleItems[m],T=v.start.getTime(),b=v.end.getTime();if(y>=T&&y<=b){var w=(y-T)/(b-T)*v.size.width+v.position.x;i.push(new t(l,f,new c.Point(g,void 0),new p.Size(w-g,0))),d=m,g=w,l=f;break}}return i},e.prototype.getDateInScale=function(r){for(var i=0;i<this.bottomScaleItems.length;i++){var s=this.bottomScaleItems[i],l=s.size.width,g=s.position.x;if(r>=g&&r<=g+l){var d=s.start.getTime(),f=(r-g)/l*(s.end.getTime()-d);return new Date(s.start.getTime()+f)}}return new Date(this.range.end)},e.prototype.getNextScaleDate=function(r,i){var s;switch(i){case o.ViewType.TenMinutes:s=this.getNextDateInTenMinutesScale(r);break;case o.ViewType.Hours:s=this.getNextDateInHoursScale(r);break;case o.ViewType.SixHours:s=this.getNextDateInSixHoursScale(r);break;case o.ViewType.Days:s=this.getNextDateInDaysScale(r);break;case o.ViewType.Weeks:s=this.getNextDateInWeeksScale(r,this.firstDayOfWeek);break;case o.ViewType.Months:s=this.getNextDateInMonthsScale(r);break;case o.ViewType.Quarter:s=this.getNextDateInQuartersScale(r);break;case o.ViewType.Years:s=this.getNextDateInYearsScale(r);break;case o.ViewType.FiveYears:s=this.getNextDateInFiveYearsScale(r)}return s.getTime()>this.range.end.getTime()&&(s=this.range.end),s},e.prototype.getNextTimeBySpan=function(r,i){return(Math.trunc(r/i)+1)*i},e.prototype.getNextDateInTenMinutesScale=function(r){var i=this.getNextTimeBySpan(r.getMinutes(),10);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),i)},e.prototype.getNextDateInHoursScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+1)},e.prototype.getNextDateInSixHoursScale=function(r){var i=this.getNextTimeBySpan(r.getHours(),6);return new Date(r.getFullYear(),r.getMonth(),r.getDate(),i)},e.prototype.getNextDateInDaysScale=function(r){return new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)},e.prototype.getNextDateInWeeksScale=function(r,i){return i===void 0&&(i=0),new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+i+7)},e.prototype.getNextDateInMonthsScale=function(r){return new Date(r.getFullYear(),r.getMonth()+1,1)},e.prototype.getNextDateInQuartersScale=function(r){var i=this.getNextTimeBySpan(r.getMonth(),3);return new Date(r.getFullYear(),i,1)},e.prototype.getNextDateInYearsScale=function(r){return new Date(r.getFullYear()+1,0,1)},e.prototype.getNextDateInFiveYearsScale=function(r){var i=this.getNextTimeBySpan(r.getFullYear(),5);return new Date(i,0,1)},e.prototype.getAdjustedBottomScaleItemStart=function(r,i,s){switch(s===void 0&&(s=0),i){case o.ViewType.TenMinutes:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),10*Math.floor(r.getMinutes()/10));case o.ViewType.SixHours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),6*Math.floor(r.getHours()/6));case o.ViewType.Hours:return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours());case o.ViewType.Days:return new Date(r.getFullYear(),r.getMonth(),r.getDate());case o.ViewType.Weeks:return new Date(r.getFullYear(),r.getMonth(),r.getDate()-r.getDay()+s);case o.ViewType.Months:return new Date(r.getFullYear(),r.getMonth(),1);case o.ViewType.Quarter:return new Date(r.getFullYear(),3*Math.floor(r.getMonth()/3),1);case o.ViewType.Years:return new Date(r.getFullYear(),0,1);default:return new Date}},e.prototype.calculateScaleWidth=function(){return this.bottomScaleItems.reduce(function(r,i){return r+i.size.width},0)},e.prototype.getScaleItemColSpan=function(r){return r.valueOf()===this.viewType.valueOf()?1:this.viewType===o.ViewType.TenMinutes?6:this.viewType===o.ViewType.Hours?24:this.viewType===o.ViewType.SixHours?4:this.viewType===o.ViewType.Days?7:this.viewType===o.ViewType.Weeks?4.29:this.viewType===o.ViewType.Months?12:this.viewType===o.ViewType.Quarter?4:this.viewType===o.ViewType.Years?5:1},e.prototype.getRangeTickCount=function(r,i){return a.DateUtils.getRangeTickCount(r,i,this.viewType)},e}();u.ScaleCalculator=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaExportHelper=void 0;var c=h(3),p=h(19),a=h(25),o=h(15),t=h(17),n=h(37),e=function(){function r(i,s){this._owner=i,this._props=s}return Object.defineProperty(r.prototype,"customRangeLeftOffset",{get:function(){var i;return(i=this._customRangeLeftOffset)!==null&&i!==void 0||(this._customRangeLeftOffset=this.layoutCalculator.getWidthByDateRange(this.startDate,this.ownerStartDate)),this._customRangeLeftOffset},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellSize",{get:function(){return this._owner.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsLeftDelta",{get:function(){return this.renderedScaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"objectsTopDelta",{get:function(){if(!this.hasTasks)return 0;var i=this.visibleTaskIndices[0];return this.getCellTop(i)+this.getTaskCellOffsetTop(i)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetLeft",{get:function(){var i;return(i=this._offsetLeft)!==null&&i!==void 0||(this._offsetLeft=Math.max(this.visibleLeft-this.renderedScaleLeft,0)),this._offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"offsetTop",{get:function(){var i;return(i=this._offsetTop)!==null&&i!==void 0||(this._offsetTop=this.getOffsetTop()),this._offsetTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scales",{get:function(){var i=this.settings.viewType;return[o.DateUtils.ViewTypeToScaleMap[i],i]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRanges",{get:function(){var i;return(i=this._scaleRanges)!==null&&i!==void 0||(this._scaleRanges=this.layoutCalculator.getScaleRangesInArea(this.scaleLeft,this.scaleRight)),this._scaleRanges},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomStartIndex",{get:function(){return this.scaleRanges[1][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomEndIndex",{get:function(){return this.scaleRanges[1][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopStartIndex",{get:function(){return this.scaleRanges[0][0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopEndIndex",{get:function(){return this.scaleRanges[0][1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTopWidths",{get:function(){var i;return(i=this._scaleTopWidths)!==null&&i!==void 0||(this._scaleTopWidths=this.getScaleTopWidths()),this._scaleTopWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBottomWidths",{get:function(){var i;return(i=this._scaleBottomWidths)!==null&&i!==void 0||(this._scaleBottomWidths=this.getScaleBottomWidths()),this._scaleBottomWidths},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRowHeight",{get:function(){if(!this._headerRowHeight){var i=this.scaleElements[0].filter(function(s){return!!s})[0];this._headerRowHeight=i==null?void 0:i.offsetHeight}return this._headerRowHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTaskIndices",{get:function(){var i;return(i=this._visibleTaskIndices)!==null&&i!==void 0||(this._visibleTaskIndices=this.getTaskIndices()),this._visibleTaskIndices},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"baseCellHeight",{get:function(){return this.hasTasks?this.baseCellSize.height:this.taskAreaHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskAreaHeight",{get:function(){return this.hasTasks?this.visibleTaskIndices.length*this.baseCellHeight:this._owner.renderHelper.taskArea.offsetHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleTableStyle",{get:function(){var i;return(i=this._scaleTableStyle)!==null&&i!==void 0||(this._scaleTableStyle=this.getScaleTableStyle()),this._scaleTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"chartMainTableStyle",{get:function(){var i;return(i=this._chartMainTableStyle)!==null&&i!==void 0||(this._chartMainTableStyle=this.getChartMainTableStyle()),this._chartMainTableStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parentRowBackColor",{get:function(){var i;return(i=this._parentRowBackColor)!==null&&i!==void 0||(this._parentRowBackColor=this.getParentBackColor()),this._parentRowBackColor},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"arrowWidth",{get:function(){var i;return(i=this._arrowWidth)!==null&&i!==void 0||(this._arrowWidth=this.getArrowWidth()),this._arrowWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dependencyColor",{get:function(){var i;return(i=this._dependencyColor)!==null&&i!==void 0||(this._dependencyColor=this.getDependencyColor()),this._dependencyColor},enumerable:!1,configurable:!0}),r.prototype.getTaskElementBackColor=function(i,s){var l=this.getTaskElementStyle(i,s);return l==null?void 0:l.backgroundColor},r.prototype.getTaskElementStyle=function(i,s){var l=this.getTaskWrapper(i);return this.getElementStyle(l.getElementsByClassName(s)[0])},r.prototype.isElementVisible=function(i){return i&&getComputedStyle(i).display!=="none"},Object.defineProperty(r.prototype,"hasTasks",{get:function(){return this.visibleTaskIndices.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleLeft",{get:function(){var i;return(i=this._visibleLeft)!==null&&i!==void 0||(this._visibleLeft=this.isVisibleMode?this.container.scrollLeft:0),this._visibleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleTop",{get:function(){var i;return(i=this._visibleTop)!==null&&i!==void 0||(this._visibleTop=this.isVisibleMode?this.container.scrollTop:0),this._visibleTop},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"visibleRight",{get:function(){var i;return(i=this._visibleRight)!==null&&i!==void 0||(this._visibleRight=this.getVisibleRight()),this._visibleRight},enumerable:!1,configurable:!0}),r.prototype.getVisibleRight=function(){var i=this.container.getElement().offsetWidth;return this.visibleLeft+i},Object.defineProperty(r.prototype,"visibleBottom",{get:function(){var i;return(i=this._visibleBottom)!==null&&i!==void 0||(this._visibleBottom=this.getVisibleBottom()),this._visibleBottom},enumerable:!1,configurable:!0}),r.prototype.getVisibleBottom=function(){return this.isVisibleMode?this.visibleTop+this.container.getHeight():this.visibleTaskIndices.length*this.baseCellSize.height},Object.defineProperty(r.prototype,"scaleLeft",{get:function(){var i;return(i=this._scaleLeft)!==null&&i!==void 0||(this._scaleLeft=this.isVisibleMode?this.visibleLeft:this.getPosByDate(this.startDate)),this._scaleLeft},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleRight",{get:function(){var i;return(i=this._scaleRight)!==null&&i!==void 0||(this._scaleRight=this.isVisibleMode?this.visibleRight:this.getPosByDate(this.endDate)-1),this._scaleRight},enumerable:!1,configurable:!0}),r.prototype.getScaleTopWidths=function(){var i=this.getScaleWidths(this.scaleTopStartIndex,this.scaleTopEndIndex,this.scales[0]),s=this.layoutCalculator,l=s.getScaleItemInfo(this.scaleBottomStartIndex,this.scales[1]),g=s.getScaleItemInfo(this.scaleTopStartIndex,this.scales[0]),d=Math.max(l.position.x-g.position.x,0);i[this.scaleTopStartIndex]-=d;var f=s.getScaleItemInfo(this.scaleTopEndIndex,this.scales[0]),y=s.getScaleItemInfo(this.scaleBottomEndIndex,this.scales[1]);return d=Math.max(f.position.x+f.size.width-y.position.x-y.size.width,0),i[this.scaleTopEndIndex]-=d,i},r.prototype.getScaleBottomWidths=function(){return this.getScaleWidths(this.scaleBottomStartIndex,this.scaleBottomEndIndex,this.scales[1])},r.prototype.getScaleWidths=function(i,s,l){for(var g=new Array,d=i;d<=s;d++)g[d]=this.layoutCalculator.getScaleItemInfo(d,l).size.width;return g},r.prototype.getOffsetTop=function(){return this.isVisibleMode&&this.hasTasks?this.getTaskCellOffsetTop(this.visibleTaskIndices[0]):0},Object.defineProperty(r.prototype,"renderedScaleLeft",{get:function(){return this.getCellLeft(this.scaleBottomStartIndex)},enumerable:!1,configurable:!0}),r.prototype.getTaskCellOffsetTop=function(i){var s=this.getCellTop(i);return Math.max(this.visibleTop-s,0)},r.prototype.getCellTop=function(i){return this.layoutCalculator.getGridBorderPosition(i-1,!1).y},r.prototype.getCellLeft=function(i){return this.layoutCalculator.getScaleItemInfo(i,this.scales[1]).position.x},r.prototype.getTaskIndices=function(){var i,s;return this.dataMode===n.DataExportMode.all||this.exportRange?this._owner.getAllVisibleTaskIndices((i=this.exportRange)===null||i===void 0?void 0:i.startIndex,(s=this.exportRange)===null||s===void 0?void 0:s.endIndex):this.getVisibleTaskIndices()},r.prototype.getVisibleTaskIndices=function(){var i=this,s=[];return this.taskElements.forEach(function(l,g){if(l){var d=c.DomUtils.pxToInt(l.style.top),f=d+l.offsetHeight,y=d>=i.visibleTop&&d<=i.visibleBottom,m=f>=i.visibleTop&&f<=i.visibleBottom;(y||m)&&s.push(g)}}),s},Object.defineProperty(r.prototype,"scaleElements",{get:function(){return this._owner.renderHelper.scaleElements.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleBorders",{get:function(){return this._owner.renderHelper.scaleBorders.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hlRowElements",{get:function(){return this._owner.renderHelper.hlRowElements.filter(function(i){return!!i})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selectionElements",{get:function(){return this._owner.renderHelper.selectionElements.filter(function(i){return!!i})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskElements",{get:function(){return this._owner.renderHelper.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){var i,s=this;return(i=this._connectorLines)!==null&&i!==void 0||(this._connectorLines=this._owner.renderHelper.allConnectorLines.filter(function(l){return s.isLineVisible(l)})),this._connectorLines},enumerable:!1,configurable:!0}),r.prototype.isLineVisible=function(i){if(this.dataMode===n.DataExportMode.all)return!0;var s=i.attr["dependency-id"];return this.visibleDependencyKeys.indexOf(s)>-1},Object.defineProperty(r.prototype,"visibleDependencyKeys",{get:function(){var i;return(i=this._visibleDependencyKeys)!==null&&i!==void 0||(this._visibleDependencyKeys=this._owner.getVisibleDependencyKeysByTaskRange(this.visibleTaskIndices)),this._visibleDependencyKeys},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resourcesElements",{get:function(){var i,s=this;return(i=this._resourcesElements)!==null&&i!==void 0||(this._resourcesElements=this.visibleTaskIndices.map(function(l){return s._owner.renderHelper.resourcesElements[l]}).filter(function(l){return s.isElementVisible(l)&&l.parentElement})),this._resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stripLinesElements",{get:function(){if(!this._stripLinesElements){var i=this._owner.renderHelper.stripLinesMap.filter(function(s){return!!s}).map(function(s){return s});this._stripLinesElements=i.map(function(s){return s})}return this._stripLinesElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"noWorkingIntervalsElements",{get:function(){if(!this._noWorkingIntervalsElements){this._noWorkingIntervalsElements=[];var i=this._owner.renderHelper.noWorkingIntervalsToElementsMap;for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&this._noWorkingIntervalsElements.push(i[s])}return this._noWorkingIntervalsElements},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"taskArea",{get:function(){return this._owner.renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"settings",{get:function(){return this._owner.settings},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataMode",{get:function(){var i;return(i=this._props)===null||i===void 0?void 0:i.exportDataMode},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"exportRange",{get:function(){var i;return(i=this._props)===null||i===void 0?void 0:i.dateRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isVisibleMode",{get:function(){return this.dataMode===n.DataExportMode.visible&&!this.exportRange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerStartDate",{get:function(){return this._owner.range.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownerEndDate",{get:function(){return this._owner.range.end},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startDate",{get:function(){var i,s,l,g;if(!((i=this.exportRange)===null||i===void 0)&&i.startDate&&(!((s=this.exportRange)===null||s===void 0)&&s.endDate)){var d=Math.min((l=this.exportRange)===null||l===void 0?void 0:l.startDate.getTime(),(g=this.exportRange)===null||g===void 0?void 0:g.endDate.getTime());return new Date(d)}return this.ownerStartDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endDate",{get:function(){var i,s,l,g;if(!((i=this.exportRange)===null||i===void 0)&&i.startDate&&(!((s=this.exportRange)===null||s===void 0)&&s.endDate)){var d=Math.max((l=this.exportRange)===null||l===void 0?void 0:l.startDate.getTime(),(g=this.exportRange)===null||g===void 0?void 0:g.endDate.getTime());return new Date(d)}return this.ownerEndDate},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"hasCustomRangeOutOfRender",{get:function(){return this.startDate.getTime()!==this.ownerStartDate.getTime()||this.endDate.getTime()!==this.ownerEndDate.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"layoutCalculator",{get:function(){if(!this._layoutCalculator){var i=this._owner.renderHelper.gridLayoutCalculator;this.hasCustomRangeOutOfRender?(this._layoutCalculator=new a.GridLayoutCalculator,this._layoutCalculator.setSettings(i.visibleTaskAreaSize,i.tickSize,i.elementSizeValues,new p.DateRange(this.startDate,this.endDate),i.viewModel,i.viewType,i.scrollBarHeight,this._owner.settings.firstDayOfWeek)):this._layoutCalculator=i}return this._layoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"container",{get:function(){return this._owner.renderHelper.taskAreaContainer},enumerable:!1,configurable:!0}),r.prototype.getPosByDate=function(i){return this.layoutCalculator.getPosByDate(i)},r.prototype.getScaleTableStyle=function(){var i={},s=this.scaleElements[0].filter(function(g){return!!g})[0],l=this.getElementStyle(s);return i.backgroundColor=this.findElementBackColor(s),i.borderColor=this.getChartTableBorderColor(),i.verticalAlign="middle",i.textAlign="center",i.fontSize=l.fontSize,i.fontFamily=l.fontFamily,i.fontWeight=l.fontWeight,i.fontStyle=l.fontStyle,i.color=l.color,i},r.prototype.getChartMainTableStyle=function(){var i={};return i.backgroundColor=this.findElementBackColor(this.taskArea),i.borderColor=this.getChartTableBorderColor(),i},r.prototype.findElementBackColor=function(i){if(!i)return null;for(var s=i,l=new t.Color("transparent");l.opacity===0&&s;){var g=this.getElementStyle(s);l.assign(g.backgroundColor),s=s.parentElement}return l},r.prototype.getChartTableBorderColor=function(){var i=this.getElementStyle(this.scaleBorders[0].filter(function(s){return!!s})[0]);return i==null?void 0:i.borderColor},r.prototype.getParentBackColor=function(){var i=this.getElementStyle(this.hlRowElements[0]);return i==null?void 0:i.backgroundColor},r.prototype.getArrowWidth=function(){var i=this.getDependencyLineStyle(a.GridLayoutCalculator.arrowClassName),s=i.borderWidth||i.borderLeftWidth||i.borderRightWidth||i.borderTopWidth||i.borderBottomWidth;return i&&c.DomUtils.pxToInt(s)},r.prototype.getDependencyColor=function(){var i=this.getDependencyLineStyle(a.GridLayoutCalculator.CLASSNAMES.CONNECTOR_HORIZONTAL);return i==null?void 0:i.borderColor},r.prototype.getDependencyLineStyle=function(i){return this.getElementStyle(this.taskArea.getElementsByClassName(i)[0])},r.prototype.getElementStyle=function(i){return i&&getComputedStyle(i)},r.prototype.getTaskWrapper=function(i){return this.isTaskTemplateMode?this._owner.renderHelper.fakeTaskWrapper:(this.taskElements[i]||this._owner.renderHelper.createDefaultTaskElement(i),this.taskElements[i])},Object.defineProperty(r.prototype,"isTaskTemplateMode",{get:function(){return!!this._owner.settings.taskContentTemplate},enumerable:!1,configurable:!0}),r}();u.TaskAreaExportHelper=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttPdfExportProps=void 0;var c=h(12),p=h(1),a=h(36),o=h(132),t=h(133),n=h(37),e=function(){function r(i){this.landscape=!1,this.margins=null,this.exportMode=n.ExportMode.all,this.exportDataMode=n.DataExportMode.visible,i&&this.assign(i)}return r.prototype.assign=function(i){if(i){if((0,p.isDefined)(i.pdfDocument)&&(this.pdfDoc=i.pdfDocument),(0,p.isDefined)(i.pdfDoc)&&(this.pdfDoc=i.pdfDoc),this.docCreateMethod=i.docCreateMethod,(0,p.isDefined)(i.fileName)&&(this.fileName=i.fileName),this.landscape=!!i.landscape,(0,p.isDefined)(i.margins)&&(this.margins=new a.Margin(i.margins)),(0,p.isDefined)(i.format)){var s=i.format;if(typeof s=="string")this.format=s;else{var l=parseInt(s.width),g=parseInt(s.height);this.pageSize=new c.Size(l,g)}}else if((0,p.isDefined)(i.pageSize)){var d=i.pageSize;this.pageSize=d instanceof c.Size?d.clone():new c.Size(d.width,d.height)}if((0,p.isDefined)(i.exportMode)&&(this.exportMode=this.getEnumValue(n.ExportMode,i.exportMode)),(0,p.isDefined)(i.dateRange)){var f=i.dateRange;typeof f=="number"||typeof f=="string"?this.exportDataMode=this.getEnumValue(n.DataExportMode,f):this.dateRange=new o.PdfDataRange(f)}(0,p.isDefined)(i.font)&&(this.font=new t.PdfCustomFontSettings(i.font))}},r.prototype.getEnumValue=function(i,s){if(!(0,p.isDefined)(i[s]))return null;var l=parseInt(s);return isNaN(l)?i[s]:l},r.autoFormatKey="auto",r}();u.GanttPdfExportProps=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfDataRange=void 0;var c=h(1),p=function(){function a(o,t,n,e){var r=!o||o instanceof Date?{startDate:o,endDate:t,startIndex:n,endIndex:e}:o;r&&this.assign(r)}return a.prototype.assign=function(o){(0,c.isDefined)(o.startDate)&&(this.startDate=o.startDate instanceof Date?o.startDate:new Date(o.startDate)),(0,c.isDefined)(o.endDate)&&(this.endDate=o.endDate instanceof Date?o.endDate:new Date(o.endDate)),(0,c.isDefined)(o.startIndex)&&(this.startIndex=parseInt(o.startIndex)),(0,c.isDefined)(o.endIndex)&&(this.endIndex=parseInt(o.endIndex))},a}();u.PdfDataRange=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfCustomFontSettings=void 0;var c=h(1),p=function(){function a(o){this.style="normal",o&&this.assign(o)}return a.prototype.assign=function(o){(0,c.isDefined)(o.fontObject)&&(this.fontObject=o.fontObject),(0,c.isDefined)(o.name)&&(this.name=o.name),(0,c.isDefined)(o.style)&&(this.style=o.style),(0,c.isDefined)(o.weight)&&(this.weight=o.weight)},a.prototype.applyToDoc=function(o){try{if(o&&this.fontObject&&this.name){var t=this.name+"-"+this.style+".ttf";o.addFileToVFS(t,this.fontObject),o.addFont(t,this.name,this.style,this.weight),o.setFont(this.name)}}catch{}},a}();u.PdfCustomFontSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttPaginator=void 0;var c=h(5),p=h(12),a=h(60),o=h(44),t=h(61),n=h(63),e=h(27),r=h(45),i=h(135),s=function(d,f,y,m,v){this.pageVerIndex=f,this.pageHorIndex=d,this.cellRowIndexOnPage=y,this.cellColIndexOnPage=m,this.cell=v},l=function(){function d(f,y,m,v){this.pageIndex=f,this.globalCellIndex=y,this.pageOffset=m,this.cutSize=v}return Object.defineProperty(d.prototype,"isCutted",{get:function(){return this.cutSize>0},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"cellIndexOnPage",{get:function(){return this.globalCellIndex-this.pageOffset},enumerable:!1,configurable:!0}),d}(),g=function(){function d(f,y,m){this._pdfDoc=f,this._props=y,this._globalInfo=m}return d.prototype.getPages=function(){return delete this._pages,this._paginateTables(),this._paginateObjects(),this.pageMatrixToArray},d.prototype._paginateTables=function(){this._paginateTable(e.PdfPageTableNames.treeListHeader),this._paginateTable(e.PdfPageTableNames.treeListMain),this._paginateTable(e.PdfPageTableNames.chartScaleBottom),this._paginateTable(e.PdfPageTableNames.chartScaleTop),this._paginateTable(e.PdfPageTableNames.chartMain)},d.prototype._paginateObjects=function(){this._paginateTasks(),this._paginateDependencies(),this._paginateResources(),this._paginateTimeMarkers()},Object.defineProperty(d.prototype,"pageMatrixToArray",{get:function(){var f,y=new Array;return(f=this._pages)===null||f===void 0||f.forEach(function(m){y=y.concat(m)}),y},enumerable:!1,configurable:!0}),d.prototype._paginateTasks=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.tasks)===null||y===void 0||y.forEach(function(v){return m._paginateTask(v)})},d.prototype._paginateDependencies=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.dependencies)===null||y===void 0||y.forEach(function(v){v.arrowInfo?m._paginateArrow(v):m._paginateDependencyLine(v)})},d.prototype._paginateResources=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.resources)===null||y===void 0||y.forEach(function(v){return m._paginateResource(v)})},d.prototype._paginateTimeMarkers=function(){var f,y,m=this;(y=(f=this._globalInfo.objects)===null||f===void 0?void 0:f.timeMarkers)===null||y===void 0||y.forEach(function(v){return m._paginateTimeMarker(v)})},d.prototype._paginateTable=function(f){var y,m=(y=this._globalInfo)===null||y===void 0?void 0:y.tables[f];if(m){for(var v=this._getTableStart(m),T=this._preparePagesNavigationMatrixForTable(v,m),b=T.length,w=0;w<b;w++)for(var A=T[w].length,I=0;I<A;I++){var _=T[w][I],M=this._getPage(_.pageVerIndex,_.pageHorIndex,!0),O=_.pageHorIndex===v.hIndex?v.pageX:this.pageLeft,N=_.pageVerIndex===v.vIndex?v.pageY:this.pageTop;this._setTablePositionOnPage(M,f,O,N),this._addCellToPage(M,f,_)}this._updateTableSizeOnPages(f)}},d.prototype._paginateTask=function(f){for(var y=this._getTaskPagination(f),m=this._getTaskPagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new o.PdfTaskInfo;b.assign(f),this._offsetPoints(b.sidePoints,y[T].offset,m[v].offset),this._addTaskToPage(m[v].pageIndex,y[T].pageIndex,b)}},d.prototype._paginateArrow=function(f){var y=this._getPointPageInfo(f.points[0]),m=new a.PdfDependencyLineInfo;m.assign(f),this._offsetPoints(m.points,y.offsetX,y.offsetY),this._addDependencyToPage(y.pageVerIndex,y.pageHorIndex,m)},d.prototype._paginateDependencyLine=function(f){for(var y=this._getDependencyLinePagination(f),m=this._getDependencyLinePagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new a.PdfDependencyLineInfo;b.assign(f),this._offsetPoints(b.points,y[T].offset,m[v].offset),this._addDependencyToPage(m[v].pageIndex,y[T].pageIndex,b)}},d.prototype._paginateResource=function(f){var y=this._getPointPageInfo(new c.Point(f.x,f.y)),m=new t.PdfTaskResourcesInfo;m.assign(f),m.x-=y.offsetX,m.y-=y.offsetY,this._addResourceToPage(y.pageVerIndex,y.pageHorIndex,m)},d.prototype._paginateTimeMarker=function(f){for(var y=this._getTimeMarkerPagination(f),m=this._getTimeMarkerPagination(f,!0),v=0;v<m.length;v++)for(var T=0;T<y.length;T++){var b=new n.PdfTimeMarkerInfo;b.assign(f),b.start.x-=y[T].offset,b.start.y-=m[v].offset,this._addTimeMarkerToPage(m[v].pageIndex,y[T].pageIndex,b)}},d.prototype._getTableStart=function(f){var y=new i.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms);return y.offset(f.position.x,f.position.y),y},d.prototype._getPage=function(f,y,m){return m&&this._extendPageMatrixIfRequired(f,y),this._pages[f]&&this._pages[f][y]},d.prototype._getTableOrCreate=function(f,y){var m,v;return(m=(v=f.tables)[y])!==null&&m!==void 0||(v[y]=this._createTable(y)),f.tables[y]},d.prototype._preparePagesNavigationMatrixForTable=function(f,y){for(var m=new Array,v=this._getTableNavigationVector(f,y,!0),T=v.length,b=0;b<T;b++){for(var w=new Array,A=v[b],I=this._getTableNavigationVector(f,y,!1,A.globalCellIndex),_=I.length,M=0;M<_;M++){var O=I[M],N=y.name===e.PdfPageTableNames.chartScaleTop,C=this._prepareCuttedCell(y.cells[A.globalCellIndex][O.globalCellIndex],O,A,N),x=new s(O.pageIndex,A.pageIndex,A.cellIndexOnPage,O.cellIndexOnPage,C);w.push(x)}m.push(w)}return m},d.prototype._setTablePositionOnPage=function(f,y,m,v){this._getTableOrCreate(f,y).position=new c.Point(m,v)},d.prototype._extendPageMatrixIfRequired=function(f,y){var m;(m=this._pages)!==null&&m!==void 0||(this._pages=new Array);for(var v=this._pages.length;v<=f;v++)this._pages.push(new Array);var T=this._pages[f];for(v=T.length;v<=y;v++)T.push(this._createPage())},d.prototype._getTableAndExtendIfRequired=function(f,y,m,v){for(var T=this._getTableOrCreate(f,y),b=T.cells,w=b.length;w<=m;w++)b.push(new Array);var A=b[m];for(w=A.length;w<=v;w++)A.push(new r.CellDef);return T},d.prototype._createPage=function(){return{objects:{tasks:null,dependencies:null,resources:null,timeMarkers:null},tables:{}}},d.prototype._createTable=function(f){var y,m=(y=this._globalInfo)===null||y===void 0?void 0:y.tables[f];return{name:f,size:null,position:null,style:m.style,baseCellSize:m.baseCellSize,cells:new Array,hideRowLines:m.hideRowLines}},d.prototype._addCellToPage=function(f,y,m){var v=m.cellRowIndexOnPage,T=m.cellColIndexOnPage;this._getTableAndExtendIfRequired(f,y,v,T).cells[v][T].assign(m.cell)},d.prototype._updateTableSizeOnPages=function(f){for(var y,m=(y=this._pages[0])===null||y===void 0?void 0:y.length,v=this._pages.length,T=0;T<v;T++)for(var b=0;b<m;b++)this._updateTableSizeOnPage(this._pages[T][b],f)},d.prototype._updateTableSizeOnPage=function(f,y){var m,v=this,T=f==null?void 0:f.tables[y];if(T){var b=T.cells.length*T.baseCellSize.height||0,w=((m=T.cells[0])===null||m===void 0?void 0:m.reduce(function(A,I,_){return A+v._getCellWidth(T,0,_)},0))||0;T.size=new p.Size(w,b)}},d.prototype._getTableNavigationVector=function(f,y,m,v){var T,b;m===void 0&&(m=!1),v===void 0&&(v=0);for(var w=new Array,A=i.PageNavigation.createFrom(f),I=m?(T=y.cells)===null||T===void 0?void 0:T.length:(b=y.cells[v])===null||b===void 0?void 0:b.length,_=0;_<I;_++){var M=m?y.baseCellSize.height:this._getCellWidth(y,v,_);this._placeCell(w,A,_,M,m)}return w},d.prototype._placeCell=function(f,y,m,v,T){var b,w,A=T?y.vIndex:y.hIndex,I=(w=(b=f[f.length-1])===null||b===void 0?void 0:b.pageOffset)!==null&&w!==void 0?w:m,_=v,M=y.getSpaceToBorder(T);y.offsetOneD(v,T);var O=T?y.vIndex:y.hIndex;if(!T)for(var N=A;N<O;N++){var C=new l(N,m,I,M);I=m,f.push(C),_-=M,M=y.getPageSize(T)}O!==A&&(I=m);var x=new l(O,m,I,_!==v?_:null);f.push(x)},d.prototype._prepareCuttedCell=function(f,y,m,v){var T=new r.CellDef(f);if(y.isCutted){var b=y.cutSize;if(!v){var w=T.content,A=f.styles,I=b-(A&&A.cellPadding.left||0)-(A&&A.cellPadding.right||0),_=this._pdfDoc.splitTextToSize(w,I);f.content=w.replace(_[0],""),T.content=_[0]}T.styles.cellWidth.assign(b)}return m.isCutted&&(T.styles.minCellHeight=m.cutSize),T},d.prototype._getCellWidth=function(f,y,m){var v,T=f.cells[y][m],b=T.styles,w=b.cellWidth.getValue(),A=w??b.minCellWidth;return A??f.baseCellSize.width*((v=T.colSpan)!==null&&v!==void 0?v:1)},d.prototype._getTaskPagination=function(f,y){var m=y?f.height:f.width,v=y?f.top:f.left;return this._getLinePagination(v,m,y)},d.prototype._getDependencyLinePagination=function(f,y){var m=f.points[0],v=f.points[1],T=y?v.y-m.y:v.x-m.x,b=y?m.y:m.x;return this._getLinePagination(b,T,y)},d.prototype._getTimeMarkerPagination=function(f,y){var m=y?f.size.height:f.size.width,v=y?f.start.y:f.start.x;return this._getLinePagination(v,m,y)},d.prototype._getLinePagination=function(f,y,m){var v=new Array,T=this.pageNavigator.clone();T.offsetOneD(f,m);var b=m?T.vIndex:T.hIndex;T.offsetOneD(y,m);for(var w=m?T.vIndex:T.hIndex,A=b;A<=w;A++)v.push({offset:T.getPageGlobalOffset(A,m),pageIndex:A});return v},d.prototype._getPointPageInfo=function(f){var y=this.pageNavigator.clone();return y.offset(f.x,f.y),{offsetX:y.getPageGlobalOffset(y.hIndex),offsetY:y.getPageGlobalOffset(y.vIndex,!0),pageHorIndex:y.hIndex,pageVerIndex:y.vIndex}},Object.defineProperty(d.prototype,"pageWidth",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageHeight",{get:function(){var f;return(f=this._pdfDoc)===null||f===void 0?void 0:f.getPageHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageLeftMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.left},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageTopMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.top},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageRightMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.right},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageBottomMargin",{get:function(){var f;return(f=this._props)===null||f===void 0?void 0:f.margins.bottom},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageLeft",{get:function(){var f;return(f=this._pageLeft)!==null&&f!==void 0||(this._pageLeft=this.pageLeftMargin),this._pageLeft},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageRight",{get:function(){var f;return(f=this._pageRight)!==null&&f!==void 0||(this._pageRight=this.pageWidth-this.pageRightMargin),this._pageRight},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageTop",{get:function(){var f;return(f=this._pageTop)!==null&&f!==void 0||(this._pageTop=this.pageTopMargin),this._pageTop},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageBottom",{get:function(){var f;return(f=this._pageBottom)!==null&&f!==void 0||(this._pageBottom=this.pageHeight-this.pageBottomMargin),this._pageBottom},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageBorders",{get:function(){return{left:this.pageLeft,top:this.pageTop,bottom:this.pageBottom,right:this.pageRight}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"correctedPageBottoms",{get:function(){var f;return(f=this._correctedPageBottoms)!==null&&f!==void 0||(this._correctedPageBottoms=this._getCorrectedPagesBottom()),this._correctedPageBottoms},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"pageNavigator",{get:function(){var f;return(f=this._pageNavigator)!==null&&f!==void 0||(this._pageNavigator=new i.PageNavigation(this.pageBorders,0,0,0,0,this.correctedPageBottoms)),this._pageNavigator},enumerable:!1,configurable:!0}),d.prototype._getCorrectedPagesBottom=function(){var f,y,m,v,T=new Array,b=(f=this._globalInfo)===null||f===void 0?void 0:f.tables,w=(y=b[e.PdfPageTableNames.treeListMain])!==null&&y!==void 0?y:b[e.PdfPageTableNames.chartMain],A=new i.PageNavigation(this.pageBorders);A.pageY=w.position.y;for(var I=0;I<w.cells.length;I++){var _=(v=(m=w.cells[I][0].styles)===null||m===void 0?void 0:m.minCellHeight)!==null&&v!==void 0?v:w.baseCellSize.height,M=A.vIndex,O=A.pageY;A.offsetOneD(_,!0),M!==A.vIndex&&(T.push(O),A.pageY=A.getPageStart(!0)+_)}return T},d.prototype._addTaskToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).tasks)!==null&&v!==void 0||(T.tasks=new Array),b.objects.tasks.push(m))},d.prototype._addDependencyToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).dependencies)!==null&&v!==void 0||(T.dependencies=new Array),b.objects.dependencies.push(m))},d.prototype._addResourceToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).resources)!==null&&v!==void 0||(T.resources=new Array),b.objects.resources.push(m))},d.prototype._addTimeMarkerToPage=function(f,y,m){var v,T,b=this._getPage(f,y);b&&((v=(T=b.objects).timeMarkers)!==null&&v!==void 0||(T.timeMarkers=new Array),b.objects.timeMarkers.push(m))},d.prototype._offsetPoints=function(f,y,m){f.forEach(function(v){v.x-=y,v.y-=m})},d}();u.PdfGanttPaginator=g},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PageNavigation=void 0;var c=function(){function p(a,o,t,n,e,r){this._correctedBottoms=new Array,this.vIndex=0,this.hIndex=0,this.pageX=0,this.pageY=0,this._top=a==null?void 0:a.top,this._left=a==null?void 0:a.left,this._bottom=a==null?void 0:a.bottom,this._right=a==null?void 0:a.right,this.vIndex=o??this.vIndex,this.hIndex=t??this.hIndex,this.pageX=n??this.pageX,this.pageY=e??this.pageY,r&&(this._correctedBottoms=r)}return p.prototype.offset=function(a,o){a&&this.offsetOneD(a),o&&this.offsetOneD(o,!0)},p.prototype.offsetOneD=function(a,o){for(var t=a,n=this.getSpaceToBorder(o);n<t;)o?(this.vIndex++,this.pageY=this._top):(this.hIndex++,this.pageX=this._left),t-=n,n=this.getSpaceToBorder(o);o?this.pageY+=t:this.pageX+=t},Object.defineProperty(p.prototype,"defaultPageHeight",{get:function(){return this.getCurrentPageBottom()-this._top},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"defaultPageWidth",{get:function(){return this._right-this._left},enumerable:!1,configurable:!0}),p.prototype.getPageEnd=function(a){return a?this.getCurrentPageBottom():this._right},p.prototype.getPageStart=function(a){return a?this._top:this._left},p.prototype.getPageSize=function(a,o){return a?this.getPageHeight(o):this.defaultPageWidth},p.prototype.getSpaceToBorder=function(a){return a?this.getCurrentPageBottom()-this.pageY:this._right-this.pageX},p.prototype.getPageGlobalOffset=function(a,o){if(!o)return a*this.defaultPageWidth;for(var t=0,n=1;n<=a;n++)t+=this.getPageHeight(n-1);return t},p.prototype.assign=function(a){this._top=a._top,this._left=a._left,this._bottom=a._bottom,this._right=a._right,this._correctedBottoms=a._correctedBottoms,this.vIndex=a.vIndex,this.hIndex=a.hIndex,this.pageX=a.pageX,this.pageY=a.pageY},p.createFrom=function(a){var o=new p;return o.assign(a),o},p.prototype.clone=function(){var a=new p;return a.assign(this),a},p.prototype.getCurrentPageBottom=function(){return this.getPageBottom(this.vIndex)},p.prototype.getPageBottom=function(a){var o;return(o=this._correctedBottoms[a])!==null&&o!==void 0?o:this._bottom},p.prototype.getPageHeight=function(a){return this.getPageBottom(a)-this._top},p}();u.PageNavigation=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ScalingHelper=void 0;var c=h(27),p=function(){function a(o){this._doc=o}return Object.defineProperty(a.prototype,"_docScaleFactor",{get:function(){var o,t;return(t=(o=this._doc)===null||o===void 0?void 0:o.internal)===null||t===void 0?void 0:t.scaleFactor},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"_correctScaleNeeded",{get:function(){return this._docScaleFactor&&Math.abs(this._docScaleFactor-a._defaultScaleFactor)>Number.EPSILON},enumerable:!1,configurable:!0}),a.prototype.getScaledSize=function(o){return o*a._defaultScaleFactor/this._docScaleFactor},a.prototype.scalePageMargins=function(o){var t,n,e,r;this._correctScaleNeeded&&(!((t=o==null?void 0:o.margins)===null||t===void 0)&&t.left&&(o.margins.left=this.getScaledSize(o.margins.left)),!((n=o==null?void 0:o.margins)===null||n===void 0)&&n.right&&(o.margins.right=this.getScaledSize(o.margins.right)),!((e=o==null?void 0:o.margins)===null||e===void 0)&&e.top&&(o.margins.top=this.getScaledSize(o.margins.top)),!((r=o==null?void 0:o.margins)===null||r===void 0)&&r.bottom&&(o.margins.bottom=this.getScaledSize(o.margins.bottom)))},a.prototype.scaleSizes=function(o){this._correctScaleNeeded&&(this.scaleTables(o),this.scaleObjects(o.objects))},a.prototype.scaleTables=function(o){o!=null&&o.tables&&(this.scaleTable(o.tables[c.PdfPageTableNames.treeListHeader]),this.scaleTable(o.tables[c.PdfPageTableNames.treeListMain]),this.scaleTable(o.tables[c.PdfPageTableNames.chartMain]),this.scaleTable(o.tables[c.PdfPageTableNames.chartScaleTop]),this.scaleTable(o.tables[c.PdfPageTableNames.chartScaleBottom]))},a.prototype.scaleTable=function(o){var t,n,e,r,i,s;if(o&&(!((t=o.size)===null||t===void 0)&&t.width&&(o.size.width=this.getScaledSize(o.size.width)),!((n=o.size)===null||n===void 0)&&n.height&&(o.size.height=this.getScaledSize(o.size.height)),!((e=o.position)===null||e===void 0)&&e.x&&(o.position.x=this.getScaledSize(o.position.x)),!((r=o.position)===null||r===void 0)&&r.y&&(o.position.y=this.getScaledSize(o.position.y)),!((i=o.baseCellSize)===null||i===void 0)&&i.width&&(o.baseCellSize.width=this.getScaledSize(o.baseCellSize.width)),!((s=o.baseCellSize)===null||s===void 0)&&s.height&&(o.baseCellSize.height=this.getScaledSize(o.baseCellSize.height)),o.cells))for(var l=0;l<o.cells.length;l++)for(var g=o.cells[l],d=0;d<g.length;d++){var f=g[d];this.scaleStyle(f.styles)}},a.prototype.scaleObjects=function(o){this.scaleTasks(o==null?void 0:o.tasks),this.scaleDependencies(o==null?void 0:o.dependencies),this.scaleResources(o==null?void 0:o.resources),this.scaleTimeMarkers(o==null?void 0:o.timeMarkers)},a.prototype.scaleTasks=function(o){var t=this;o==null||o.forEach(function(n){t.scalePoints(n.sidePoints),n.progressWidth=t.getScaledSize(n.progressWidth),t.scaleStyle(n.textStyle)})},a.prototype.scaleDependencies=function(o){var t=this;o==null||o.forEach(function(n){var e;t.scalePoints(n.points),!((e=n.arrowInfo)===null||e===void 0)&&e.width&&(n.arrowInfo.width=t.getScaledSize(n.arrowInfo.width))})},a.prototype.scaleResources=function(o){var t=this;o==null||o.forEach(function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y),t.scaleStyle(n.style)})},a.prototype.scaleTimeMarkers=function(o){var t=this;o==null||o.forEach(function(n){n.start.x=t.getScaledSize(n.start.x),n.start.y=t.getScaledSize(n.start.y),n.size.width=t.getScaledSize(n.size.width),n.size.height=t.getScaledSize(n.size.height)})},a.prototype.scaleStyle=function(o){var t,n,e,r;if(o){var i=o.cellWidth;if(i!=null&&i.hasValue()){var s=this.getScaledSize(Number(i.getValue()));i.assign(s)}o.minCellHeight&&(o.minCellHeight=this.getScaledSize(o.minCellHeight)),o.minCellWidth&&(o.minCellWidth=this.getScaledSize(o.minCellWidth)),!((t=o.cellPadding)===null||t===void 0)&&t.left&&(o.cellPadding.left=this.getScaledSize(o.cellPadding.left)),!((n=o.cellPadding)===null||n===void 0)&&n.right&&(o.cellPadding.right=this.getScaledSize(o.cellPadding.right)),!((e=o.cellPadding)===null||e===void 0)&&e.top&&(o.cellPadding.top=this.getScaledSize(o.cellPadding.top)),!((r=o.cellPadding)===null||r===void 0)&&r.bottom&&(o.cellPadding.bottom=this.getScaledSize(o.cellPadding.bottom))}},a.prototype.scalePoints=function(o){var t=this;o==null||o.forEach(function(n){n.x=t.getScaledSize(n.x),n.y=t.getScaledSize(n.y)})},a._defaultScaleFactor=.75,a}();u.ScalingHelper=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.History=void 0;var c=h(138),p=h(42),a=function(){function o(t){this.historyItems=[],this.currentIndex=-1,this.currentProcessingItemInfo=null,this.transaction=null,this.transactionLevel=-1,this._listener=t}return o.prototype.undo=function(){this.canUndo()&&(this.activateItem(this.historyItems[this.currentIndex],!0),this.currentIndex--)},o.prototype.redo=function(){this.canRedo()&&(this.currentIndex++,this.activateItem(this.historyItems[this.currentIndex]))},o.prototype.beginTransaction=function(){var t;this.transactionLevel++,this.transactionLevel==0&&(this.transaction=new p.CompositionHistoryItem,(t=this._listener)===null||t===void 0||t.onTransactionStart())},o.prototype.endTransaction=function(){var t;if(!(--this.transactionLevel>=0)){var n=this.transaction.historyItems.length;n>1?this.addInternal(this.transaction):n==1&&this.addInternal(this.transaction.historyItems.pop()),this.transaction=null,(t=this._listener)===null||t===void 0||t.onTransactionEnd()}},o.prototype.addAndRedo=function(t){this.add(t),this.activateItem(t)},o.prototype.add=function(t){this.transactionLevel>=0?this.transaction.add(t):this.addInternal(t)},o.prototype.canUndo=function(){return this.currentIndex>=0},o.prototype.canRedo=function(){return this.currentIndex<this.historyItems.length-1},o.prototype.addInternal=function(t){this.currentIndex<this.historyItems.length-1&&this.historyItems.splice(this.currentIndex+1),this.historyItems.push(t),this.currentIndex++,this.deleteOldItems()},o.prototype.deleteOldItems=function(){var t=this.historyItems.length-o.MAX_HISTORY_ITEM_COUNT;t>0&&this.currentIndex>t&&(this.historyItems.splice(0,t),this.currentIndex-=t)},o.prototype.clear=function(){this.currentIndex=-1,this.historyItems=[]},o.prototype.activateItem=function(t,n){n===void 0&&(n=!1),this.currentProcessingItemInfo=new c.HistoryItemInfo(t,n),n?t.undo():t.redo(),this.currentProcessingItemInfo=null},o.prototype.getCurrentProcessingItemInfo=function(){return this.currentProcessingItemInfo},o.prototype.rollBackAndRemove=function(t){var n=t.item;this.checkAndRemoveItem(n)&&(t.isUndo?n.redo():n instanceof p.CompositionHistoryItem?n.undoItemsQuery():n.undo())},o.prototype.checkAndRemoveItem=function(t){var n=this.historyItems.indexOf(t);return n>-1?(this.historyItems.splice(n,1),this.currentIndex--):this.transaction&&(n=this.transaction.historyItems.indexOf(t))>-1&&this.transaction.historyItems.splice(n,1),n>-1},o.prototype.updateObsoleteInsertedKey=function(t,n,e){this.transaction&&this.updateItemsObsoleteInsertedKey(t,n,e,[this.transaction]),this.updateItemsObsoleteInsertedKey(t,n,e,this.historyItems)},o.prototype.updateItemsObsoleteInsertedKey=function(t,n,e,r){if(r)for(var i=0;i<r.length;i++){var s=r[i];s.keyUpdaters.filter(function(l){return l.getKey()===t&&l.objectType===e}).forEach(function(l){return l.updateKey(n)}),s instanceof p.CompositionHistoryItem&&this.updateItemsObsoleteInsertedKey(t,n,e,s.historyItems)}},o.MAX_HISTORY_ITEM_COUNT=100,o}();u.History=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.HistoryItemInfo=void 0;var c=function(p,a){a===void 0&&(a=!1),this.item=p,this.isUndo=a};u.HistoryItemInfo=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ModelChangesDispatcher=void 0;var c=h(140),p=h(141),a=h(142),o=h(143),t=h(144),n=function(){function e(){this.onModelChanged=new t.EventDispatcher,this.isLocked=!1}return e.prototype.notifyTaskCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskCreating",r)},e.prototype.notifyTaskCreated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskCreated",r,i,s)},e.prototype.notifyTaskRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoving",r)},e.prototype.notifyTaskRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskRemoved",r,i,s)},e.prototype.notifyTaskUpdating=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdating",r)},e.prototype.notifyTaskMoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskMoving",r)},e.prototype.notifyTaskEditDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyTaskEditDialogShowing",r)},e.prototype.notifyResourceManagerDialogShowing=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceManagerDialogShowing",r)},e.prototype.notifyTaskUpdated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyTaskUpdated",r,i,s)},e.prototype.notifyParentTaskUpdated=function(r,i){this.isLocked||this.onModelChanged.raise("NotifyParentTaskUpdated",r,i)},e.prototype.notifyDependencyInserting=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserting",r)},e.prototype.notifyDependencyInserted=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyDependencyInserted",r,i,s)},e.prototype.notifyDependencyRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoving",r)},e.prototype.notifyDependencyRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyDependencyRemoved",r,i,s)},e.prototype.notifyResourceCreating=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceCreating",r)},e.prototype.notifyResourceCreated=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceCreated",r,i,s)},e.prototype.notifyResourceRemoving=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoving",r)},e.prototype.notifyResourceRemoved=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceRemoved",r,i,s)},e.prototype.notifyResourceColorChanged=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceColorChanged",r,i,s)},e.prototype.notifyResourceAssigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigning",r)},e.prototype.notifyResourceAssigned=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceAssigned",r,i,s)},e.prototype.notifyResourceUnassigning=function(r){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigning",r)},e.prototype.notifyResourceUnassigned=function(r,i,s){this.isLocked||this.onModelChanged.raise("NotifyResourceUnassigned",r,i,s)},e.prototype.notifyParentDataRecalculated=function(r){this.onModelChanged.raise("NotifyParentDataRecalculated",r)},e.prototype.notifyScaleCellPrepared=function(r){this.onModelChanged.raise("NotifyScaleCellPrepared",r)},e.prototype.notifyGanttViewUpdated=function(){this.onModelChanged.raise("NotifyGanttViewUpdated")},e.prototype.fireResourceUnassigning=function(r){var i=new a.ResourceUnassigningArguments(r);return this.notifyResourceUnassigning(i),!i.cancel},e.prototype.raiseTaskUpdating=function(r,i,s){var l=new o.TaskUpdatingArguments(r,i);return this.notifyTaskUpdating(l),!l.cancel&&(s(l.newValues),!0)},e.prototype.raiseTaskMoving=function(r,i,s,l){var g=new o.TaskUpdatingArguments(r,{start:i,end:s});return this.notifyTaskMoving(g),!g.cancel&&(l(g.start,g.end),!0)},e.prototype.raiseTaskTaskEditDialogShowing=function(r,i){var s=new p.TaskEditDialogShowingArguments(r);return this.notifyTaskEditDialogShowing(s),!s.cancel&&(i(s),!0)},e.prototype.raiseResourceManagerDialogShowing=function(r,i){var s=new c.ResourceManagerDialogShowingArguments(r);return this.notifyResourceManagerDialogShowing(s),!s.cancel&&(i(s),!0)},e.prototype.lock=function(){this.isLocked=!0},e.prototype.unlock=function(){this.isLocked=!1},e}();u.ModelChangesDispatcher=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceManagerDialogShowingArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,void 0)||this;return n.values.resources=t.resources,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.ResourceManagerDialogShowingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditDialogShowingArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,t.id)||this;return n.values={start:t.start,end:t.end,title:t.title,progress:t.progress},n.hiddenFields=t.hiddenFields,n.readOnlyFields=t.readOnlyFields,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.TaskEditDialogShowingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceUnassigningArguments=void 0;var c=h(0),p=function(a){function o(t){var n=a.call(this,t.internalId)||this;return n.values=t,n}return c.__extends(o,a),o}(h(11).BaseArguments);u.ResourceUnassigningArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskUpdatingArguments=void 0;var c=h(0),p=function(a){function o(t,n){var e=a.call(this,t.id)||this;return e.values=t,e.createNewValues(n),e}return c.__extends(o,a),o.prototype.createNewValues=function(t){var n=this;this.newValues={};var e=function(s){Object.prototype.hasOwnProperty.call(t,s)&&(r.newValues[s]=t[s],Object.defineProperty(r,s,{get:function(){return n.newValues[s]}}))},r=this;for(var i in t)e(i)},o}(h(11).BaseArguments);u.TaskUpdatingArguments=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EventDispatcher=void 0;var c=function(){function p(){this.listeners=[]}return p.prototype.add=function(a){if(!a)throw new Error("Error");this.hasEventListener(a)||this.listeners.push(a)},p.prototype.remove=function(a){for(var o=0,t=void 0;t=this.listeners[o];o++)if(t===a){this.listeners.splice(o,1);break}},p.prototype.raise=function(a){for(var o=[],t=1;t<arguments.length;t++)o[t-1]=arguments[t];for(var n=0,e=void 0;e=this.listeners[n];n++){var r=e[a];r==null||r.apply(e,o)}},p.prototype.hasEventListener=function(a){for(var o=0,t=this.listeners.length;o<t;o++)if(this.listeners[o]===a)return!0;return!1},p}();u.EventDispatcher=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ModelManipulator=void 0;var c=h(146),p=h(147),a=h(151),o=function(t,n){this.task=new a.TaskManipulator(t,n),this.dependency=new c.TaskDependencyManipulator(t,n),this.resource=new p.ResourcesManipulator(t,n),this.dispatcher=n};u.ModelManipulator=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskDependencyManipulator=void 0;var c=h(0),p=h(2),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.insertDependency=function(n,e,r,i){var s=this.viewModel;s.onBeginDataObjectCreate();var l=s.dependencies.createItem();return l.predecessorId=n,l.successorId=e,l.type=r,i&&(l.internalId=i),l.id=l.internalId,s.dependencies.add(l),s.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(l.internalId,!0),this.dispatcher.notifyDependencyInserted(this.getObjectForDataSource(l),function(g){var d=l.internalId;l.updateId(g),s.processServerInsertedKey(d,l.internalId,p.GanttDataObjectNames.dependency)},this.getErrorCallback()),s.onEndDataObjectCreate(),l},t.prototype.removeDependency=function(n){var e=this.viewModel.dependencies.getItemById(n);return this.viewModel.dependencies.remove(e),this.dispatcher.notifyDependencyRemoved(e.id,this.getErrorCallback(),this.viewModel.getDependencyObjectForDataSource(e)),this.viewModel.updateVisibleItemDependencies(),this.renderHelper.recreateConnectorLineElement(e.internalId),e},t.prototype.getObjectForDataSource=function(n){var e=this.viewModel.tasks.getItemById(n.predecessorId),r=this.viewModel.tasks.getItemById(n.successorId);return{id:n.id,predecessorId:e.id,successorId:r.id,type:n.type}},t}(h(28).BaseManipulator);u.TaskDependencyManipulator=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcesManipulator=void 0;var c=h(0),p=h(2),a=h(28),o=h(148),t=function(n){function e(r,i){var s=n.call(this,r,i)||this;return s.properties=new o.ResourcePropertiesManipulator(r,i),s}return c.__extends(e,n),e.prototype.create=function(r,i,s,l){var g=this.viewModel;g.onBeginDataObjectCreate();var d=g.resources.createItem();return d.text=r,i&&(d.color=i),s&&(d.internalId=s),d.id=d.internalId,this.viewModel.resources.add(d),this.dispatcher.notifyResourceCreated(this.getResourceObjectForDataSource(d),function(f){var y=d.internalId;d.updateId(f),g.processServerInsertedKey(y,d.internalId,p.GanttDataObjectNames.resource),l&&l(f)},this.getErrorCallback()),g.onEndDataObjectCreate(),d},e.prototype.remove=function(r){var i=this.viewModel.resources.getItemById(r);if(!i)throw new Error("Invalid resource id");if(this.viewModel.assignments.items.filter(function(s){return s.resourceId===r}).length)throw new Error("Can't delete assigned resource");return this.viewModel.resources.remove(i),this.dispatcher.notifyResourceRemoved(i.id,this.getErrorCallback(),this.viewModel.getResourceObjectForDataSource(i)),i},e.prototype.assign=function(r,i,s){var l=this.viewModel;l.onBeginDataObjectCreate();var g=l.assignments.createItem();return g.resourceId=r,g.taskId=i,s&&(g.internalId=s),g.id=g.internalId,this.viewModel.assignments.add(g),this.dispatcher.notifyResourceAssigned(this.getResourceAssignmentObjectForDataSource(g),function(d){var f=g.internalId;g.updateId(d),l.processServerInsertedKey(f,g.internalId,p.GanttDataObjectNames.resourceAssignment)},this.getErrorCallback()),this.viewModel.updateModel(),l.onEndDataObjectCreate(),this.viewModel.owner.resetAndUpdate(),g},e.prototype.deassig=function(r){var i=this.viewModel.assignments.getItemById(r);return this.viewModel.assignments.remove(i),this.dispatcher.notifyResourceUnassigned(i.id,this.getErrorCallback(),this.viewModel.getResourceAssignmentObjectForDataSource(i)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),i},e.prototype.getResourceObjectForDataSource=function(r){return{id:r.id,text:r.text}},e.prototype.getResourceAssignmentObjectForDataSource=function(r){return{id:r.id,taskId:this.viewModel.tasks.getItemById(r.taskId).id,resourceId:this.viewModel.resources.getItemById(r.resourceId).id}},e}(a.BaseManipulator);u.ResourcesManipulator=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertiesManipulator=void 0;var c=h(0),p=h(28),a=h(149),o=function(t){function n(e,r){var i=t.call(this,e,r)||this;return i.color=new a.ResourceColorManipulator(e,r),i}return c.__extends(n,t),n}(p.BaseManipulator);u.ResourcePropertiesManipulator=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceColorManipulator=void 0;var c=h(0),p=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return c.__extends(o,a),o.prototype.getPropertyValue=function(t){return t.color},o.prototype.setPropertyValue=function(t,n){t.color=n,this.dispatcher.notifyResourceColorChanged(t.id,n,this.getErrorCallback())},o}(h(150).ResourcePropertyManipulator);u.ResourceColorManipulator=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourcePropertyManipulator=void 0;var c=h(0),p=h(54),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.setValue=function(n,e){var r=this,i=this.viewModel.resources.getItemById(n),s=new p.HistoryItemState(n,this.getPropertyValue(i));return this.setPropertyValue(i,e),this.viewModel.assignments.items.filter(function(l){return l.resourceId===i.internalId}).forEach(function(l){var g=r.viewModel.findItem(l.taskId).visibleIndex;r.renderHelper.recreateTaskElement(g)}),s},t.prototype.restoreValue=function(n){var e=this;if(n){var r=n.value,i=this.viewModel.resources.getItemById(n.id);this.setPropertyValue(i,r),this.viewModel.assignments.items.filter(function(s){return s.resourceId===i.internalId}).forEach(function(s){var l=e.viewModel.findItem(s.taskId).visibleIndex;e.renderHelper.recreateTaskElement(l)})}},t}(h(28).BaseManipulator);u.ResourcePropertyManipulator=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskManipulator=void 0;var c=h(0),p=h(1),a=h(2),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.create=function(e,r,i){var s=this,l=this.viewModel;l.onBeginDataObjectCreate();var g=l.tasks.createItem();g.start=e.start,g.end=e.end,g.title=e.title,g.progress=e.progress,e.color&&(g.color=e.color);var d=l.tasks.getItemById(e.parentId);return d&&(d.expanded=!0),g.parentId=e.parentId,r&&(g.internalId=r),g.id=g.internalId,l.tasks.add(g),l.updateModel(),this.dispatcher.notifyTaskCreated(this.getObjectForDataSource(g),function(f){var y=g.internalId;if(g.updateId(f),l.processServerInsertedKey(y,g.internalId,a.GanttDataObjectNames.task),i&&i(),s.viewModel.requireFirstLoadParentAutoCalc){var m=l.getCurrentTaskData().map(function(v){return v.parentId===""&&(v.parentId=null),v});s.dispatcher.notifyParentDataRecalculated(m)}},this.getErrorCallback()),l.onEndDataObjectCreate(),l.owner.resetAndUpdate(),g},n.prototype.remove=function(e){var r=this.viewModel.tasks.getItemById(e);if(!r)throw new Error("Invalid task id");if(this.viewModel.dependencies.items.filter(function(i){return i.predecessorId==e||i.successorId==e}).length)throw new Error("Can't delete task with dependency");if(this.viewModel.assignments.items.filter(function(i){return i.taskId==e}).length)throw new Error("Can't delete task with assigned resource");return this.viewModel.tasks.remove(r),this.dispatcher.notifyTaskRemoved(r.id,this.getErrorCallback(),this.viewModel.getTaskObjectForDataSource(r)),this.viewModel.updateModel(),this.viewModel.owner.resetAndUpdate(),r},n.prototype.update=function(e,r){var i=this.viewModel.tasks.getItemById(e),s={};Object.keys(r).forEach(function(g){(0,p.isDefined)(i[g])&&(s[g]=i[g],i[g]=r[g])});var l=this.viewModel.findItem(e);return l&&this.renderHelper.recreateTaskElement(l.visibleIndex),this.dispatcher.notifyTaskUpdated(i.id,r,this.getErrorCallback()),s},n.prototype.getObjectForDataSource=function(e){return this.viewModel.getTaskObjectForDataSource(e)},n}(h(28).BaseManipulator);u.TaskManipulator=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttExporter=void 0;var c=h(153),p=function(){function a(o){if(!o.settings.pdfDoc&&!o.settings.docCreateMethod)throw new Error("Cannot convert gantt to pdf without document instance!");this._info=o}return a.prototype.export=function(){var o,t,n=this.pdfDoc;this.applyCustomFont();for(var e=this._info,r=new c.PdfGanttPageDrawer(n,e.settings),i=e.getPages(n),s=i.length,l=0;l<s;l++){l>0&&n.addPage(this.getDocumentFormat(),this.getOrientation());var g=i[l];r.drawPage(g)}return!((o=this.props)===null||o===void 0)&&o.fileName&&n.save((t=this.props)===null||t===void 0?void 0:t.fileName),n},Object.defineProperty(a.prototype,"pdfDoc",{get:function(){var o,t;return(o=this._pdfDoc)!==null&&o!==void 0||(this._pdfDoc=(t=this._info.settings.pdfDoc)!==null&&t!==void 0?t:this.createDoc()),this._pdfDoc},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"props",{get:function(){return this._info.settings},enumerable:!1,configurable:!0}),a.prototype.createDoc=function(){var o=this.getJsPDFProps();return this._info.settings.docCreateMethod(o)},a.prototype.getJsPDFProps=function(){var o={putOnlyUsedFonts:!0,unit:"px",hotfixes:["px_scaling"]};return o.orientation=this.getOrientation(),o.format=this.getDocumentFormat(),o},a.prototype.getOrientation=function(){var o;return!((o=this.props)===null||o===void 0)&&o.landscape?"l":"p"},a.prototype.getDocumentFormat=function(){var o,t,n,e;return!((o=this.props)===null||o===void 0)&&o.format||!((t=this.props)===null||t===void 0)&&t.pageSize?!((n=this.props)===null||n===void 0)&&n.pageSize?[this.props.pageSize.height,this.props.pageSize.width]:(e=this.props)===null||e===void 0?void 0:e.format:"a4"},a.prototype.applyCustomFont=function(){this.props.font&&this.props.font.applyToDoc(this.pdfDoc)},a}();u.PdfGanttExporter=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttPageDrawer=void 0;var c=h(5),p=h(154),a=h(27),o=h(37),t=h(155),n=function(){function e(r,i){this._pdfDoc=r,this._props=i}return e.prototype.drawPage=function(r){var i=this._pdfDoc,s=new t.PdfGanttTableDrawer(i);return this.needDrawChart()&&(s.drawTable(r.tables[a.PdfPageTableNames.chartMain]),new p.PdfObjectDrawer(i,r.objects).draw(),s.drawTable(r.tables[a.PdfPageTableNames.chartScaleTop]),s.drawTable(r.tables[a.PdfPageTableNames.chartScaleBottom])),this.needDrawTreeList()&&(s.drawTable(r.tables[a.PdfPageTableNames.treeListMain]),s.drawTable(r.tables[a.PdfPageTableNames.treeListHeader])),this.drawMargins(r),i},e.prototype.needDrawChart=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.chart},e.prototype.needDrawTreeList=function(){return!this._props||this._props.exportMode===o.ExportMode.all||this._props.exportMode===o.ExportMode.treeList},e.prototype.getContentRightBottom=function(r){var i=new c.Point(0,0);for(var s in r.tables)if(Object.prototype.hasOwnProperty.call(r.tables,s)){var l=r.tables[s];i.x=Math.max(i.x,l.position.x+l.size.width),i.y=Math.max(i.y,l.position.y+l.size.height)}return i},e.prototype.drawMargins=function(r){var i=this._pdfDoc,s=this._props,l=i.getPageWidth(),g=i.getPageHeight(),d=this.getContentRightBottom(r);i.setFillColor(255,255,255),i.rect(0,0,s.margins.left,g,"F"),i.rect(0,0,l,s.margins.top,"F"),i.rect(d.x,0,l,g,"F"),i.rect(0,d.y,l,g,"F")},e}();u.PdfGanttPageDrawer=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfObjectDrawer=void 0;var c=h(4),p=h(64),a=h(44),o=function(){function t(n,e){this._FONT_ROW_RATIO=1.15,this._info=e,this._pdfDoc=n}return t.prototype.draw=function(){this.drawTimeMarkers(),this.drawDependencies(),this.drawTasks(),this.drawResources()},t.prototype.drawTasks=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.tasks;r&&r.forEach(function(i){return e.drawTask(i)})},t.prototype.drawTask=function(n){var e=this._pdfDoc;e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.setDrawColor.apply(e,n.taskColor.getRBGColor()),n.isMilestone?this.drawMilestone(n):this.drawRegularTask(n)},t.prototype.drawMilestone=function(n){var e=this._pdfDoc,r=n.sidePoints[0].x,i=n.sidePoints[0].y,s=n.sidePoints[1].x,l=n.sidePoints[1].y,g=n.sidePoints[2].x,d=n.sidePoints[2].y,f=n.sidePoints[3].x,y=n.sidePoints[3].y;e.triangle(r,i,s,l,g,d,"FD"),e.triangle(r,i,f,y,g,d,"FD")},t.prototype.drawRegularTask=function(n){var e=this._pdfDoc;e.rect(n.left,n.top,n.width,n.height,"FD"),n.isParent&&this.drawParentBorder(n),n.progressWidth&&(e.setFillColor.apply(e,n.progressColor.getRBGColor()),e.rect(n.left,n.top,n.progressWidth,n.height,"F")),n.text&&this.printTaskTitle(n)},t.prototype.drawParentBorder=function(n){var e=this._pdfDoc,r=n.sidePoints[0].x,i=n.sidePoints[1].y,s=n.sidePoints[3].y,l=n.sidePoints[2].x,g=n.sidePoints[3].y-n.sidePoints[1].y,d=n.progressWidth>g?n.progressColor.getRBGColor():n.taskColor.getRBGColor();e.setFillColor.apply(e,d),e.triangle(r,i,r,s,r+g,i,"FD"),e.setFillColor.apply(e,n.taskColor.getRBGColor()),e.triangle(l,i,l,s,l-g,i,"FD")},t.prototype.printTaskTitle=function(n){var e,r=this._pdfDoc,i=n.textStyle,s=i&&i.textColor.getRBGColor(),l=i&&i.fontSize;r.setTextColor.apply(r,s),r.setFontSize(l);var g=n.top+l*this._FONT_ROW_RATIO/r.internal.scaleFactor;n.isParent&&(g-=a.PdfTaskInfo.defaultParentHeightCorrection);var d=i&&i.cellPadding.left||0,f=i&&i.cellPadding.right||0;if(n.textPosition===c.TaskTitlePosition.Inside){var y=n.width-d-f;e=n.left+d,r.text(p.EllipsisHelper.limitPdfTextWithEllipsis(n.text,r,y),e,g)}else e=n.left-f,r.text(n.text,e,g,{align:"right"})},t.prototype.drawDependencies=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.dependencies;r&&r.forEach(function(i){return e.drawDependencyLine(i)})},t.prototype.drawDependencyLine=function(n){var e,r;if((e=this._pdfDoc).setFillColor.apply(e,n.fillColor.getRBGColor()),(r=this._pdfDoc).setDrawColor.apply(r,n.fillColor.getRBGColor()),n.arrowInfo)this.drawArrow(n);else{var i=n.points;this._pdfDoc.line(i[0].x,i[0].y,i[1].x,i[1].y)}},t.prototype.isValidLine=function(n){var e=n.points;return!(isNaN(e[0].x)||isNaN(e[0].y)||isNaN(e[1].x)||isNaN(e[1].y))},t.prototype.drawArrow=function(n){var e=n.arrowInfo.width||0,r=n.points[0].x,i=n.points[0].y;switch(n.arrowInfo.position){case c.Position.Left:this._pdfDoc.triangle(r,i+e,r+e,i,r+e,i+2*e,"FD");break;case c.Position.Right:this._pdfDoc.triangle(r,i,r,i+2*e,r+e,i+e,"FD");break;case c.Position.Top:this._pdfDoc.triangle(r,i+e,r+e,i,r+2*e,i+e,"FD");break;case c.Position.Bottom:this._pdfDoc.triangle(r,i,r+e,i+e,r+2*e,i,"FD")}},t.prototype.drawResources=function(){var n,e=this,r=this._pdfDoc,i=(n=this._info)===null||n===void 0?void 0:n.resources;i&&i.forEach(function(s){var l,g,d;r.setFontSize((l=s.style.fontSize)!==null&&l!==void 0?l:11);var f=s.y+s.style.fontSize*e._FONT_ROW_RATIO/r.internal.scaleFactor,y=(g=s.style.cellPadding.left)!==null&&g!==void 0?g:0,m=(d=s.style.cellPadding.right)!==null&&d!==void 0?d:1,v=Math.max(s.style.cellWidth.getValue(),y+r.getTextWidth(s.text)+m);r.setFillColor.apply(r,s.style.fillColor.getRBGColor()),r.rect(s.x,s.y,v,s.style.minCellHeight,"F"),r.setTextColor.apply(r,s.style.textColor.getRBGColor()),r.text(s.text,s.x+y,f)})},t.prototype.drawTimeMarkers=function(){var n,e=this,r=(n=this._info)===null||n===void 0?void 0:n.timeMarkers;r==null||r.forEach(function(i){return e.drawTimeMarker(i)})},t.prototype.drawTimeMarker=function(n){var e,r,i=this._pdfDoc,s=n.size.width>1,l=n.start.x,g=n.start.y,d=n.size.width,f=n.size.height,y=n.isStripLine;s&&(i.setFillColor.apply(i,n.color.getRBGColor()),i.saveGraphicsState(),i.setGState(new i.GState({opacity:(r=n.color.opacity)!==null&&r!==void 0?r:1})),i.rect(l,g,d,f,"F"),i.restoreGraphicsState()),y&&(this._pdfDoc.setLineDashPattern([3]),(e=this._pdfDoc).setDrawColor.apply(e,n.lineColor.getRBGColor()),s&&this._pdfDoc.line(l+d,g,l+d,g+f,"S"),this._pdfDoc.line(l,g,l,g+f,"S"),this._pdfDoc.setLineDashPattern())},t}();u.PdfObjectDrawer=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.PdfGanttTableDrawer=void 0;var c=h(1),p=h(27),a=h(64),o=h(156),t=function(){function n(e){this._pdfDoc=e}return n.prototype.drawTable=function(e){var r,i;if(e){var s=this.createTableOptions(e);!((r=e.style)===null||r===void 0)&&r.fontSize&&this._pdfDoc.setFontSize((i=e.style)===null||i===void 0?void 0:i.fontSize),this._pdfDoc.autoTable(s.getValue())}},n.prototype.createTableOptions=function(e){var r=this.createDefaultTableOptions();return this.addTableCommonSettings(e,r),this.addCommonTableStyles(e,r),this.prepareBodyCells(e),r.addBody(e.cells),e.hideRowLines&&this.hideRowLines(r),r},n.prototype.createDefaultTableOptions=function(){var e=new o.TableOptions;return e.pageBreak="auto",e.margin.assign(0),e.tableWidth.assign("auto"),e.styles.cellPadding.assign(0),e.styles.halign="center",e.styles.valign="middle",e.styles.lineWidth=1,e.styles.overflow="hidden",e},n.prototype.addTableCommonSettings=function(e,r){r.startY=e.position.y,r.margin.assign({left:e.position.x}),r.tableWidth.assign(e.size.width)},n.prototype.addCommonTableStyles=function(e,r){var i=r.styles;i.assign(e.style),i.fillColor.opacity===0&&i.fillColor.assign("#FFFFFF"),i.minCellHeight=e.baseCellSize.height,r.alternateRowStyles.minCellHeight=r.styles.minCellHeight,r.alternateRowStyles.fillColor.assign(r.styles.fillColor),(0,c.isDefined)(e.baseCellSize.width)&&i.cellWidth.assign(e.baseCellSize.width)},n.prototype.prepareBodyCells=function(e){var r,i,s;if(e.name===p.PdfPageTableNames.treeListMain||e.name===p.PdfPageTableNames.chartScaleTop||e.name===p.PdfPageTableNames.chartScaleBottom)for(var l=e.cells,g=0;g<l.length;g++)for(var d=l[g],f=0;f<d.length;f++){var y=d[f],m=y.styles,v=((r=m==null?void 0:m.cellWidth)===null||r===void 0?void 0:r.getValue())||e.baseCellSize.width||0,T=(i=m==null?void 0:m.cellPadding.left)!==null&&i!==void 0?i:0,b=(s=m==null?void 0:m.cellPadding.right)!==null&&s!==void 0?s:0,w=Math.max(v-T-b-n.cellEllipsisSpace,0);y.content=a.EllipsisHelper.limitPdfTextWithEllipsis(y.content,this._pdfDoc,w)}},n.prototype.hideRowLines=function(e){e.styles.lineWidth=0,e.onDrawCellCallback=function(r){var i=r.cell,s=r.doc,l=i.styles.lineColor,g=i.x,d=i.x+i.styles.cellWidth,f=i.y,y=i.y+r.row.height,m=r.column.index===r.table.columns.length-1,v=r.row.index===r.table.body.length-1,T=r.row.index===0;s.setDrawColor(l[0],l[1],l[2]),s.setLineWidth(1),s.line(g,y,g,f),m&&s.line(d,y,d,f),T&&s.line(g,f,d,f),v&&s.line(g,y,d,y)}},n.cellEllipsisSpace=3,n}();u.PdfGanttTableDrawer=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TableOptions=void 0;var c=h(1),p=h(45),a=h(17),o=h(35),t=h(36),n=h(26),e=h(62),r=function(){function i(){this._margin=new t.Margin,this._tableLineColor=new a.Color,this._tableWidth=new e.Width,this._styles=new n.StyleDef,this._alternateRowStyles=new n.StyleDef}return Object.defineProperty(i.prototype,"pageBreak",{get:function(){return this._pageBreak},set:function(s){this._pageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.pageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowPageBreak",{get:function(){return this._rowPageBreak},set:function(s){this._rowPageBreak=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.rowPageBreak)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showHead",{get:function(){return this._showHead},set:function(s){this._showHead=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showFoot",{get:function(){return this._showFoot},set:function(s){this._showFoot=o.PredefinedStyles.getPredefinedStringOrUndefined(s,o.PredefinedStyles.headerFooterVisibility)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startY",{get:function(){return this._startY},set:function(s){this._startY=s},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableLineWidth",{get:function(){return this._tableLineWidth},set:function(s){this._tableLineWidth=s},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"margin",{get:function(){return this._margin},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableLineColor",{get:function(){return this._tableLineColor},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tableWidth",{get:function(){return this._tableWidth},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"body",{get:function(){return this._body},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"styles",{get:function(){return this._styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"alternateRowStyles",{get:function(){return this._alternateRowStyles},enumerable:!1,configurable:!0}),i.prototype.hasValue=function(){return!0},i.prototype.getValue=function(){var s=this,l={};return l.pageBreak=this.pageBreak,l.rowPageBreak=this.rowPageBreak,l.showFoot=this.showFoot,l.showHead=this.showHead,l.startY=this.startY,l.tableLineWidth=this.tableLineWidth,this.getJsPdfProviderProps().forEach(function(g){var d=s[g];d&&d.hasValue()&&(l[g]=d.getValue())}),l.body=this.getBodyForJsPdf(),l.columnStyles=this.getColumnStylesForJsPdf(),this.onDrawCellCallback&&(l.didDrawCell=this.onDrawCellCallback),l},i.prototype.getJsPdfProviderProps=function(){return["margin","tableLineColor","tableWidth","styles","alternateRowStyles"]},i.prototype.getBodyForJsPdf=function(){for(var s=[],l=0;l<this._body.length;l++){for(var g=this._body[l],d=[],f=0;f<g.length;f++)d.push(g[f].getValue());s.push(d)}return s},i.prototype.assign=function(s){s&&((0,c.isDefined)(s.margin)&&this.margin.assign(s.margin),(0,c.isDefined)(s.pageBreak)&&(this.pageBreak=s.pageBreak),(0,c.isDefined)(s.rowPageBreak)&&(this.rowPageBreak=s.rowPageBreak),(0,c.isDefined)(s.showFoot)&&(this.showFoot=s.showFoot),(0,c.isDefined)(s.showHead)&&(this.showHead=s.showHead),(0,c.isDefined)(s.startY)&&(this.startY=s.startY),(0,c.isDefined)(s.tableLineWidth)&&(this.tableLineWidth=s.tableLineWidth),(0,c.isDefined)(s.tableLineColor)&&this.tableLineColor.assign(s.tableLineColor),(0,c.isDefined)(s.tableWidth)&&this.tableWidth.assign(s.tableWidth))},i.prototype.addBody=function(s){s&&(this._body=new Array,this.addCells(s,this._body))},i.prototype.addCells=function(s,l){for(var g=this.styles.fillColor,d=0;d<s.length;d++){for(var f=s[d],y=new Array,m=0;m<f.length;m++){var v=new p.CellDef(f[m]);g.hasValue()&&v.styles&&v.styles.fillColor.hasValue()&&v.styles.fillColor.applyOpacityToBackground(g),y.push(v)}l.push(y)}},i.prototype.applyColumnStyle=function(s,l){var g;(g=this._columnStyles)!==null&&g!==void 0||(this._columnStyles=new Array),this._columnStyles[s]=new n.StyleDef(l)},i.prototype.getColumnStylesForJsPdf=function(){if(this._columnStyles){var s={};return this._columnStyles.forEach(function(l,g){l&&(s[g]=l.getValue())}),s}return null},i}();u.TableOptions=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.RenderHelper=void 0;var c=h(158),p=h(159),a=h(160),o=h(47),t=h(25),n=h(161),e=h(162),r=h(163),i=h(165),s=h(166),l=h(179),g=h(180),d=h(182),f=h(12),y=h(183),m=h(184),v=function(){function T(b){this.hlRowElements=[],this.renderedColIndices=[],this.renderedRowIndices=[],this.invalidTaskDependencies=[],this.etalonSizeValues=new a.EtalonSizeValues,this._gridLayoutCalculator=new t.GridLayoutCalculator,this._ganttView=b,this._connectorLinesRender=new c.ConnectorLinesRender(this),this._etalonsHelper=new p.EtalonsHelper(this),this._noWorkingIntervalRender=new n.NoWorkingIntervalRender(this),this._resourceRender=new e.ResourseRender(this),this._scaleRender=new r.ScaleRender(this),this._stripLinesRender=new i.StripLinesRender(this),this._taskAreaRender=new l.TaskAreaRender(this),this._taskRender=new g.TaskRender(this),this._mainElementsRender=new d.MainElementsRender}return T.prototype.reset=function(){this.invalidTaskDependencies=[],this._taskAreaRender.reset(),this._taskRender.reset(),this._taskArea.innerHTML="",this._scaleRender.reset(),this.hlRowElements=[],this.renderedRowIndices=[],this.renderedColIndices=[],this._connectorLinesRender.reset(),this._stripLinesRender.reset(),this._noWorkingIntervalRender.reset()},T.prototype.createMainElement=function(b){this.mainElement=this._mainElementsRender.createMainElement(b),b.appendChild(this.mainElement)},T.prototype.createHeader=function(){this.header=this._mainElementsRender.createHeader(),this.mainElement.appendChild(this.header)},T.prototype.init=function(b,w,A,I,_){_===void 0&&(_=0),this._elementTextHelper.setFont(this.mainElement),this.setupHelpers(b,w,A,I,_),this.setSizeForTaskArea(),this.createTimeScale(),this._taskAreaManager=new s.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)},T.prototype.initMarkup=function(b){this._elementTextHelper=new m.ElementTextHelper(this.ganttViewSettings.cultureInfo),this.createMainElement(b),this.createHeader(),this._etalonsHelper.calculateEtalonSizeValues(),this._taskAreaRender.createTaskAreaContainer()},T.prototype.processScroll=function(b){this._taskAreaRender.recreateTaskAreaBordersAndTaskElements(b),b?this._connectorLinesRender.recreateConnectorLineElements():(this._noWorkingIntervalRender.recreateNoWorkingIntervalElements(),this._stripLinesRender.recreateStripLines(),this._scaleRender.recreateScalesElements())},Object.defineProperty(T.prototype,"ganttViewSettings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskTextHeightKey",{get:function(){return o.GanttView.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showResources",{get:function(){return this.ganttViewSettings.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"showDependencies",{get:function(){return this.ganttViewSettings.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"viewModelItems",{get:function(){return this._ganttView.viewModel.items},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"stripLines",{get:function(){return this.ganttViewSettings.stripLines},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"range",{get:function(){return this._ganttView.range},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"viewType",{get:function(){return this.ganttViewSettings.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskTitlePosition",{get:function(){return this.ganttViewSettings.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"tickSize",{get:function(){return this._ganttView.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ganttViewTaskAreaContainerScrollTop",{get:function(){return this._ganttView.taskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"ganttTaskAreaContainerScrollLeft",{get:function(){return this._ganttView.taskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleCount",{get:function(){return this._ganttView.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"areHorizontalBordersEnabled",{get:function(){return this.ganttViewSettings.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskEditController",{get:function(){return this._ganttView.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"dispatcher",{get:function(){return this._ganttView.dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaManager",{get:function(){var b;return(b=this._taskAreaManager)!==null&&b!==void 0||(this._taskAreaManager=new s.TaskAreaManager(this._ganttView.taskAreaEventsListener,this.taskArea,this.tickSize)),this._taskAreaManager},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainerScrollTop",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"isExternalTaskAreaContainer",{get:function(){return this._taskAreaRender.taskAreaContainer.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"fakeTaskWrapper",{get:function(){return this._taskRender.fakeTaskWrapper},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"selectionElements",{get:function(){return this._taskRender.selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleElements",{get:function(){return this._scaleRender.scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scaleBorders",{get:function(){return this._scaleRender.scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"timeScaleContainer",{get:function(){return this._scaleRender.timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"gridLayoutCalculator",{get:function(){return this._gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"etalonScaleItemWidths",{get:function(){return this.etalonSizeValues.scaleItemWidths[this.viewType]},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"elementTextHelperCultureInfo",{get:function(){return this._elementTextHelper.cultureInfo},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalRender.noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"stripLinesMap",{get:function(){return this._stripLinesRender.stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"renderedConnectorLines",{get:function(){return this._connectorLinesRender.renderedConnectorLines},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"allConnectorLines",{get:function(){return this.gridLayoutCalculator.tileToDependencyMap.reduce(function(b,w){return b.concat(w)},[])},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"resourcesElements",{get:function(){return this._resourceRender.resourcesElements},enumerable:!1,configurable:!0}),T.prototype.setupHelpers=function(b,w,A,I,_){_===void 0&&(_=0);var M=new f.Size(this._taskAreaRender.taskAreaContainer.getWidth(),this._taskAreaRender.taskAreaContainer.getHeight()),O=this._taskAreaRender.taskAreaContainer.getHeight()-this._taskAreaRender.taskAreaContainer.getElement().clientHeight;this._gridLayoutCalculator.setSettings(M,b,this.etalonSizeValues,w,I,A,O,_),this._elementTextHelper.setSettings(w.start.getTime(),A,I.items)},T.prototype.resetAndUpdate=function(b,w,A,I,_){_===void 0&&(_=0);var M=this.getTaskAreaContainerScrollLeft();this.reset(),this.setupHelpers(b,w,A,I,_),this._scaleRender.createTimeScaleAreas(),this.setSizeForTaskArea(),this.setTaskAreaContainerScrollLeft(M)},T.prototype.createConnectorLines=function(){this._gridLayoutCalculator.createTileToConnectorLinesMap(),this._connectorLinesRender.recreateConnectorLineElements()},T.prototype.getTargetDateByPos=function(b){return this._gridLayoutCalculator.getDateByPos(this._taskAreaRender.taskAreaContainer.scrollLeft+b)},T.prototype.getExternalTaskAreaContainer=function(b){return this._ganttView.getExternalTaskAreaContainer(b)},T.prototype.prepareExternalTaskAreaContainer=function(b,w){return this._ganttView.prepareExternalTaskAreaContainer(b,w)},T.prototype.isAllowTaskAreaBorders=function(b){return this._ganttView.allowTaskAreaBorders(b)},T.prototype.getHeaderHeight=function(){return this._ganttView.getHeaderHeight()},T.prototype.getViewItem=function(b){return this._ganttView.getViewItem(b)},T.prototype.getTask=function(b){return this._ganttView.getTask(b)},T.prototype.hasTaskTemplate=function(){return!!this._ganttView.settings.taskContentTemplate},T.prototype.destroyTemplate=function(b){this._ganttView.destroyTemplate(b)},T.prototype.getTaskDependencies=function(b){return this._ganttView.getTaskDependencies(b)},T.prototype.getTaskResources=function(b){return this._ganttView.getTaskResources(b)},T.prototype.isHighlightRowElementAllowed=function(b){return this._ganttView.isHighlightRowElementAllowed(b)},T.prototype.updateRenderedConnectorLinesId=function(b,w){this._connectorLinesRender.updateRenderedConnectorLinesId(b,w)},T.prototype.recreateConnectorLineElement=function(b,w){w===void 0&&(w=!1),this._connectorLinesRender.recreateConnectorLineElement(b,w)},T.prototype.recreateConnectorLineElemensts=function(){this._connectorLinesRender.recreateConnectorLineElements()},T.prototype.setMainElementWidth=function(b){this.mainElement.style.width=b+"px"},T.prototype.setMainElementHeight=function(b){this.mainElement.style.height=b+"px"},T.prototype.createResources=function(b){this._resourceRender.createResourcesWrapperElement(b),this._resourceRender.createResources(b)},T.prototype.createTimeScale=function(){this._scaleRender.createTimeScaleContainer(this.header),this._scaleRender.createTimeScaleAreas()},T.prototype.setTimeScaleContainerScrollLeft=function(b){this._scaleRender.setTimeScaleContainerScrollLeft(b)},T.prototype.recreateStripLines=function(){this._stripLinesRender.recreateStripLines&&this._stripLinesRender.recreateStripLines()},T.prototype.createTaskArea=function(b){this._taskArea=this._taskAreaRender.createTaskArea(),this._taskArea.setAttribute("task-edit-enabled",this.isTaskUpdateAllowed().toString()),b.appendChild(this._taskArea)},T.prototype.isTaskUpdateAllowed=function(){var b=this.ganttViewSettings.editing;return b.enabled&&b.allowTaskUpdate},T.prototype.setSizeForTaskArea=function(){var b=this.getTaskAreaWidth(),w=this.getTaskAreaHeight();this._taskAreaRender.setSizeForTaskArea(b,w),this._ganttView.onTaskAreaSizeChanged({width:b,height:w})},T.prototype.getTaskAreaWidth=function(){return this.gridLayoutCalculator.getTotalWidth()},T.prototype.getTaskAreaHeight=function(){return this.gridLayoutCalculator.getVerticalGridLineHeight()},T.prototype.getTaskAreaContainerScrollLeft=function(){return this._taskAreaRender.taskAreaContainer.scrollLeft},T.prototype.setTaskAreaContainerScrollLeft=function(b){this._taskAreaRender.taskAreaContainer.scrollLeft=b},T.prototype.setTaskAreaContainerScrollLeftToDate=function(b,w){this._taskAreaRender.taskAreaContainer.scrollLeft=Math.round(this._gridLayoutCalculator.getPosByDate(b))+w},T.prototype.getTaskAreaContainer=function(b){return new y.TaskAreaContainer(b,this._ganttView)},T.prototype.prepareTaskAreaContainer=function(){this._taskAreaRender.prepareTaskAreaContainer()},T.prototype.getTaskAreaContainerWidth=function(){return this._taskAreaRender.taskAreaContainer.getWidth()},T.prototype.createHighlightRowElement=function(b){this._taskAreaRender.createHighlightRowElement(b)},T.prototype.getSmallTaskWidth=function(b){return this._taskRender.getSmallTaskWidth(b)},T.prototype.createTaskElement=function(b){this._taskRender.createTaskElement(b,this._ganttView.settings.taskContentTemplate)},T.prototype.removeTaskElement=function(b){this._taskRender.removeTaskElement(b)},T.prototype.recreateTaskElement=function(b){this._taskRender.recreateTaskElement(b)},T.prototype.createDefaultTaskElement=function(b){this._taskRender.createDefaultTaskElement(b)},T.prototype.getScaleItemText=function(b,w){var A=this._gridLayoutCalculator.getScaleItemStart(b,w);return this.getScaleItemTextByStart(A,w)},T.prototype.getScaleItemTextByStart=function(b,w){return this._elementTextHelper.getScaleItemText(b,w)},T.prototype.getTextWidth=function(b){return this._elementTextHelper.getTextWidth(b)},T.prototype.getTaskVisibility=function(b){return this.gridLayoutCalculator.isTaskInRenderedRange(b)&&this._elementTextHelper.getTaskVisibility(b)},T.prototype.getTaskResourcesVisibility=function(b){return this.getTaskVisibility(b)&&!this.gridLayoutCalculator.isTaskCutByRange(b)},T.prototype.getScaleItemTextTemplate=function(b){return this._elementTextHelper.getScaleItemTextTemplate(b)},T.prototype.getTaskText=function(b){return this._elementTextHelper.getTaskText(b)},T.prototype.taskAreaManagerDetachEvents=function(){this.taskAreaManager.detachEvents()},T.prototype.attachEventsOnTask=function(b){this.taskAreaManager.attachEventsOnTask(this._taskRender.taskElements[b])},T.prototype.detachEventsOnTask=function(b){this.taskAreaManager.detachEventsOnTask(this._taskRender.taskElements[b])},T}();u.RenderHelper=v},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ConnectorLinesRender=void 0;var c=h(16),p=h(25),a=function(){function o(t){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[],this._renderHelper=t}return Object.defineProperty(o.prototype,"taskEditController",{get:function(){return this._renderHelper.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"connectorLinesToElementsMap",{get:function(){return this._connectorLinesToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"showDependencies",{get:function(){return this._renderHelper.showDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedConnectorLines",{get:function(){return this._renderedConnectorLines},enumerable:!1,configurable:!0}),o.prototype.reset=function(){this._connectorLinesToElementsMap={},this._renderedConnectorLines=[]},o.prototype.createConnectorLineElement=function(t){if(this.showDependencies){var n=t.attr["dependency-id"];if(!this.invalidTaskDependencies.some(function(i){return i.id==n})){this.taskEditController.isDependencySelected(n)&&(t.className=t.className+" active");var e=t.className.indexOf(p.GridLayoutCalculator.arrowClassName)>-1,r=c.RenderElementUtils.create(t,null,this.taskArea,this.connectorLinesToElementsMap);return e&&this.gridLayoutCalculator.checkAndCorrectArrowElementDisplayByRange(r),r}}},o.prototype.removeConnectorLineElement=function(t){c.RenderElementUtils.remove(t,null,this.taskArea,this.connectorLinesToElementsMap)},o.prototype.recreateConnectorLineElement=function(t,n){var e=this;n===void 0&&(n=!1);var r=[];this._renderedConnectorLines=this.renderedConnectorLines.filter(function(s){return s.attr["dependency-id"]!=t||(r.push(s),!1)});var i=r.length>0;r.forEach(function(s){e.removeConnectorLineElement(s)}),r=this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),(i||n)&&r.forEach(function(s){e.createConnectorLineElement(s),e.renderedConnectorLines.push(s)})},o.prototype.recreateConnectorLineElements=function(){var t=this,n=this.gridLayoutCalculator.getRenderedConnectorLines(this.taskAreaContainerScrollTop);c.RenderElementUtils.recreate(this.renderedConnectorLines,n,function(e){t.removeConnectorLineElement(e)},function(e){t.createConnectorLineElement(e)}),this._renderedConnectorLines=n},o.prototype.updateRenderedConnectorLinesId=function(t,n){for(var e in this._renderedConnectorLines.forEach(function(i){i.attr["dependency-id"]===t&&(i.attr["dependency-id"]=n)}),this.connectorLinesToElementsMap)if(Object.prototype.hasOwnProperty.call(this.connectorLinesToElementsMap,e)){var r=this.connectorLinesToElementsMap[e];r.getAttribute("dependency-id")===t&&r.setAttribute("dependency-id",n)}this.gridLayoutCalculator.updateTileToConnectorLinesMap(t),this.gridLayoutCalculator.updateTileToConnectorLinesMap(n)},o}();u.ConnectorLinesRender=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EtalonsHelper=void 0;var c=h(3),p=h(4),a=h(58),o=h(16),t=function(){function n(e){this._renderHelper=e}return Object.defineProperty(n.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),n.prototype.getScaleItemTextTemplate=function(e){return this._renderHelper.getScaleItemTextTemplate(e)},n.prototype.getHeaderHeight=function(){return this._renderHelper.getHeaderHeight()},n.prototype.getSmallTaskWidth=function(e){return this._renderHelper.getSmallTaskWidth(e)},n.prototype.createEtalonElementsContainer=function(){var e=document.createElement("DIV");return e.style.visibility="hidden",e.style.position="absolute",e.style.left="-1000px",this.mainElement.appendChild(e),e},n.prototype.createEtalonElements=function(e){var r=[],i=o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-taskWrapper"),null,e),s=o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-task"),null,i);o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,s).innerText="WWW",r.push(i);var l=o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-taskWrapper"),null,e);o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-task dx-gantt-milestone"),null,l),r.push(l);for(var g=["dx-gantt-conn-h","dx-gantt-arrow","dx-gantt-si","dx-gantt-taskTitle dx-gantt-titleOut"],d=0;d<g.length;d++){var f=new a.GridElementInfo(g[d]);r.push(o.RenderElementUtils.create(f,null,e))}var y=o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-taskWrapper"),null,e),m=o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-task dx-gantt-parent"),null,y);return o.RenderElementUtils.create(new a.GridElementInfo("dx-gantt-taskTitle dx-gantt-titleIn"),null,m).innerText="WWW",r.push(y),r},n.prototype.calculateEtalonSizeValues=function(){var e=this.createEtalonElementsContainer(),r=this.createEtalonElements(e);this.calculateEtalonSizeValuesCore(r),this.mainElement.removeChild(e)},n.prototype.calculateEtalonSizeValuesCore=function(e){this.etalonSizeValues.taskHeight=e[0].firstChild.offsetHeight,this.etalonSizeValues.milestoneWidth=e[1].firstChild.offsetWidth,this.etalonSizeValues.taskWrapperTopPadding=c.DomUtils.pxToInt(c.DomUtils.getCurrentStyle(e[0]).paddingTop),this.etalonSizeValues.connectorLineThickness=c.DomUtils.getVerticalBordersWidth(e[2]),this.etalonSizeValues.connectorArrowWidth=c.DomUtils.getHorizontalBordersWidth(e[3]);for(var r=0;r<=p.ViewType.Years;r++)e[4].innerText=this.getScaleItemTextTemplate(r),this.etalonSizeValues.scaleItemWidths[r]=e[4].offsetWidth;this.etalonSizeValues.smallTaskWidth=this.getSmallTaskWidth(c.DomUtils.getCurrentStyle(e[0].firstChild.firstChild).paddingLeft),this.etalonSizeValues.outsideTaskTextDefaultWidth=c.DomUtils.pxToFloat(c.DomUtils.getCurrentStyle(e[5]).width),this.etalonSizeValues.scaleItemHeight=this.getHeaderHeight()/this.scaleCount,this.etalonSizeValues.parentTaskHeight=e[e.length-1].firstChild.offsetHeight},n}();u.EtalonsHelper=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EtalonSizeValues=void 0;var c=function(){this.scaleItemWidths={}};u.EtalonSizeValues=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.NoWorkingIntervalRender=void 0;var c=h(16),p=function(){function a(o){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[],this._renderHelper=o}return Object.defineProperty(a.prototype,"noWorkingIntervalsToElementsMap",{get:function(){return this._noWorkingIntervalsToElementsMap},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedNoWorkingIntervals",{get:function(){return this._renderedNoWorkingIntervals},set:function(o){this._renderedNoWorkingIntervals=o},enumerable:!1,configurable:!0}),a.prototype.reset=function(){this._noWorkingIntervalsToElementsMap={},this._renderedNoWorkingIntervals=[]},a.prototype.createNoWorkingIntervalElement=function(o){return c.RenderElementUtils.create(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},a.prototype.removeNoWorkingIntervalElement=function(o){c.RenderElementUtils.remove(o,null,this.taskArea,this.noWorkingIntervalsToElementsMap)},a.prototype.recreateNoWorkingIntervalElements=function(){var o=this,t=this.gridLayoutCalculator.getRenderedNoWorkingIntervals(this.taskAreaContainerScrollLeft);c.RenderElementUtils.recreate(this.renderedNoWorkingIntervals,t,function(n){o.removeNoWorkingIntervalElement(n)},function(n){o.createNoWorkingIntervalElement(n)}),this.renderedNoWorkingIntervals=t},a}();u.NoWorkingIntervalRender=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourseRender=void 0;var c=h(16),p=function(){function a(o){this._resourcesElements=[],this._renderHelper=o}return Object.defineProperty(a.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"resourcesElements",{get:function(){return this._resourcesElements},enumerable:!1,configurable:!0}),a.prototype.getViewItem=function(o){return this._renderHelper.getViewItem(o)},a.prototype.getTaskResourcesVisibility=function(o){return this._renderHelper.getTaskResourcesVisibility(o)},a.prototype.createResources=function(o){for(var t=this.getViewItem(o).resources.items,n=0;n<t.length;n++)this.createResourceElement(o,t[n])},a.prototype.createResourcesWrapperElement=function(o){var t=this.gridLayoutCalculator.getTaskResourcesWrapperElementInfo(o);c.RenderElementUtils.create(t,o,this.taskArea,this.resourcesElements),this.resourcesElements[o].style.display=this.getTaskResourcesVisibility(o)?"":"none"},a.prototype.createResourceElement=function(o,t){var n=this.gridLayoutCalculator.getTaskResourceElementInfo();t.color&&(n.style.backgroundColor=t.color);var e=c.RenderElementUtils.create(n,o,this.resourcesElements[o]);e.innerText=t.text,this.gridLayoutCalculator.checkAndCorrectElementDisplayByRange(e)},a}();u.ResourseRender=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleRender=void 0;var c=h(3),p=h(4),a=h(15),o=h(164),t=h(16),n=function(){function e(r){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=new Array,this._renderHelper=r}return Object.defineProperty(e.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleContainer",{get:function(){return this._timeScaleContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._renderHelper.range},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewType",{get:function(){return this._renderHelper.viewType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeScaleAreas",{get:function(){return this._timeScaleAreas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleElements",{get:function(){return this._scaleElements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorders",{get:function(){return this._scaleBorders},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"renderedScaleItemIndices",{get:function(){return this._renderedScaleItemIndices},enumerable:!1,configurable:!0}),e.prototype.getScaleItemText=function(r,i){return this._renderHelper.getScaleItemText(r,i)},e.prototype.getTaskAreaWidth=function(){return this._renderHelper.getTaskAreaWidth()},e.prototype.reset=function(){this._scaleBorders=[],this._scaleElements=[],this._renderedScaleItemIndices=[],this._timeScaleAreas=[],this._timeScaleContainer.innerHTML=""},e.prototype.setTimeScaleContainerScrollLeft=function(r){this._timeScaleContainer.scrollLeft=r},e.prototype.createTimeScaleContainer=function(r){var i=document.createElement("DIV");i.className="dx-gantt-tsac",i.style.height=this.etalonSizeValues.scaleItemHeight*this.scaleCount+"px",this._timeScaleContainer=i,r.appendChild(this.timeScaleContainer)},e.prototype.createTimeScaleArea=function(){var r=document.createElement("DIV");return r.className="dx-gantt-tsa",r.style.width=this.getTaskAreaWidth()+"px",r.style.height=this.etalonSizeValues.scaleItemHeight+"px",this.timeScaleContainer.appendChild(r),this.timeScaleAreas.unshift(r),r},e.prototype.createTimeScaleAreas=function(){for(var r=0;r<this.scaleCount;r++)this.createTimeScaleArea()},e.prototype.createScaleElementCore=function(r,i,s,l){return l[s]||(l[s]=[]),t.RenderElementUtils.create(i,r,this.timeScaleAreas[s],l[s])},e.prototype.createScaleElement=function(r,i,s,l){var g=this._renderHelper.getTextWidth("a"),d=this.createScaleElementCore(r,l,i,this.scaleElements);if(d.style.lineHeight=this.etalonSizeValues.scaleItemHeight+"px",(l==null?void 0:l.size.width)>5*g){var f=this.getScaleItemText(r,s);d.innerText=f,s===p.ViewType.Quarter&&(d.style.padding="0");var y=getComputedStyle(d);l.size.width-c.DomUtils.pxToInt(y.paddingLeft)-c.DomUtils.pxToInt(y.paddingRight)<this._renderHelper.getTextWidth(f)&&(d.title=f)}return d},e.prototype.createScaleBorder=function(r,i,s){var l=this.gridLayoutCalculator.getScaleBorderInfo(r,s);return this.createScaleElementCore(r,l,i,this.scaleBorders)},e.prototype.createScaleElementAndBorder=function(r,i,s){var l=this.gridLayoutCalculator.getScaleElementInfo(r,s),g=this.createScaleElement(r,i,s,l),d=this.createScaleBorder(r,i,s);this.onScaleCellPrepared(s,i,g,d,l.additionalInfo.range)},e.prototype.removeScaleElementAndBorder=function(r,i){t.RenderElementUtils.remove(null,r,this.timeScaleAreas[i],this.scaleElements[i]),t.RenderElementUtils.remove(null,r,this.timeScaleAreas[i],this.scaleBorders[i])},e.prototype.recreateScalesElements=function(){this.recreateScaleElements(this.viewType,0),this.recreateScaleElements(a.DateUtils.ViewTypeToScaleMap[this.viewType],1)},e.prototype.recreateScaleElements=function(r,i){var s=this,l=this.gridLayoutCalculator.getRenderedScaleItemIndices(r,this.renderedColIndices),g=this.renderedScaleItemIndices[r-this.viewType]||[];t.RenderElementUtils.recreate(g,l,function(d){s.removeScaleElementAndBorder(d,i)},function(d){s.createScaleElementAndBorder(d,i,r)}),this.renderedScaleItemIndices[r-this.viewType]=l},Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this._renderHelper.dispatcher},enumerable:!1,configurable:!0}),e.prototype.onScaleCellPrepared=function(r,i,s,l,g){var d=new o.ScaleCellPreparedArguments({scaleType:r,scaleIndex:i,range:g,scaleElement:s,separatorElement:l});this.dispatcher.notifyScaleCellPrepared(d)},e}();u.ScaleRender=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ScaleCellPreparedArguments=void 0;var c=function(){function p(a){this.info=a}return Object.defineProperty(p.prototype,"scaleIndex",{get:function(){var a;return(a=this.info)===null||a===void 0?void 0:a.scaleIndex},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scaleType",{get:function(){var a;return(a=this.info)===null||a===void 0?void 0:a.scaleType},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"start",{get:function(){var a,o;return(o=(a=this.info)===null||a===void 0?void 0:a.range)===null||o===void 0?void 0:o.start},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"end",{get:function(){var a,o;return(o=(a=this.info)===null||a===void 0?void 0:a.range)===null||o===void 0?void 0:o.end},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scaleElement",{get:function(){var a;return(a=this.info)===null||a===void 0?void 0:a.scaleElement},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"separatorElement",{get:function(){var a;return(a=this.info)===null||a===void 0?void 0:a.separatorElement},enumerable:!1,configurable:!0}),p}();u.ScaleCellPreparedArguments=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.StripLinesRender=void 0;var c=h(16),p=function(){function a(o){this._stripLinesMap=[],this._renderedStripLines=[],this._renderHelper=o}return Object.defineProperty(a.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stripLinesMap",{get:function(){return this._stripLinesMap},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"renderedStripLines",{get:function(){return this._renderedStripLines},set:function(o){this._renderedStripLines=o},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stripLines",{get:function(){return this._renderHelper.stripLines},enumerable:!1,configurable:!0}),a.prototype.reset=function(){this._renderedStripLines=[]},a.prototype.recreateStripLines=function(){var o=this,t=this.gridLayoutCalculator.getRenderedStripLines(this.stripLines);c.RenderElementUtils.recreate(this.renderedStripLines,t,function(n){c.RenderElementUtils.remove(n,null,o.taskArea,o.stripLinesMap)},function(n){return c.RenderElementUtils.create(n,null,o.taskArea,o.stripLinesMap)}),this.renderedStripLines=t},a}();u.StripLinesRender=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaManager=u.TOUCH_ACTION_NONE=void 0;var c=h(10),p=h(3),a=h(9),o=h(168);u.TOUCH_ACTION_NONE="dx-gantt-touch-action";var t=function(){function n(e,r,i){this._eventListener=e,this._taskArea=r,this._cellSize=i,this.attachEvents()}return n.prototype.attachEvents=function(){window.PointerEvent?this.attachPointerEvents():c.Browser.TouchUI?this.attachTouchEvents():this.attachMouseEvents(),this.attachCommonEvents()},n.prototype.detachEvents=function(){window.PointerEvent?this.detachPointerEvents():c.Browser.TouchUI?this.detachTouchEvents():this.detachMouseEvents(),this.detachCommonEvents()},n.prototype.attachEventsOnTask=function(e){window.PointerEvent?e==null||e.addEventListener("pointerenter",this.onTaskPointerEnterHandler):c.Browser.TouchUI?e==null||e.addEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.addEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.addEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.detachEventsOnTask=function(e){window.PointerEvent?e==null||e.removeEventListener("pointerenter",this.onTaskPointerEnterHandler):c.Browser.TouchUI?e==null||e.removeEventListener("touchstart",this.onTaskTouchStartHandler):(e==null||e.removeEventListener("mouseenter",this.onTaskMouseEnterHandler),e==null||e.removeEventListener("mouseleave",this.onTaskMouseLeaveHandler))},n.prototype.attachCommonEvents=function(){this.taskAreaAddEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaAddEventListener(a.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaAddEventListener("scroll",this.onScrollHandler),document.addEventListener("keydown",this.onKeyDownHandler)},n.prototype.detachCommonEvents=function(){this.taskAreaRemoveEventListener("contextmenu",this.onContextMenuHandler),this.taskAreaRemoveEventListener(a.EvtUtils.getMouseWheelEventName(),this.onMouseWheelHandler),this.taskAreaRemoveEventListener("scroll",this.onScrollHandler),document.removeEventListener("keydown",this.onKeyDownHandler)},n.prototype.attachPointerEvents=function(){p.DomUtils.addClassName(this.taskArea,u.TOUCH_ACTION_NONE),document.addEventListener("pointerdown",this.onDocumentPointerDownHandler),document.addEventListener("pointerup",this.onDocumentPointerUpHandler),document.addEventListener("pointermove",this.onDocumentPointerMoveHandler),document.addEventListener("pointercancel",this.onDocumentPointerCancelUpHandler),this.taskAreaAddEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler)},n.prototype.detachPointerEvents=function(){document.removeEventListener("pointerdown",this.onDocumentPointerDownHandler),document.removeEventListener("pointerup",this.onDocumentPointerUpHandler),document.removeEventListener("pointermove",this.onDocumentPointerMoveHandler),document.removeEventListener("pointercancel ",this.onDocumentPointerCancelUpHandler),this.taskAreaRemoveEventListener("pointerleave",this.onTaskAreaPointerLeaveHandler),p.DomUtils.removeClassName(this.taskArea,u.TOUCH_ACTION_NONE)},n.prototype.attachTouchEvents=function(){p.DomUtils.addClassName(this.taskArea,u.TOUCH_ACTION_NONE),document.addEventListener("touchstart",this.onTouchStartHandler),document.addEventListener("touchend",this.onTouchEndHandler),document.addEventListener("touchmove",this.onTouchMoveHandler)},n.prototype.detachTouchEvents=function(){document.removeEventListener("touchstart",this.onTouchStartHandler),document.removeEventListener("touchend",this.onTouchEndHandler),document.removeEventListener("touchmove",this.onTouchMoveHandler),p.DomUtils.removeClassName(this.taskArea,u.TOUCH_ACTION_NONE)},n.prototype.attachMouseEvents=function(){this.taskAreaAddEventListener("click",this.onMouseClickHandler),this.taskAreaAddEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaAddEventListener("mousedown",this.onMouseDownHandler),this.taskAreaAddEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),document.addEventListener("mousemove",this.onMouseMoveHandler),document.addEventListener("mouseup",this.onMouseUpHandler)},n.prototype.detachMouseEvents=function(){this.taskAreaRemoveEventListener("click",this.onMouseClickHandler),this.taskAreaRemoveEventListener("dblclick",this.onMouseDblClickHandler),this.taskAreaRemoveEventListener("mouseleave",this.onTaskAreaMouseLeaveHandler),this.taskAreaRemoveEventListener("mousedown",this.onMouseDownHandler),document.removeEventListener("mousemove",this.onMouseMoveHandler),document.removeEventListener("mouseup",this.onMouseUpHandler)},Object.defineProperty(n.prototype,"stateController",{get:function(){var e;return(e=this._stateController)!==null&&e!==void 0||(this._stateController=new o.TaskAreaStateController(this._eventListener,this._taskArea,this._cellSize)),this._stateController},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),n.prototype.taskAreaAddEventListener=function(e,r){this.taskArea.addEventListener(e,r)},n.prototype.taskAreaRemoveEventListener=function(e,r){this.taskArea.removeEventListener(e,r)},Object.defineProperty(n.prototype,"onContextMenuHandler",{get:function(){var e,r=this;return(e=this._onContextMenuHandler)!==null&&e!==void 0||(this._onContextMenuHandler=function(i){r.stateController.onContextMenu(i)}),this._onContextMenuHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseWheelHandler",{get:function(){var e,r=this;return(e=this._onMouseWheelHandler)!==null&&e!==void 0||(this._onMouseWheelHandler=function(i){r.stateController.onMouseWheel(i)}),this._onMouseWheelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onScrollHandler",{get:function(){var e,r=this;return(e=this._onScrollHandler)!==null&&e!==void 0||(this._onScrollHandler=function(i){r.stateController.onScroll(i)}),this._onScrollHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onKeyDownHandler",{get:function(){var e,r=this;return(e=this._onKeyDownHandler)!==null&&e!==void 0||(this._onKeyDownHandler=function(i){r.stateController.onKeyDown(i)}),this._onKeyDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskPointerEnterHandler",{get:function(){var e,r=this;return(e=this._onTaskPointerEnterHandler)!==null&&e!==void 0||(this._onTaskPointerEnterHandler=function(i){r.stateController.onTaskPointerEnter(i)}),this._onTaskPointerEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaPointerLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskAreaPointerLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaPointerLeaveHandler=function(i){r.stateController.onTaskAreaPointerLeave(i)}),this._onTaskAreaPointerLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerDownHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerDownHandler)!==null&&e!==void 0||(this._onDocumentPointerDownHandler=function(i){r.stateController.onDocumentPointerDown(i)}),this._onDocumentPointerDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerUpHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerUpHandler)!==null&&e!==void 0||(this._onDocumentPointerUpHandler=function(i){r.stateController.onDocumentPointerUp(i)}),this._onDocumentPointerUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerCancelUpHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerCancelHandler)!==null&&e!==void 0||(this._onDocumentPointerCancelHandler=function(i){r.stateController.onDocumentPointerCancel(i)}),this._onDocumentPointerCancelHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onDocumentPointerMoveHandler",{get:function(){var e,r=this;return(e=this._onDocumentPointerMoveHandler)!==null&&e!==void 0||(this._onDocumentPointerMoveHandler=function(i){r.stateController.onDocumentPointerMove(i)}),this._onDocumentPointerMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchStartHandler",{get:function(){var e,r=this;return(e=this._onTouchStartHandler)!==null&&e!==void 0||(this._onTouchStartHandler=function(i){r.stateController.onTouchStart(i)}),this._onTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchEndHandler",{get:function(){var e,r=this;return(e=this._onTouchEndHandler)!==null&&e!==void 0||(this._onTouchEndHandler=function(i){r.stateController.onTouchEnd(i)}),this._onTouchEndHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTouchMoveHandler",{get:function(){var e,r=this;return(e=this._onTouchMoveHandler)!==null&&e!==void 0||(this._onTouchMoveHandler=function(i){r.stateController.onTouchMove(i)}),this._onTouchMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskTouchStartHandler",{get:function(){var e,r=this;return(e=this._onTaskTouchStartHandler)!==null&&e!==void 0||(this._onTaskTouchStartHandler=function(i){r.stateController.onTaskTouchStart(i)}),this._onTaskTouchStartHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseClickHandler",{get:function(){var e,r=this;return(e=this._onMouseClickHandler)!==null&&e!==void 0||(this._onMouseClickHandler=function(i){r.stateController.onClick(i)}),this._onMouseClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDblClickHandler",{get:function(){var e,r=this;return(e=this._onMouseDblClickHandler)!==null&&e!==void 0||(this._onMouseDblClickHandler=function(i){r.stateController.onDblClick(i)}),this._onMouseDblClickHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseDownHandler",{get:function(){var e,r=this;return(e=this._onMouseDownHandler)!==null&&e!==void 0||(this._onMouseDownHandler=function(i){r.stateController.onMouseDown(i)}),this._onMouseDownHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskAreaMouseLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskAreaMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskAreaMouseLeaveHandler=function(i){r.stateController.onTaskAreaMouseLeave(i)}),this._onTaskAreaMouseLeaveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseMoveHandler",{get:function(){var e,r=this;return(e=this._onMouseMoveHandler)!==null&&e!==void 0||(this._onMouseMoveHandler=function(i){r.stateController.onMouseMove(i)}),this._onMouseMoveHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onMouseUpHandler",{get:function(){var e,r=this;return(e=this._onMouseUpHandler)!==null&&e!==void 0||(this._onMouseUpHandler=function(i){r.stateController.onMouseUp(i)}),this._onMouseUpHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseEnterHandler",{get:function(){var e,r=this;return(e=this._onTaskMouseEnterHandler)!==null&&e!==void 0||(this._onTaskMouseEnterHandler=function(i){r.stateController.onTaskElementHover(i)}),this._onTaskMouseEnterHandler},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"onTaskMouseLeaveHandler",{get:function(){var e,r=this;return(e=this._onTaskMouseLeaveHandler)!==null&&e!==void 0||(this._onTaskMouseLeaveHandler=function(i){r.stateController.onTaskElementLeave(i)}),this._onTaskMouseLeaveHandler},enumerable:!1,configurable:!0}),n.DBLCLICK_INTERVAL=300,n.MS_POINTER_ACTIVE_CLASS="ms-pointer-active",n}();u.TaskAreaManager=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TouchUtils=void 0;var c=h(10),p=h(1),a=function(){function o(){}return o.onEventAttachingToDocument=function(t,n){return!c.Browser.MacOSMobilePlatform||!o.isTouchEventName(t)||(o.documentTouchHandlers[t]||(o.documentTouchHandlers[t]=[]),o.documentTouchHandlers[t].push(n),o.documentEventAttachingAllowed)},o.isTouchEventName=function(t){return c.Browser.WebKitTouchUI&&(t.indexOf("touch")>-1||t.indexOf("gesture")>-1)},o.isTouchEvent=function(t){return c.Browser.WebKitTouchUI&&p.isDefined(t.changedTouches)},o.getEventX=function(t){return c.Browser.IE?t.pageX:t.changedTouches[0].pageX},o.getEventY=function(t){return c.Browser.IE?t.pageY:t.changedTouches[0].pageY},o.touchMouseDownEventName=c.Browser.WebKitTouchUI?"touchstart":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",o.touchMouseUpEventName=c.Browser.WebKitTouchUI?"touchend":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",o.touchMouseMoveEventName=c.Browser.WebKitTouchUI?"touchmove":c.Browser.Edge&&c.Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove",o.msTouchDraggableClassName="dxMSTouchDraggable",o.documentTouchHandlers={},o.documentEventAttachingAllowed=!0,o}();u.TouchUtils=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaStateController=void 0;var c=h(5),p=h(3),a=h(9),o=h(46),t=h(4),n=h(170),e=h(173),r=h(29),i=h(174),s=h(13),l=h(175),g=h(177),d=h(178),f=function(){function y(m,v,T){var b=this;this.position=new c.Point(-1,-1),this._pointers={},this._listener=m,this._listener.setHandler(s.TaskAreaStateEventNames.STATE_EXIT,function(){b.switchToDefaultState()}),this._listener.setHandler(s.TaskAreaStateEventNames.GET_POINTERS_INFO,function(w){return b.getPointersInfo(w.triggerEvent)}),this._taskArea=v,this._cellSize=T,this.switchToDefaultState()}return y.prototype.onKeyDown=function(m){this._state.onKeyDown(m)},y.prototype.onScroll=function(m){this._state.onScroll(m)},y.prototype.onContextMenu=function(m){this._state.onContextMenu(m)},y.prototype.onMouseWheel=function(m){m.ctrlKey&&(m.preventDefault(),m.stopPropagation(),this.switchState(l.TaskAreaZoomState)),this._state.onMouseWheel(m)},Object.defineProperty(y.prototype,"currentState",{get:function(){return this._state},enumerable:!1,configurable:!0}),y.prototype.onTaskPointerEnter=function(m){this._state.onTaskPointerEnter(m)},y.prototype.onTaskAreaPointerLeave=function(m){this._state.onTaskAreaLeave(m)},y.prototype.onDocumentPointerCancel=function(m){this._clearPointerInfo(m)},y.prototype.onDocumentPointerDown=function(m){this._updatePinterInfo(m),this.toggleStateOnPointerDown(m),this._state.onDocumentPointerDown(m)},y.prototype.onDocumentPointerMove=function(m){this._updatePinterInfo(m),this.toggleStateOnPointerMove(m),this._state.onDocumentPointerMove(m)},y.prototype.onDocumentPointerUp=function(m){this._clearPointerInfo(m),this._state.onDocumentPointerUp(m)},y.prototype.onTaskTouchStart=function(m){this._state.onTaskTouchStart(m)},y.prototype.onTouchStart=function(m){this.toggleStateOnPointerDown(m),this._state.onTouchStart(m)},y.prototype.onTouchEnd=function(m){this._state.onTouchEnd(m)},y.prototype.onTouchMove=function(m){this.toggleStateOnPointerMove(m),this._state.onTouchMove(m)},y.prototype.onClick=function(m){this._state.onClick(m)},y.prototype.onDblClick=function(m){this._state.onDblClick(m)},y.prototype.onTaskAreaMouseLeave=function(m){this._state.onTaskAreaLeave(m)},y.prototype.onTaskElementHover=function(m){this._state.onTaskHover(m)},y.prototype.onTaskElementLeave=function(m){this._state.onTaskLeave(m)},y.prototype.onMouseUp=function(m){this._state.onMouseUp(m)},y.prototype.onMouseMove=function(m){this._state.onMouseMove(m)},y.prototype.onMouseDown=function(m){switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskArea:this.processMouseDownOnTaskArea(m);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.switchState(d.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState);break;case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState)}this._state.onMouseDown(m)},Object.defineProperty(y.prototype,"taskArea",{get:function(){return this._taskArea},enumerable:!1,configurable:!0}),y.prototype.switchToDefaultState=function(){this._state=new n.TaskAreaDefaultState(this._listener,this.taskArea,this._cellSize)},y.prototype.switchState=function(m){this._state instanceof m||(this._state&&this._state.finish(),this._state=new m(this._listener,this.taskArea,this._cellSize),this._state.start())},y.prototype.processMouseDownOnTaskArea=function(m){a.EvtUtils.isLeftButtonPressed(m)&&!r.TaskAreaDomHelper.isConnectorLine(m)&&this.switchState(i.TaskAreaScrollState)},y.prototype.toggleStateOnPointerDown=function(m){var v=this.toggleStateWhenMultiOrOutsideTouch(m);if(this.position=new c.Point(a.EvtUtils.getEventX(m),a.EvtUtils.getEventY(m)),!v&&this._canStartDrag(m))switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskEdit_DependencyStart:case t.TaskAreaEventSource.TaskEdit_DependencyFinish:this.switchState(e.TaskAreaDependencyState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},y.prototype.toggleStateOnPointerMove=function(m){var v=this.toggleStateWhenMultiOrOutsideTouch(m),T=Math.abs(this.position.x-a.EvtUtils.getEventX(m))>1||Math.abs(this.position.y-a.EvtUtils.getEventY(m))>1;if(!v&&T&&this._canStartDrag(m)&&this._state instanceof n.TaskAreaDefaultState)switch(this.getTaskAreaEventSource(m)){case t.TaskAreaEventSource.TaskArea:this.checkEventInTaskEditFrameArea(m)?this.switchState(d.TaskMoveState):this.switchState(i.TaskAreaScrollState);break;case t.TaskAreaEventSource.TaskEdit_Frame:this.isTaskUpdateDisabled()?this.switchState(i.TaskAreaScrollState):this.switchState(d.TaskMoveState);break;case t.TaskAreaEventSource.TaskEdit_Progress:case t.TaskAreaEventSource.TaskEdit_Start:case t.TaskAreaEventSource.TaskEdit_End:this.switchState(g.TaskEditState)}},y.prototype.toggleStateWhenMultiOrOutsideTouch=function(m){var v=this._getActivePointersCount(m),T=!this.isInTaskArea(m),b=v>=2||T;return v>2||T?this.switchState(n.TaskAreaDefaultState):v===2&&this.switchState(l.TaskAreaZoomState),b},y.prototype.checkEventInTaskEditFrameArea=function(m){var v,T,b=this.getTaskEditFrameElement();if(this.isTaskUpdateDisabled()||!b)return!1;var w=(m==null?void 0:m.clientX)||((v=m==null?void 0:m.touches[0])===null||v===void 0?void 0:v.clientX),A=(m==null?void 0:m.clientY)||((T=m==null?void 0:m.touches[0])===null||T===void 0?void 0:T.clientY),I=b.getBoundingClientRect();return w>=I.left&&w<=I.left+I.width&&A>=I.top&&A<=I.top+I.height},y.prototype.isTaskUpdateDisabled=function(){return this._taskArea.getAttribute("task-edit-enabled")==="false"},y.prototype.isInTaskArea=function(m){return p.DomUtils.isItParent(this._taskArea,a.EvtUtils.getEventSource(m))},y.prototype.getTaskEditFrameElement=function(){return this._taskArea.getElementsByClassName(o.TaskEditController.CLASSNAMES.TASK_EDIT_FRAME)[0]},y.prototype._updatePinterInfo=function(m){var v=m.pointerId;this._pointers[v]={pageX:m.pageX,pageY:m.pageY,pointerType:m.pointerType}},y.prototype._clearPointerInfo=function(m){var v=m.pointerId;delete this._pointers[v]},y.prototype.isTouchEvent=function(m){return r.TaskAreaDomHelper.isTouchEvent(m)},y.prototype.isPointerEvent=function(m){return r.TaskAreaDomHelper.isPointerEvent(m)},y.prototype._getActivePointersCount=function(m){var v=this;return this.isTouchEvent(m)?m.touches.length:Object.keys(this._pointers).filter(function(T){return v._pointers[T].pointerType===m.pointerType}).length},y.prototype.getPointersInfo=function(m){var v=this,T=m==null?void 0:m.pointerType,b=Object.keys(this._pointers).map(function(w){return v._pointers[w]});return T&&(b=b.filter(function(w){return w.pointerType===T})),b},y.prototype._canStartDrag=function(m){return!(this._getActivePointersCount(m)>1)&&(!r.TaskAreaDomHelper.isMousePointer(m)||m.buttons===1)&&!r.TaskAreaDomHelper.isConnectorLine(m)},y.prototype.getTaskAreaEventSource=function(m){return r.TaskAreaDomHelper.getEventSource(a.EvtUtils.getEventSource(m))},y}();u.TaskAreaStateController=f},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditTooltip=void 0;var c=h(3),p=function(){function a(o,t,n){this.parentElement=o,this.cultureInfo=n,this.tooltipSettings=t}return Object.defineProperty(a.prototype,"baseElement",{get:function(){return this._baseElement||this.createTooltipContainer(),this._baseElement},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"headerHeight",{get:function(){return this.tooltipSettings.getHeaderHeight},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskAreaContainer",{get:function(){return this.tooltipSettings.getTaskAreaContainer()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskProgressTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskProgressTooltipContentTemplate},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"taskTimeTooltipContentTemplate",{get:function(){return this.tooltipSettings.getTaskTimeTooltipContentTemplate},enumerable:!1,configurable:!0}),a.prototype.destroyTemplate=function(o){this.tooltipSettings.destroyTemplate(o)},a.prototype.formatDate=function(o){return this.tooltipSettings.formatDate(o)},a.prototype.createTooltipContainer=function(){this._baseElement=document.createElement("DIV"),this._baseElement.className=a.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS,this.parentElement.appendChild(this._baseElement)},a.prototype.setDefaultTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=a.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT;var t=document.createElement("DIV");t.className=a.CLASSNAMES.TASK_EDIT_TASK_TITLE;var n=document.createElement("SPAN");if(t.appendChild(n),this.defaultTooltip.appendChild(t),n.innerText=o.title,this.defaultTooltip.appendChild(this.getTimeContent(o.start,o.end)),!isNaN(o.progress)){var e=document.createElement("DIV");e.className=a.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var r=document.createElement("SPAN"),i=document.createElement("SPAN");e.appendChild(r),e.appendChild(i),this.defaultTooltip.appendChild(e),r.innerText=(this.cultureInfo.progress?this.cultureInfo.progress:"Progress")+": ",i.innerText=o.progress+"%"}this.baseElement.appendChild(this.defaultTooltip)},a.prototype.setDefaultProgressTooltip=function(o){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=a.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.innerText=o+"%",this.baseElement.appendChild(this.defaultTooltip)},a.prototype.setDefaultTimeTooltip=function(o,t){this.defaultTooltip=document.createElement("DIV"),this.defaultTooltip.className=a.CLASSNAMES.TASK_EDIT_TOOLTIP_DEFAULT,this.defaultTooltip.appendChild(this.getTimeContent(o,t)),this.baseElement.appendChild(this.defaultTooltip)},a.prototype.showInfo=function(o,t,n){var e=this;n===void 0&&(n=0);var r=this.taskTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,o,function(){e.showTooltip(t,!1,n)}):(this.setDefaultTooltip(o),this.showTooltip(t,!1,n))},a.prototype.showProgress=function(o,t){var n=this,e=this.taskProgressTooltipContentTemplate;this.destroyTemplate(this.baseElement),e?e(this.baseElement,{progress:o},function(){n.showTooltip(t)}):(this.setDefaultProgressTooltip(o),this.show(t))},a.prototype.showTime=function(o,t,n){var e=this,r=this.taskTimeTooltipContentTemplate;this.destroyTemplate(this.baseElement),r?r(this.baseElement,{start:o,end:t},function(){e.showTooltip(n)}):(this.setDefaultTimeTooltip(o,t),this.show(n))},a.prototype.showTooltip=function(o,t,n){var e,r=this;if(t===void 0&&(t=!0),n===void 0&&(n=0),(e=this.baseElement)===null||e===void 0?void 0:e.innerHTML){var i=function(){r.show(o,t)};n?this.timerId=setTimeout(i,n):i()}},a.prototype.show=function(o,t){var n,e,r,i=this;t===void 0&&(t=!0),(n=this.defaultTooltip)===null||n===void 0||n.classList.remove(a.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER),(e=this.defaultTooltip)===null||e===void 0||e.classList.remove(a.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE),this.baseElement.style.display="block";var s=this.getLeftPosition(o),l=this.needToShowUnderParent(),g=this.getTopPosition(l),d=l?a.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_AFTER:a.CLASSNAMES.TASK_EDIT_TOOLTIP_ARROW_BEFORE;(r=this.defaultTooltip)===null||r===void 0||r.classList.add(d),this.baseElement.style.left=s+"px",this.baseElement.style.top=g+"px",t&&(this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){i.hide()},1500))},a.prototype.hide=function(){this.baseElement.style.display="none",this.destroyTemplate(this.baseElement),clearTimeout(this.timerId)},a.prototype.getTimeContent=function(o,t){var n=document.createElement("TABLE");n.className=a.CLASSNAMES.TASK_EDIT_PROGRESS_STATUS_TIME;var e=document.createElement("TBODY");n.appendChild(e);var r=document.createElement("TR"),i=document.createElement("TD"),s=document.createElement("TD"),l=document.createElement("TR"),g=document.createElement("TD"),d=document.createElement("TD");return r.appendChild(i),r.appendChild(s),l.appendChild(g),l.appendChild(d),e.appendChild(r),e.appendChild(l),i.innerText=(this.cultureInfo.start?this.cultureInfo.start:"Start")+": ",s.innerText=this.formatDate(o),g.innerText=(this.cultureInfo.end?this.cultureInfo.end:"End")+": ",d.innerText=this.formatDate(t),n},a.prototype.getLeftPosition=function(o){var t=o-c.DomUtils.getAbsolutePositionX(this.parentElement)-2*a.defaultArrowHeight;if(this.taskAreaContainer){var n=c.DomUtils.getAbsolutePositionX(this.taskAreaContainer.getElement())+this.taskAreaContainer.getWidth(),e=o+this.baseElement.clientWidth-n;e>0&&(t-=e)}return t},a.prototype.getTopPosition=function(o){return o?this.parentElement.clientHeight+a.defaultArrowHeight:-this.baseElement.clientHeight-a.defaultArrowHeight},a.prototype.needToShowUnderParent=function(){var o,t=c.DomUtils.getAbsolutePositionY(this.parentElement)-this.headerHeight-c.DomUtils.getDocumentScrollTop()-a.defaultHeightOffset,n=((o=this.taskAreaContainer)===null||o===void 0?void 0:o.scrollTop)||0,e=this.parentElement.offsetTop-n;return this.baseElement.clientHeight>t||this.baseElement.clientHeight>e},a.CLASSNAMES={TASK_EDIT_PROGRESS_STATUS:"dx-gantt-task-edit-tooltip",TASK_EDIT_TOOLTIP_DEFAULT:"dx-gantt-task-edit-tooltip-default",TASK_EDIT_TASK_TITLE:"dx-gantt-task-title",TASK_EDIT_PROGRESS_STATUS_TIME:"dx-gantt-status-time",TASK_EDIT_TOOLTIP_ARROW_BEFORE:"dx-gantt-task-edit-tooltip-before",TASK_EDIT_TOOLTIP_ARROW_AFTER:"dx-gantt-task-edit-tooltip-after"},a.defaultArrowHeight=5,a.defaultHeightOffset=15,a}();u.TaskEditTooltip=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDefaultState=void 0;var c=h(0),p=h(9),a=h(29),o=h(30),t=h(13),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.finish=function(){this.clearTimers(),this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE)},r.prototype.onMouseDownInternal=function(i){this.onPointerDownBase(i)},r.prototype.onDocumentPointerDownInternal=function(i){this.onPointerDownBase(i)},r.prototype.onDocumentPointerUpInternal=function(i){this.onPointerUpBase(i)},r.prototype.onDocumentPointerMoveInternal=function(i){this.clearTimers()},r.prototype.onTouchStartInternal=function(i){this.onPointerDownBase(i)},r.prototype.onTouchEndInternal=function(i){this.onPointerUpBase(i)},r.prototype.onTouchMoveInternal=function(i){this.clearTimers()},r.prototype.onPointerDownBase=function(i){var s=this;i.preventDefault(),this._lastTouchRowIndex=this.getClickedRowIndex(i),(this.isPointerEvent(i)?a.TaskAreaDomHelper.isMousePointer(i):this.isMouseEvent(i))?this.changeSelectionOnTouchDown(i):(setTimeout(function(){a.TaskAreaDomHelper.isMousePointer(i)||s.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,i),s.changeSelectionOnTouchDown(i)},0),clearTimeout(this._contextMenuTimer),this._contextMenuTimer=setTimeout(function(){return s.showContextMenuOnTouchDown(i)},r.defaultContextMenuTimeout))},r.prototype.onPointerUpBase=function(i){var s=this;if(clearTimeout(this._contextMenuTimer),i.preventDefault(),this.canToEmulateClick(i)){var l=this.getClickedRowIndex(i),g=new Date;if(this._lastEmulatedClickTime)g.getTime()-this._lastEmulatedClickTime.getTime()<r.defaultDblClickTimeout&&(this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_DBLCLICK,i,l),delete this._lastEmulatedClickTime);else{var d=!this.raiseEvent(t.TaskAreaStateEventNames.TASK_AREA_CLICK,i,l);clearTimeout(this._dblClickClearTimer),a.TaskAreaDomHelper.isMousePointer(i)&&this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_HIDE,i),d||(this._lastEmulatedClickTime=g,this._dblClickClearTimer=setTimeout(function(){delete s._lastEmulatedClickTime},r.defaultDblClickClearTimeout))}}},r.prototype.canToEmulateClick=function(i){var s=!a.TaskAreaDomHelper.isConnectorLine(i)&&this.getClickedRowIndex(i)===this._lastTouchRowIndex;return s&&a.TaskAreaDomHelper.isMousePointer(i)&&s&&(s=i.button!==2),s},r.prototype.changeSelectionOnTouchDown=function(i){var s=a.TaskAreaDomHelper.isConnectorLine(i);s||this.raiseTaskSelection(i,this.getClickedRowIndex(i)),this.raiseDependencySelection(i,s?p.EvtUtils.getEventSource(i).getAttribute("dependency-id"):null)},r.prototype.showContextMenuOnTouchDown=function(i){var s=a.TaskAreaDomHelper.isConnectorLine(i);this.raiseEvent(t.TaskAreaStateEventNames.CONTEXTMENU_SHOW,i,this.getClickedRowIndex(i),{type:s?"dependency":"task"})},r.prototype.clearTimers=function(){clearTimeout(this._contextMenuTimer),clearTimeout(this._dblClickClearTimer),delete this._lastEmulatedClickTime},r.defaultContextMenuTimeout=3e3,r.defaultDblClickTimeout=500,r.defaultDblClickClearTimeout=r.defaultDblClickTimeout+100,r}(o.TaskAreaStateBase);u.TaskAreaDefaultState=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EncodeUtils=void 0;var c=function(){function p(){}return p.encodeHtml=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},p.decodeHtml=function(a){return a.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},p.prepareTextForRequest=function(a){return a.replace(/%/g,"%25").replace(/&/g,"%26amp;").replace(/\+/g,"%2B").replace(/</g,"%26lt;").replace(/>/g,"%26gt;").replace(/"/g,"%26quot;")},p.prepareTextForCallBackRequest=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p.decodeViaTextArea=function(a){var o=document.createElement("TEXTAREA");return o.innerHTML=a,o.value},p}();u.EncodeUtils=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventArgs=void 0;var c=h(1),p=function(a,o,t,n){this.rowIndex=-1,this.info={},this.eventName=a,this.triggerEvent=o,(0,c.isDefined)(t)&&(this.rowIndex=t),n&&(this.info=n)};u.TaskAreaEventArgs=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaDependencyState=u.dependencyMap=void 0;var c=h(0),p=h(5),a=h(3),o=h(9),t=h(23),n=h(4),e=h(29),r=h(30),i=h(13);u.dependencyMap=[],u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart]=[],u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish]=[],u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.SS,u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyStart][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.SF,u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyStart]=t.DependencyType.FS,u.dependencyMap[n.TaskAreaEventSource.TaskEdit_DependencyFinish][n.TaskAreaEventSource.Successor_DependencyFinish]=t.DependencyType.FF;var s=function(l){function g(){return l!==null&&l.apply(this,arguments)||this}return c.__extends(g,l),g.prototype.onMouseUp=function(d){this.onDependencyEndByMouse(d)},g.prototype.onMouseDownInternal=function(d){this.onDependencyStart(d)},g.prototype.onMouseMoveInternal=function(d){this.onDependencyMoveStep(d)},g.prototype.onTouchStartInternal=function(d){this.onDependencyStart(d)},g.prototype.onTouchEndInternal=function(d){this.onDependencyEndByTouch(d)},g.prototype.onTouchMoveInternal=function(d){this.onDependencyMoveStep(d)},g.prototype.onDocumentPointerDownInternal=function(d){this.onDependencyStart(d)},g.prototype.onDocumentPointerUpInternal=function(d){this.onDependencyEndByTouch(d)},g.prototype.onDocumentPointerMoveInternal=function(d){this.onDependencyMoveStep(d)},g.prototype.onDependencyStart=function(d){var f=o.EvtUtils.getEventSource(d);this.source=e.TaskAreaDomHelper.getEventSource(f);var y=this.getRelativePos(new p.Point(a.DomUtils.getAbsolutePositionX(f)+f.clientWidth/2,a.DomUtils.getAbsolutePositionY(f)+f.clientHeight/2));this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_START,d,null,{pos:y})},g.prototype.onDependencyMoveStep=function(d){d.preventDefault();var f=this.getRelativePos(new p.Point(o.EvtUtils.getEventX(d),o.EvtUtils.getEventY(d)));this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_PROCESS,d,this.getClickedRowIndex(d),{pos:f})},g.prototype.onDependencyEndByMouse=function(d){var f=e.TaskAreaDomHelper.getEventSource(o.EvtUtils.getEventSource(d)),y=f===n.TaskAreaEventSource.Successor_DependencyStart||f===n.TaskAreaEventSource.Successor_DependencyFinish?u.dependencyMap[this.source][f]:null;this.processEndDependency(d,y)},g.prototype.onDependencyEndByTouch=function(d){var f=this.raiseEvent(i.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS,d),y=this.getRelativePos(f.successorStart),m=this.getRelativePos(f.successorFinish),v=this.getRelativePos(new p.Point(o.EvtUtils.getEventX(d),o.EvtUtils.getEventY(d))),T=this.isTouchNearby(v,y)?n.TaskAreaEventSource.Successor_DependencyStart:this.isTouchNearby(v,m)?n.TaskAreaEventSource.Successor_DependencyFinish:null,b=T===n.TaskAreaEventSource.Successor_DependencyStart||T===n.TaskAreaEventSource.Successor_DependencyFinish?u.dependencyMap[this.source][T]:null;this.processEndDependency(d,b)},g.prototype.onTaskAreaLeaveInternal=function(d){this.processEndDependency(d,null)},g.prototype.processEndDependency=function(d,f){this.raiseEvent(i.TaskAreaStateEventNames.DEPENDENCY_END,d,null,{type:f}),this.raiseEvent(i.TaskAreaStateEventNames.STATE_EXIT,d)},g.prototype.isTouchNearby=function(d,f){return Math.abs(f.x-d.x)<=20&&Math.abs(f.y-d.y)<=20},g}(r.TaskAreaStateBase);u.TaskAreaDependencyState=s},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaScrollState=void 0;var c=h(0),p=h(30),a=h(13),o=function(t){function n(){var e=t!==null&&t.apply(this,arguments)||this;return e._isStarted=!1,e}return c.__extends(n,t),n.prototype.finish=function(){this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_END_MOVE,null)},n.prototype.onMouseUp=function(e){this.onEnd(e)},n.prototype.onMouseDownInternal=function(e){this.onBeforeStart(e)},n.prototype.onMouseMoveInternal=function(e){this.onMove(e)},n.prototype.onDocumentPointerUpInternal=function(e){this.onEnd(e)},n.prototype.onDocumentPointerMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onTouchEndInternal=function(e){this.onEnd(e)},n.prototype.onTouchMoveInternal=function(e){this.onMoveByPointer(e)},n.prototype.onBeforeStart=function(e){e.preventDefault(),this.raiseDependencySelection(e,null),this.raiseEvent(a.TaskAreaStateEventNames.TASK_EDIT_END,e),this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_START_MOVE,e),this._isStarted=!0},n.prototype.onMoveByPointer=function(e){this._isStarted?this.onMove(e):this.onBeforeStart(e)},n.prototype.onMove=function(e){e.preventDefault(),this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE,e)},n.prototype.onEnd=function(e){e.preventDefault(),this.raiseEvent(a.TaskAreaStateEventNames.TASK_AREA_END_MOVE,e),this.raiseEvent(a.TaskAreaStateEventNames.STATE_EXIT,e),this._isStarted=!1},n}(p.TaskAreaStateBase);u.TaskAreaScrollState=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaZoomState=void 0;var c=h(0),p=h(5),a=h(9),o=h(176),t=h(30),n=h(13),e=function(r){function i(){var s=r!==null&&r.apply(this,arguments)||this;return s._isInZooming=!1,s}return c.__extends(i,r),i.prototype.onMouseWheel=function(s){s.ctrlKey&&(s.preventDefault(),s.stopPropagation(),this._isInZooming||this.processZoom(s,a.EvtUtils.getWheelDelta(s)>0,50))},i.prototype.onDocumentPointerUpInternal=function(s){this.onEndZoom(s)},i.prototype.onDocumentPointerMoveInternal=function(s){this.onTouchZoom(s)},i.prototype.onTouchEndInternal=function(s){this.onEndZoom(s)},i.prototype.onTouchMoveInternal=function(s){this.onTouchZoom(s)},i.prototype.onTouchZoom=function(s){var l;if(s.stopPropagation(),s.preventDefault(),!this._isInZooming){var g=this.getTouchDistance(s);(l=this.prevDistance)!==null&&l!==void 0||(this.prevDistance=g);var d=this.prevDistance-g;Math.abs(d)>3&&(this.processZoom(s,d>0,1e3),this.prevDistance=g)}},i.prototype.processZoom=function(s,l,g){var d=this;this._isInZooming=!0,setTimeout(function(){d._isInZooming=!1},g);var f=l?n.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN:n.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT;this.raiseEvent(f,s,null,{leftPos:this.getLeftPosition(s)})},i.prototype.onEndZoom=function(s){this.prevDistance=null,this.raiseEvent(n.TaskAreaStateEventNames.STATE_EXIT,s)},i.prototype.getTouchDistance=function(s){var l=this.GetTouchPoints(s);return this.getDistance(l[0],l[1])},i.prototype.GetTouchPoints=function(s){var l,g,d,f;if(this.isTouchEvent(s)){var y=s.touches;return[new p.Point(y[0].pageX,y[0].pageY),new p.Point(y[1].pageX,y[1].pageY)]}var m=this.raiseEvent(n.TaskAreaStateEventNames.GET_POINTERS_INFO,s);return[new p.Point((l=m[0])===null||l===void 0?void 0:l.pageX,(g=m[0])===null||g===void 0?void 0:g.pageY),new p.Point((d=m[1])===null||d===void 0?void 0:d.pageX,(f=m[1])===null||f===void 0?void 0:f.pageY)]},i.prototype.getDistance=function(s,l){return o.Metrics.euclideanDistance(s,l)},i.prototype.getLeftPosition=function(s){var l=0;return this.isTouchEvent(s)||this.isPointerEvent(s)?l=this.getZoomMiddlePoint(s).x:this.isMouseEvent(s)&&(l=this.getMouseZoomLeftPos(s)),l},i.prototype.getMouseZoomLeftPos=function(s){var l=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT);return a.EvtUtils.getEventX(s)-l.x},i.prototype.getZoomMiddlePoint=function(s){var l=this.raiseEvent(n.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT),g=this.GetTouchPoints(s),d=this.convertScreenToChartCoordinates(g[0],l),f=this.convertScreenToChartCoordinates(g[1],l);return new p.Point((d.x+f.x)/2,(d.y+f.y)/2)},i.prototype.convertScreenToChartCoordinates=function(s,l){return new p.Point(s.x-l.x,s.y-l.y)},i}(t.TaskAreaStateBase);u.TaskAreaZoomState=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Metrics=void 0;var c=function(){function p(){}return p.euclideanDistance=function(a,o){var t=a.x-o.x,n=a.y-o.y;return Math.sqrt(t*t+n*n)},p.manhattanDistance=function(a,o){return Math.abs(a.x-o.x)+Math.abs(a.y-o.y)},p}();u.Metrics=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditState=void 0;var c=h(0),p=h(9),a=h(4),o=h(29),t=h(13),n=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return c.__extends(r,e),r.prototype.onStartInternal=function(i){var s;(s=this._source)!==null&&s!==void 0||(this._source=o.TaskAreaDomHelper.getEventSource(p.EvtUtils.getEventSource(i)))},r.prototype.onEndInternal=function(i){this.raiseEvent(this.getEventOnEndKey(),i)},r.prototype.onDragInternal=function(i){var s=this.getRelativePos(i);this.raiseEvent(this.getEventOnDragKey(),null,null,{position:s})},r.prototype.getEventOnDragKey=function(){switch(this._source){case a.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_PROCESS_START;case a.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_PROCESS_END;case a.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS}},r.prototype.getEventOnEndKey=function(){switch(this._source){case a.TaskAreaEventSource.TaskEdit_Start:return t.TaskAreaStateEventNames.TASK_CONFIRM_START;case a.TaskAreaEventSource.TaskEdit_End:return t.TaskAreaStateEventNames.TASK_CONFIRM_END;case a.TaskAreaEventSource.TaskEdit_Progress:return t.TaskAreaStateEventNames.TASK_END_PROGRESS}},r}(h(67).TaskDragBaseState);u.TaskEditState=n},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskMoveState=void 0;var c=h(0),p=h(13),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.onEndInternal=function(n){this.raiseEvent(p.TaskAreaStateEventNames.TASK_END_MOVE,n)},t.prototype.onDragInternal=function(n){this.raiseEvent(p.TaskAreaStateEventNames.TASK_PROCESS_MOVE,null,null,{delta:n.x-this.currentPosition.x})||this.raiseEvent(p.TaskAreaStateEventNames.STATE_EXIT)},t}(h(67).TaskDragBaseState);u.TaskMoveState=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaRender=void 0;var c=h(3),p=h(16),a=function(){function o(t){this._vertTaskAreaBorders=[],this._horTaskAreaBorders=[],this._isExternalTaskAreaContainer=!1,this._renderHelper=t}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mainElement",{get:function(){return this._renderHelper.mainElement},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"etalonSizeValues",{get:function(){return this._renderHelper.etalonSizeValues},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scaleCount",{get:function(){return this._renderHelper.scaleCount},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollTop",{get:function(){return this._renderHelper.ganttViewTaskAreaContainerScrollTop},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainerScrollLeft",{get:function(){return this._renderHelper.ganttTaskAreaContainerScrollLeft},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},set:function(t){this._renderHelper.renderedRowIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"renderedColIndices",{get:function(){return this._renderHelper.renderedColIndices},set:function(t){this._renderHelper.renderedColIndices=t},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"vertTaskAreaBorders",{get:function(){return this._vertTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"horTaskAreaBorders",{get:function(){return this._horTaskAreaBorders},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskAreaContainer",{get:function(){return this._taskAreaContainer},enumerable:!1,configurable:!0}),o.prototype.getExternalTaskAreaContainer=function(t){return this._renderHelper.getExternalTaskAreaContainer(t)},o.prototype.prepareExternalTaskAreaContainer=function(t,n){return this._renderHelper.prepareExternalTaskAreaContainer(t,n)},o.prototype.isAllowTaskAreaBorders=function(t){return this._renderHelper.isAllowTaskAreaBorders(t)},o.prototype.getTaskAreaContainerElement=function(){return this._taskAreaContainer.getElement()},o.prototype.initTaskAreaContainer=function(t){this._renderHelper.createTaskArea(t),this._taskAreaContainer=this.getExternalTaskAreaContainer(t),this._isExternalTaskAreaContainer=!!this._taskAreaContainer,this.taskAreaContainer==null&&(this._taskAreaContainer=this._renderHelper.getTaskAreaContainer(t))},o.prototype.createTaskElement=function(t){this._renderHelper.createTaskElement(t)},o.prototype.removeTaskElement=function(t){this._renderHelper.removeTaskElement(t)},o.prototype.reset=function(){this._horTaskAreaBorders=[],this._vertTaskAreaBorders=[]},o.prototype.prepareTaskAreaContainer=function(){var t=this.getTaskAreaContainerElement();this.areHorizontalBordersEnabled?c.DomUtils.addClassName(t,"dx-gantt-tac-hb"):c.DomUtils.removeClassName(t,"dx-gantt-tac-hb");var n=parseInt(getComputedStyle(t).getPropertyValue("margin-top"))||0,e="calc(100% - ".concat(this.etalonSizeValues.scaleItemHeight*this.scaleCount+n,"px)");this._isExternalTaskAreaContainer?this.prepareExternalTaskAreaContainer(t,{height:e}):t.style.height=e},o.prototype.createTaskAreaContainer=function(){var t=document.createElement("DIV");t.className="dx-gantt-tac",this.mainElement.appendChild(t),this.initTaskAreaContainer(t),this.prepareTaskAreaContainer()},o.prototype.createTaskAreaBorder=function(t,n){var e=this.gridLayoutCalculator.getTaskAreaBorderInfo(t,n);p.RenderElementUtils.create(e,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskArea=function(){var t=document.createElement("DIV");return t.id="dx-gantt-ta",t},o.prototype.removeTaskAreaBorder=function(t,n){p.RenderElementUtils.remove(null,t,this.taskArea,this.getTaskAreaBordersDictionary(n))},o.prototype.createTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.createTaskAreaBorder(t,!n),n&&this.createTaskElement(t)},o.prototype.removeTaskAreaBorderAndTaskElement=function(t,n){this.isAllowTaskAreaBorders(n)&&this.removeTaskAreaBorder(t,!n),n&&this.removeTaskElement(t)},o.prototype.recreateTaskAreaBordersAndTaskElements=function(t){var n=this,e=t?this.taskAreaContainerScrollTop:this.taskAreaContainerScrollLeft,r=this.gridLayoutCalculator.getRenderedRowColumnIndices(e,t),i=t?this.renderedRowIndices:this.renderedColIndices;p.RenderElementUtils.recreate(i,r,function(s){n.removeTaskAreaBorderAndTaskElement(s,t)},function(s){n.createTaskAreaBorderAndTaskElement(s,t)}),t?this.renderedRowIndices=r:this.renderedColIndices=r,this.gridLayoutCalculator.createTileToConnectorLinesMap()},o.prototype.getTaskAreaBordersDictionary=function(t){return t?this.vertTaskAreaBorders:this.horTaskAreaBorders},o.prototype.setSizeForTaskArea=function(t,n){this.taskArea.style.width=t+"px",this.taskArea.style.height=n+"px"},o.prototype.createHighlightRowElement=function(t){var n=this.gridLayoutCalculator.getHighlightRowInfo(t);p.RenderElementUtils.create(n,t,this.taskArea,this.hlRowElements)},o}();u.TaskAreaRender=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskRender=void 0;var c=h(3),p=h(4),a=h(181),o=h(16),t=function(){function n(e){this._selectionElements=[],this._taskElements=[],this._renderHelper=e,this.customTaskRender=new a.CustomTaskRender(e,this)}return Object.defineProperty(n.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskElements",{get:function(){return this._taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectionElements",{get:function(){return this._selectionElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isExternalTaskAreaContainer",{get:function(){return this._renderHelper.isExternalTaskAreaContainer},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"resourcesElements",{get:function(){return this._renderHelper.resourcesElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hlRowElements",{get:function(){return this._renderHelper.hlRowElements},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"renderedRowIndices",{get:function(){return this._renderHelper.renderedRowIndices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showResources",{get:function(){return this._renderHelper.showResources},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"areHorizontalBordersEnabled",{get:function(){return this._renderHelper.areHorizontalBordersEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"taskTextHeightKey",{get:function(){return this._renderHelper.taskTextHeightKey},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"viewModelItems",{get:function(){return this._renderHelper.viewModelItems},enumerable:!1,configurable:!0}),n.prototype.isHighlightRowElementAllowed=function(e){return this._renderHelper.isHighlightRowElementAllowed(e)},n.prototype.getTaskVisibility=function(e){return this._renderHelper.getTaskVisibility(e)},n.prototype.getTaskText=function(e){return this._renderHelper.getTaskText(e)},Object.defineProperty(n.prototype,"invalidTaskDependencies",{get:function(){return this._renderHelper.invalidTaskDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fakeTaskWrapper",{get:function(){var e;return(e=this._fakeTaskWrapper)!==null&&e!==void 0||(this._fakeTaskWrapper=this.createFakeTaskWrapper()),this._fakeTaskWrapper},enumerable:!1,configurable:!0}),n.prototype.getViewItem=function(e){return this._renderHelper.getViewItem(e)},n.prototype.getTask=function(e){return this._renderHelper.getTask(e)},n.prototype.createHighlightRowElement=function(e){this._renderHelper.createHighlightRowElement(e)},n.prototype.getTaskDependencies=function(e){return this._renderHelper.getTaskDependencies(e)},n.prototype.addInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.concat(e)},n.prototype.removeInvalidTaskDependencies=function(e){this._renderHelper.invalidTaskDependencies=this._renderHelper.invalidTaskDependencies.filter(function(r){return r.predecessorId!=e||r.successorId!=e})},n.prototype.createResources=function(e){this.showResources&&this._renderHelper.createResources(e)},n.prototype.attachEventsOnTask=function(e){this._renderHelper.attachEventsOnTask(e)},n.prototype.detachEventsOnTask=function(e){this._renderHelper.detachEventsOnTask(e)},n.prototype.recreateConnectorLineElement=function(e,r){r===void 0&&(r=!1),this._renderHelper.recreateConnectorLineElement(e,r)},n.prototype.renderTaskElement=function(e){this._renderHelper.createTaskElement(e)},n.prototype.reset=function(){var e=this;this._taskElements.forEach(function(r,i){return e.removeTaskElement(i)}),this._selectionElements=[],this._taskElements=[]},n.prototype.createTaskWrapperElement=function(e){var r=this.gridLayoutCalculator.getTaskWrapperElementInfo(e);o.RenderElementUtils.create(r,e,this.taskArea,this.taskElements),this.taskElements[e].style.display=this.getTaskVisibility(e)?"":"none"},n.prototype.createTaskElement=function(e,r){var i=this.getViewItem(e);if(r&&this.customTaskRender.createCustomTaskElement(e,r),i.task.isValid()&&i.visible)i.isCustom||this.createDefaultTaskElement(e);else{var s=this.getTaskDependencies(i.task.internalId);this.addInvalidTaskDependencies(s)}},n.prototype.createTaskVisualElement=function(e){var r=this.gridLayoutCalculator.getTaskElementInfo(e,this.taskTitlePosition!==p.TaskTitlePosition.Inside),i=o.RenderElementUtils.create(r,e,this.taskElements[e]);return this.attachEventsOnTask(e),i},n.prototype.createDefaultTaskElement=function(e){var r=this.getViewItem(e);this.isHighlightRowElementAllowed(e)&&this.createHighlightRowElement(e),r.selected&&this.createTaskSelectionElement(e),this.createTaskWrapperElement(e),this.taskTitlePosition===p.TaskTitlePosition.Outside&&this.createTaskTextElement(e,this.taskElements[e]);var i=this.createTaskVisualElement(e);r.task.isMilestone()||(this.taskTitlePosition===p.TaskTitlePosition.Inside&&this.createTaskTextElement(e,i),this.createTaskProgressElement(e,i)),this.createResources(e)},n.prototype.removeTaskElement=function(e){var r=this.getTask(e);if(r&&this.removeInvalidTaskDependencies(r.id),this.detachEventsOnTask(e),this._renderHelper.hasTaskTemplate()){var i=this.taskElements[e],s=i==null?void 0:i.firstElementChild;s&&(this._renderHelper.destroyTemplate(s),i.removeChild(s))}o.RenderElementUtils.remove(null,e,this.taskArea,this.taskElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.resourcesElements),o.RenderElementUtils.remove(null,e,this.taskArea,this.selectionElements),this.isHighlightRowElementAllowed(e)&&o.RenderElementUtils.remove(null,e,this.taskArea,this.hlRowElements),this.gridLayoutCalculator.resetTaskInfo(e)},n.prototype.recreateTaskElement=function(e){var r=this,i=this.renderedRowIndices.filter(function(g){return g===e}).length>0,s=this.getTask(e);if(s){i&&(this.removeTaskElement(e),this.renderTaskElement(e));var l=this.getTaskDependencies(s.internalId);l.length&&l.forEach(function(g){return r.recreateConnectorLineElement(g.internalId,!0)})}},n.prototype.createFakeTaskWrapper=function(){var e,r,i=(r=(e=this.viewModelItems.filter(function(d){return d.task&&!d.task.isMilestone})[0])===null||e===void 0?void 0:e.visibleIndex)!==null&&r!==void 0?r:0,s=this.gridLayoutCalculator,l=o.RenderElementUtils.create(s.getTaskWrapperElementInfo(i),null,this.taskArea),g=o.RenderElementUtils.create(s.getTaskElementInfo(i),null,l);return this.createTaskTextElement(i,g),this.createTaskProgressElement(i,g),l.style.display="none",l},n.prototype.createTaskProgressElement=function(e,r){var i=this.gridLayoutCalculator.getTaskProgressElementInfo(e);o.RenderElementUtils.create(i,e,r)},n.prototype.getTextWidth=function(e){return this._renderHelper.getTextWidth(e)},Object.defineProperty(n.prototype,"minTextWidth",{get:function(){var e;return(e=this._minTextWidth)!==null&&e!==void 0||(this._minTextWidth=5*this.getTextWidth("a")),this._minTextWidth},enumerable:!1,configurable:!0}),n.prototype.createTaskTextElement=function(e,r){var i,s,l=this.gridLayoutCalculator.getTaskTextElementInfo(e,this.taskTitlePosition===p.TaskTitlePosition.Inside);if(!l.additionalInfo.hidden){var g=o.RenderElementUtils.create(l,e,r),d=this.getTaskText(e);if(this.taskTitlePosition===p.TaskTitlePosition.Outside&&l.size.width>0){var f=getComputedStyle(g),y=l.size.width-c.DomUtils.pxToInt(f.paddingLeft);if(y>=this.minTextWidth){var m=c.DomUtils.pxToInt(f.paddingRight),v=d?this.getTextWidth(d):0;m&&v>y-m&&(m=Math.min(n.minTitleOutRightPadding,y-this.minTextWidth),g.style.paddingRight=m+"px"),v>y-m&&(g.style.overflowX="hidden",g.style.textOverflow="ellipsis")}else g.style.display="none"}d||((i=this[s=this.taskTextHeightKey])!==null&&i!==void 0||(this[s]=this.getTaskTextHeight(g)),g.style.height=this[this.taskTextHeightKey]),g.innerText=d}},n.prototype.createTaskSelectionElement=function(e){var r=this.gridLayoutCalculator.getSelectionElementInfo(e);this.isExternalTaskAreaContainer&&!this.areHorizontalBordersEnabled&&r.size.height++,o.RenderElementUtils.create(r,e,this.taskArea,this.selectionElements)},n.prototype.getTaskTextHeight=function(e){e.innerText="WWW";var r=getComputedStyle(e).height;return e.innerText="",r},n.prototype.getSmallTaskWidth=function(e){var r=0;if(e!=null&&e!==""){var i=e.indexOf("rem");if(i>-1)try{r=parseFloat(e.substr(0,i))*parseFloat(getComputedStyle(document.documentElement).fontSize)}catch{}else r=c.DomUtils.pxToInt(e)}return 2*r},n.minTitleOutRightPadding=5,n}();u.TaskRender=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.CustomTaskRender=void 0;var c=h(4),p=h(16),a=function(){function o(t,n){this._pendingTemplateFuncsToRender=[],this._renderHelper=t,this._taskRender=n}return Object.defineProperty(o.prototype,"gridLayoutCalculator",{get:function(){return this._renderHelper.gridLayoutCalculator},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tickSize",{get:function(){return this._renderHelper.tickSize},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskTitlePosition",{get:function(){return this._renderHelper.taskTitlePosition},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskElements",{get:function(){return this._taskRender.taskElements},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"taskArea",{get:function(){return this._renderHelper.taskArea},enumerable:!1,configurable:!0}),o.prototype.getViewItem=function(t){return this._renderHelper.getViewItem(t)},o.prototype.getTask=function(t){return this._renderHelper.getTask(t)},o.prototype.destroyTemplate=function(t){this._renderHelper.destroyTemplate(t)},o.prototype.getTaskDependencies=function(t){return this._renderHelper.getTaskDependencies(t)},o.prototype.getTaskResources=function(t){return this._renderHelper.getTaskResources(t)},o.prototype.attachEventsOnTask=function(t){this._renderHelper.attachEventsOnTask(t)},o.prototype.recreateConnectorLineElement=function(t,n){n===void 0&&(n=!1),this._renderHelper.recreateConnectorLineElement(t,n)},o.prototype.createTaskSelectionElement=function(t){this._taskRender.createTaskSelectionElement(t)},o.prototype.createCustomTaskElement=function(t,n){if(this._saveTemplateFuncToStack(t,n),!this._hasRepeatedTemplateRenderCall(t)){var e=this.getViewItem(t);e.isCustom=!1;var r=document.createElement("DIV"),i=this.createCustomTaskInformation(t);e.isCustom=!0,n(r,i,this.onTaskTemplateContainerRendered.bind(this),t)}},o.prototype.onTaskTemplateContainerRendered=function(t,n){var e=this;if(this._hasRepeatedTemplateRenderCall(n)){t&&this._renderHelper.destroyTemplate(t);var r=this._getLastPendingTemplateFunc(n);setTimeout(function(){return e.createCustomTaskElement(n,r)})}else this.drawCustomTask(t,n);this._clearTemplateFuncsStack(n)},o.prototype._saveTemplateFuncToStack=function(t,n){var e,r;(e=(r=this._pendingTemplateFuncsToRender)[t])!==null&&e!==void 0||(r[t]=[]),this._pendingTemplateFuncsToRender[t].push(n)},o.prototype._clearTemplateFuncsStack=function(t){this._pendingTemplateFuncsToRender[t]=[]},o.prototype._hasRepeatedTemplateRenderCall=function(t){return this._pendingTemplateFuncsToRender[t].length>1},o.prototype._getLastPendingTemplateFunc=function(t){var n=this._pendingTemplateFuncsToRender[t];return n[n.length-1]},o.prototype.createCustomTaskWrapperElement=function(t,n){p.RenderElementUtils.create(n,t,this.taskArea,this.taskElements)},o.prototype.createCustomTaskVisualElement=function(t,n){return p.RenderElementUtils.create(n,t,this.taskElements[t])},o.prototype.drawCustomTask=function(t,n){var e=this;if(this.taskElements[n]){var r=this.getViewItem(n);if(r.visible=!!t.innerHTML,this.taskElements[n].innerHTML=t.innerHTML,r.size.height=this.taskElements[n].offsetHeight,r.size.width=this.taskElements[n].offsetWidth,this.destroyTemplate(this.taskElements[n]),this._taskRender.removeTaskElement(n),r.visible){var i=this.gridLayoutCalculator.getTaskWrapperElementInfo(n);this.createCustomTaskWrapperElement(n,i),this.taskElements[n].appendChild(t),this.attachEventsOnTask(n)}else{var s=this.getTaskDependencies(r.task.internalId);s.length&&(this._taskRender.addInvalidTaskDependencies(s),s.forEach(function(l){return e.recreateConnectorLineElement(l.internalId,!0)}))}this._taskRender.isHighlightRowElementAllowed(n)&&this._taskRender.createHighlightRowElement(n),r.selected&&this.createTaskSelectionElement(n)}},o.prototype.createCustomTaskInformation=function(t){var n=this.getTask(t),e=this.getViewItem(t),r=this.gridLayoutCalculator.getTaskWrapperElementInfo(t),i=this.gridLayoutCalculator.getTaskElementInfo(t,this.taskTitlePosition!==c.TaskTitlePosition.Inside);this.createCustomTaskWrapperElement(t,r);var s=this.createCustomTaskVisualElement(t,i);this._taskRender.createTaskTextElement(t,s);var l=this.getTaskResources(n.id);return{cellSize:this.tickSize,isMilestone:n.isMilestone(),isParent:!!(e!=null&&e.children.length),taskData:n,taskHTML:s,taskPosition:r.position,taskResources:l,taskSize:i.size}},o}();u.CustomTaskRender=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MainElementsRender=void 0;var c=function(){function p(){}return p.prototype.createMainElement=function(a){var o=document.createElement("DIV");return o.style.width=a.offsetWidth+"px",o.style.height=a.offsetHeight+"px",o},p.prototype.createHeader=function(){var a=document.createElement("DIV");return a.className="dx-gantt-header",a},p}();u.MainElementsRender=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaContainer=void 0;var c=function(){function p(a,o){this.element=a,this.onScrollHandler=function(){o.updateView()},this.element.addEventListener("scroll",this.onScrollHandler)}return Object.defineProperty(p.prototype,"scrollTop",{get:function(){return this.element.scrollTop},set:function(a){this.element.scrollTop=a},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scrollLeft",{get:function(){return this.element.scrollLeft},set:function(a){this.element.scrollLeft=a},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scrollWidth",{get:function(){return this.element.scrollWidth},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"scrollHeight",{get:function(){return this.element.scrollHeight},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"isExternal",{get:function(){return!1},enumerable:!1,configurable:!0}),p.prototype.getWidth=function(){return this.element.offsetWidth},p.prototype.getHeight=function(){return this.element.offsetHeight},p.prototype.getElement=function(){return this.element},p.prototype.detachEvents=function(){this.element.removeEventListener("scroll",this.onScrollHandler)},p}();u.TaskAreaContainer=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ElementTextHelper=void 0;var c=h(3),p=h(4),a=h(15),o=function(){function t(n){this.longestAbbrMonthName=null,this.longestMonthName=null,this.longestAbbrDayName=null;var e=document.createElement("canvas");this.textMeasureContext=e.getContext("2d"),this.cultureInfo=n}return t.prototype.setFont=function(n){var e=c.DomUtils.getCurrentStyle(n),r=e.font?e.font:e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+e.fontSize+" / "+e.lineHeight+" "+e.fontFamily;this.textMeasureContext.font=r},t.prototype.setSettings=function(n,e,r){this.startTime=n,this.viewType=e,this.modelItems=r},t.prototype.getScaleItemText=function(n,e){var r=this.viewType.valueOf()===e.valueOf();switch(e){case p.ViewType.TenMinutes:return this.getTenMinutesScaleItemText(n);case p.ViewType.Hours:case p.ViewType.SixHours:return this.getHoursScaleItemText(n);case p.ViewType.Days:return this.getDaysScaleItemText(n,r);case p.ViewType.Weeks:return this.getWeeksScaleItemText(n,r);case p.ViewType.Months:return this.getMonthsScaleItemText(n,r);case p.ViewType.Quarter:return this.getQuarterScaleItemText(n,r);case p.ViewType.Years:return this.getYearsScaleItemText(n);case p.ViewType.FiveYears:return this.getFiveYearsScaleItemText(n)}},t.prototype.getTenMinutesScaleItemText=function(n){var e=n.getMinutes()+1;return(10*Math.ceil(e/10)).toString()},t.prototype.getThirtyMinutesScaleItemText=function(n){return n.getMinutes()<30?"30":"60"},t.prototype.getHoursScaleItemText=function(n){var e=n.getHours(),r=this.getHourDisplayText(e),i=e<12?this.getAmText():this.getPmText();return this.getHoursScaleItemTextCore(r,i)},t.prototype.getDaysScaleItemText=function(n,e){return this.getDayTotalText(n,!0,e,e,!e)},t.prototype.getWeeksScaleItemText=function(n,e){var r=a.DateUtils.getDSTCorrectedTaskEnd(n,a.DateUtils.msPerWeek-a.DateUtils.msPerDay);return this.getWeeksScaleItemTextCore(this.getDayTotalText(n,e,!0,e,!e),this.getDayTotalText(r,e,!0,e,!e))},t.prototype.getMonthsScaleItemText=function(n,e){var r=this.getMonthNames(),i=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[n.getMonth()],i)},t.prototype.getQuarterScaleItemText=function(n,e){var r=this.getQuarterNames(),i=e?"":n.getFullYear().toString();return this.getMonthsScaleItemTextCore(r[Math.floor(n.getMonth()/3)],i)},t.prototype.getYearsScaleItemText=function(n){return n.getFullYear().toString()},t.prototype.getFiveYearsScaleItemText=function(n){return n.getFullYear().toString()+" - "+(n.getFullYear()+4).toString()},t.prototype.getHourDisplayText=function(n){return this.hasAmPm()?(n==0?12:n<=12?n:n-12).toString():n<10?"0"+n:n.toString()},t.prototype.getDayTotalText=function(n,e,r,i,s){var l=i?this.getAbbrMonthNames():this.getMonthNames(),g=r?this.getAbbrDayNames():this.getDayNames(),d=e?g[n.getDay()]:"",f=n.getDate(),y=l[n.getMonth()],m=s?n.getFullYear().toString():"";return this.getDayTotalTextCore(d,f.toString(),y,m)},t.prototype.getTaskText=function(n){var e=this.modelItems[n];return e?e.task.title:""},t.prototype.getTaskVisibility=function(n){var e=this.modelItems[n];return!!e&&e.getVisible()},t.prototype.hasAmPm=function(){return this.getAmText().length>0||this.getPmText().length>0},t.prototype.getScaleItemTextTemplate=function(n){switch(n){case p.ViewType.TenMinutes:return"00";case p.ViewType.Hours:case p.ViewType.SixHours:return this.getHoursScaleItemTextCore("00",this.getAmText());case p.ViewType.Days:return this.getDayTextTemplate();case p.ViewType.Weeks:return this.getWeekTextTemplate();case p.ViewType.Months:return this.getMonthsScaleItemTextCore(this.getLongestMonthName(),"");case p.ViewType.Quarter:return"Q4";case p.ViewType.Years:return"0000"}},t.prototype.getDayTextTemplate=function(){return this.getDayTotalTextCore(this.getLongestAbbrDayName(),"00",this.getLongestAbbrMonthName(),"")},t.prototype.getWeekTextTemplate=function(){var n=this.getDayTextTemplate();return this.getWeeksScaleItemTextCore(n,n)},t.prototype.getHoursScaleItemTextCore=function(n,e){return n+":00"+(this.hasAmPm()?" "+e:"")},t.prototype.getDayTotalTextCore=function(n,e,r,i){var s=n.length>0?n+", ":"";return s+=e+" "+r,s+=i.length>0?" "+i:""},t.prototype.getWeeksScaleItemTextCore=function(n,e){return n+" - "+e},t.prototype.getMonthsScaleItemTextCore=function(n,e){var r=n;return e.length>0&&(r+=" "+e),r},t.prototype.getLongestAbbrMonthName=function(){return this.longestAbbrMonthName==null&&(this.longestAbbrMonthName=this.getLongestText(this.getAbbrMonthNames())),this.longestAbbrMonthName},t.prototype.getLongestMonthName=function(){return this.longestMonthName==null&&(this.longestMonthName=this.getLongestText(this.getMonthNames())),this.longestMonthName},t.prototype.getLongestAbbrDayName=function(){return this.longestAbbrDayName==null&&(this.longestAbbrDayName=this.getLongestText(this.getAbbrDayNames())),this.longestAbbrDayName},t.prototype.getLongestText=function(n){var e=this,r="",i=0;return n.forEach(function(s){var l=e.getTextWidth(s);l>i&&(i=l,r=s)}),r},t.prototype.getTextWidth=function(n){return Math.round(this.textMeasureContext.measureText(n).width)},t.prototype.getAmText=function(){return this.cultureInfo.amText},t.prototype.getPmText=function(){return this.cultureInfo.pmText},t.prototype.getQuarterNames=function(){return this.cultureInfo.quarterNames},t.prototype.getMonthNames=function(){return this.cultureInfo.monthNames},t.prototype.getDayNames=function(){return this.cultureInfo.dayNames},t.prototype.getAbbrMonthNames=function(){return this.cultureInfo.abbrMonthNames},t.prototype.getAbbrDayNames=function(){return this.cultureInfo.abbrDayNames},t}();u.ElementTextHelper=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Settings=void 0;var c=h(1),p=h(8),a=h(4),o=h(186),t=h(68),n=h(187),e=h(188),r=function(){function i(){this.viewType=void 0,this.taskTitlePosition=a.TaskTitlePosition.Inside,this.showResources=!0,this.showDependencies=!0,this.areHorizontalBordersEnabled=!0,this.areVerticalBordersEnabled=!0,this.areAlternateRowsEnabled=!0,this.allowSelectTask=!0,this.firstDayOfWeek=0,this.editing=new o.EditingSettings,this.validation=new n.ValidationSettings,this.stripLines=new t.StripLineSettings,this.viewTypeRange=new e.ViewTypeRangeSettings}return i.parse=function(s){var l=new i;return s&&((0,c.isDefined)(s.viewType)&&(l.viewType=s.viewType),(0,c.isDefined)(s.taskTitlePosition)&&(l.taskTitlePosition=s.taskTitlePosition),(0,c.isDefined)(s.showResources)&&(l.showResources=s.showResources),(0,c.isDefined)(s.showDependencies)&&(l.showDependencies=s.showDependencies),(0,c.isDefined)(s.areHorizontalBordersEnabled)&&(l.areHorizontalBordersEnabled=s.areHorizontalBordersEnabled),(0,c.isDefined)(s.areVerticalBordersEnabled)&&(l.areHorizontalBordersEnabled=s.areHorizontalBordersEnabled),(0,c.isDefined)(s.areAlternateRowsEnabled)&&(l.areAlternateRowsEnabled=s.areAlternateRowsEnabled),(0,c.isDefined)(s.allowSelectTask)&&(l.allowSelectTask=s.allowSelectTask),(0,c.isDefined)(s.firstDayOfWeek)&&(l.firstDayOfWeek=s.firstDayOfWeek),(0,c.isDefined)(s.startDateRange)&&(l.startDateRange=new Date(s.startDateRange)),(0,c.isDefined)(s.endDateRange)&&(l.endDateRange=new Date(s.endDateRange)),(0,c.isDefined)(s.editing)&&(l.editing=o.EditingSettings.parse(s.editing)),(0,c.isDefined)(s.validation)&&(l.validation=n.ValidationSettings.parse(s.validation)),(0,c.isDefined)(s.stripLines)&&(l.stripLines=t.StripLineSettings.parse(s.stripLines)),(0,c.isDefined)(s.viewTypeRange)&&(l.viewTypeRange=e.ViewTypeRangeSettings.parse(s.viewTypeRange)),(0,c.isDefined)(s.taskTooltipContentTemplate)&&(l.taskTooltipContentTemplate=s.taskTooltipContentTemplate),(0,c.isDefined)(s.taskProgressTooltipContentTemplate)&&(l.taskProgressTooltipContentTemplate=s.taskProgressTooltipContentTemplate),(0,c.isDefined)(s.taskTimeTooltipContentTemplate)&&(l.taskTimeTooltipContentTemplate=s.taskTimeTooltipContentTemplate),(0,c.isDefined)(s.taskContentTemplate)&&(l.taskContentTemplate=s.taskContentTemplate),(0,c.isDefined)(s.cultureInfo)&&(l.cultureInfo=s.cultureInfo)),l},i.prototype.equal=function(s){var l=!0;return l=(l=(l=(l=(l=(l=(l=(l=(l=(l=(l=(l=l&&this.viewType===s.viewType)&&this.taskTitlePosition===s.taskTitlePosition)&&this.showResources===s.showResources)&&this.showDependencies===s.showDependencies)&&this.areHorizontalBordersEnabled===s.areHorizontalBordersEnabled)&&this.areAlternateRowsEnabled===s.areAlternateRowsEnabled)&&this.allowSelectTask===s.allowSelectTask)&&this.editing.equal(s.editing))&&this.validation.equal(s.validation))&&this.stripLines.equal(s.stripLines))&&p.DateTimeUtils.areDatesEqual(this.startDateRange,s.startDateRange))&&p.DateTimeUtils.areDatesEqual(this.endDateRange,s.endDateRange)},i}();u.Settings=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.EditingSettings=void 0;var c=h(1),p=function(){function a(){this.enabled=!1,this.allowDependencyDelete=!0,this.allowDependencyInsert=!0,this.allowTaskDelete=!0,this.allowTaskInsert=!0,this.allowTaskUpdate=!0,this.allowResourceDelete=!0,this.allowResourceInsert=!0,this.allowResourceUpdate=!0,this.allowTaskResourceUpdate=!0,this.taskHoverDelay=0}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.enabled)&&(t.enabled=o.enabled),(0,c.isDefined)(o.allowDependencyDelete)&&(t.allowDependencyDelete=o.allowDependencyDelete),(0,c.isDefined)(o.allowDependencyInsert)&&(t.allowDependencyInsert=o.allowDependencyInsert),(0,c.isDefined)(o.allowTaskDelete)&&(t.allowTaskDelete=o.allowTaskDelete),(0,c.isDefined)(o.allowTaskInsert)&&(t.allowTaskInsert=o.allowTaskInsert),(0,c.isDefined)(o.allowTaskUpdate)&&(t.allowTaskUpdate=o.allowTaskUpdate),(0,c.isDefined)(o.allowResourceDelete)&&(t.allowResourceDelete=o.allowResourceDelete),(0,c.isDefined)(o.allowResourceInsert)&&(t.allowResourceInsert=o.allowResourceInsert),(0,c.isDefined)(o.allowResourceUpdate)&&(t.allowResourceUpdate=o.allowResourceUpdate),(0,c.isDefined)(o.allowTaskResourceUpdate)&&(t.allowTaskResourceUpdate=o.allowTaskResourceUpdate),(0,c.isDefined)(o.taskHoverDelay)&&(t.taskHoverDelay=o.taskHoverDelay)),t},a.prototype.equal=function(o){var t=!0;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t&&this.enabled===o.enabled)&&this.allowDependencyDelete===o.allowDependencyDelete)&&this.allowDependencyInsert===o.allowDependencyInsert)&&this.allowTaskDelete===o.allowTaskDelete)&&this.allowTaskInsert===o.allowTaskInsert)&&this.allowTaskUpdate===o.allowTaskUpdate)&&this.allowResourceDelete===o.allowResourceDelete)&&this.allowResourceInsert===o.allowResourceInsert)&&this.allowResourceUpdate===o.allowResourceUpdate)&&this.allowTaskResourceUpdate===o.allowTaskResourceUpdate},a}();u.EditingSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationSettings=void 0;var c=h(1),p=function(){function a(){this.validateDependencies=!1,this.autoUpdateParentTasks=!1,this.enablePredecessorGap=!1}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.validateDependencies)&&(t.validateDependencies=o.validateDependencies),(0,c.isDefined)(o.autoUpdateParentTasks)&&(t.autoUpdateParentTasks=o.autoUpdateParentTasks),(0,c.isDefined)(o.enablePredecessorGap)&&(t.enablePredecessorGap=o.enablePredecessorGap)),t},a.prototype.equal=function(o){var t=!0;return t=(t=(t=t&&this.validateDependencies===o.validateDependencies)&&this.autoUpdateParentTasks===o.autoUpdateParentTasks)&&this.enablePredecessorGap===o.enablePredecessorGap},a}();u.ValidationSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ViewTypeRangeSettings=void 0;var c=h(1),p=h(4),a=function(){function o(){this.min=p.ViewType.TenMinutes,this.max=p.ViewType.Years}return o.parse=function(t){var n=new o;return t&&((0,c.isDefined)(t.min)&&(n.min=t.min),(0,c.isDefined)(t.max)&&(n.max=t.max)),n},o.prototype.equal=function(t){var n=!0;return n=(n=n&&this.min===t.min)&&this.max===t.max},o}();u.ViewTypeRangeSettings=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskEditSettings=void 0;var c=h(0),p=h(1),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.parse=function(n){var e=new t;return n&&((0,p.isDefined)(n.getCommandManager)&&(e.getCommandManager=n.getCommandManager),(0,p.isDefined)(n.getViewModel)&&(e.getViewModel=n.getViewModel),(0,p.isDefined)(n.getGanttSettings)&&(e.getGanttSettings=n.getGanttSettings),(0,p.isDefined)(n.getRenderHelper)&&(e.getRenderHelper=n.getRenderHelper),(0,p.isDefined)(n.destroyTemplate)&&(e.destroyTemplate=n.destroyTemplate),(0,p.isDefined)(n.formatDate)&&(e.formatDate=n.formatDate),(0,p.isDefined)(n.getModelManipulator)&&(e.getModelManipulator=n.getModelManipulator),(0,p.isDefined)(n.getValidationController)&&(e.getValidationController=n.getValidationController)),e},t}(h(65).TooltipSettings);u.TaskEditSettings=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationController=void 0;var c=h(0),p=h(1),a=h(15),o=h(23),t=h(53),n=h(19),e=h(8),r=h(191),i=function(){function s(l){this.lockPredecessorToSuccessor=!0,this.settings=l}return Object.defineProperty(s.prototype,"viewModel",{get:function(){return this.settings.getViewModel()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"history",{get:function(){return this.settings.getHistory()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"modelManipulator",{get:function(){return this.settings.getModelManipulator()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"range",{get:function(){return this.settings.getRange()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"validationSettings",{get:function(){return this.settings.getValidationSettings()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"_parentAutoCalc",{get:function(){return this.viewModel.parentAutoCalc},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"enablePredecessorGap",{get:function(){return this.viewModel.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isValidateDependenciesRequired",{get:function(){return this.settings.getIsValidateDependenciesRequired()},enumerable:!1,configurable:!0}),s.prototype.updateOwnerInAutoParentMode=function(){this.settings.updateOwnerInAutoParentMode()},s.prototype.checkStartDependencies=function(l,g){var d=this,f=[],y=this.viewModel.tasks.getItemById(l);return this.viewModel.dependencies.items.filter(function(m){return m.successorId===l}).forEach(function(m){var v=d.viewModel.tasks.getItemById(m.predecessorId);(m.type===o.DependencyType.FS&&v.end>g||m.type===o.DependencyType.SS&&v.start>g)&&f.push(new r.ValidationError(m.internalId,!0)),(m.type===o.DependencyType.FS&&v.end.valueOf()===y.start.valueOf()&&g>v.end||m.type===o.DependencyType.SS&&v.start.valueOf()===y.start.valueOf()&&g>v.start)&&f.push(new r.ValidationError(m.internalId))}),f},s.prototype.checkEndDependencies=function(l,g){var d=this,f=[],y=this.viewModel.tasks.getItemById(l);return this.viewModel.dependencies.items.filter(function(m){return m.successorId===l}).forEach(function(m){var v=d.viewModel.tasks.getItemById(m.predecessorId);(m.type===o.DependencyType.SF&&v.start>g||m.type===o.DependencyType.FF&&v.end>g)&&f.push(new r.ValidationError(m.internalId,!0)),(m.type===o.DependencyType.SF&&v.start.valueOf()===y.end.valueOf()&&g>v.start||m.type===o.DependencyType.FF&&v.end.valueOf()===y.end.valueOf()&&g>v.end)&&f.push(new r.ValidationError(m.internalId))}),f},s.prototype.moveEndDependTasks=function(l,g,d){var f=this;d===void 0&&(d=null);var y=this.viewModel.dependencies.items.filter(function(v){return v.predecessorId===l&&!v.isStartDependency}),m=this.viewModel.tasks.getItemById(l);y.forEach(function(v){var T=f.viewModel.tasks.getItemById(v.successorId);if(!(!T||d&&f.viewModel.checkParent(T.internalId,d)||T.parentId===m.id)){var b=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),w=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),A=m.end.getTime()-g.getTime(),I=f.enablePredecessorGap?m.end:g;if(v.type===o.DependencyType.FS&&(T.start<I||f.lockPredecessorToSuccessor&&T.start.getTime()===g.getTime())?(w.start.setTime(m.end.getTime()),w.end.setTime(w.start.getTime()+(T.end.getTime()-T.start.getTime())),f.correctMoving(T.internalId,w)):v.type===o.DependencyType.FF&&(T.end<I||f.lockPredecessorToSuccessor&&T.end.getTime()===g.getTime())?(w.start.setTime(m.end.getTime()-(T.end.getTime()-T.start.getTime())),w.end.setTime(m.end.getTime()),f.correctMoving(T.internalId,w)):f.enablePredecessorGap||(w.start.setTime(T.start.getTime()+A),w.end.setTime(T.end.getTime()+A)),!b.equal(w)){var _={start:w.start,end:w.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,v.successorId,_)),f.moveRelatedTasks(v,b,T,w)}}})},s.prototype.moveStartDependTasks=function(l,g,d){var f=this;d===void 0&&(d=null);var y=this.viewModel.dependencies.items.filter(function(v){return v.predecessorId===l&&v.isStartDependency}),m=this.viewModel.tasks.getItemById(l);y.forEach(function(v){var T=f.viewModel.tasks.getItemById(v.successorId);if(!(!T||d&&f.viewModel.checkParent(T.internalId,d)||T.parentId===m.id)){var b=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),w=new n.DateRange(new Date(T.start.getTime()),new Date(T.end.getTime())),A=m.start.getTime()-g.getTime(),I=f.enablePredecessorGap?m.start:g;if(v.type===o.DependencyType.SF&&(T.end<I||f.lockPredecessorToSuccessor&&T.end.getTime()===g.getTime())?(w.start.setTime(m.start.getTime()-(T.end.getTime()-T.start.getTime())),w.end.setTime(m.start.getTime()),f.correctMoving(T.internalId,w)):v.type===o.DependencyType.SS&&(T.start<I||f.lockPredecessorToSuccessor&&T.start.getTime()===g.getTime())?(w.start.setTime(m.start.getTime()),w.end.setTime(m.start.getTime()+(T.end.getTime()-T.start.getTime())),f.correctMoving(T.internalId,w)):f.enablePredecessorGap||(w.start.setTime(T.start.getTime()+A),w.end.setTime(T.end.getTime()+A)),!b.equal(w)){var _={start:w.start,end:w.end};f.history.addAndRedo(new t.UpdateTaskHistoryItem(f.modelManipulator,v.successorId,_)),f.moveRelatedTasks(v,b,T,w)}}})},s.prototype.moveRelatedTasks=function(l,g,d,f){var y=f.start.getTime()-g.start.getTime();this.correctParentsOnChildMoving(d.internalId,y),this.moveStartDependTasks(l.successorId,g.start),this.moveEndDependTasks(l.successorId,g.end)},s.prototype.getCorrectDateRange=function(l,g,d){var f=this,y=new n.DateRange(new Date(g),new Date(d));return c.__spreadArray(c.__spreadArray([],this.checkStartDependencies(l,y.start),!0),this.checkEndDependencies(l,y.end),!0).filter(function(m){return m.critical}).forEach(function(m){var v=f.viewModel.dependencies.getItemById(m.dependencyId),T=f.viewModel.tasks.getItemById(v.predecessorId);v.type===o.DependencyType.FS&&y.start<T.end&&y.start.setTime(T.end.getTime()),v.type===o.DependencyType.SS&&y.start<T.start&&y.start.setTime(T.start.getTime()),v.type===o.DependencyType.FF&&y.end<T.end&&y.end.setTime(T.end.getTime()),v.type===o.DependencyType.SF&&y.end<T.start&&y.end.setTime(T.start.getTime())}),y},s.prototype.correctMoving=function(l,g){var d=this,f=g.end.getTime()-g.start.getTime();return c.__spreadArray(c.__spreadArray([],this.checkStartDependencies(l,g.start),!0),this.checkEndDependencies(l,g.end),!0).filter(function(y){return y.critical}).forEach(function(y){var m=d.viewModel.dependencies.getItemById(y.dependencyId),v=d.viewModel.tasks.getItemById(m.predecessorId);m.type===o.DependencyType.FS&&g.start<v.end&&(g.start.setTime(v.end.getTime()),g.end.setTime(g.start.getTime()+f)),m.type===o.DependencyType.SS&&g.start<v.start&&(g.start.setTime(v.start.getTime()),g.end.setTime(g.start.getTime()+f)),m.type===o.DependencyType.FF&&g.end<v.end&&(g.end.setTime(v.end.getTime()),g.start.setTime(g.end.getTime()-f)),m.type===o.DependencyType.SF&&g.end<v.start&&(g.end.setTime(v.start.getTime()),g.start.setTime(g.end.getTime()-f))}),g},s.prototype.recalculateParents=function(l,g){for(var d=l&&l.parent;d&&d.task;){for(var f=d.children,y=this.range.end,m=this.range.start,v=0,T=0,b={id:d.task.internalId},w=0;w<f.length;w++){var A=f[w].task;if(A.isValid()){y=e.DateTimeUtils.getMinDate(y,A.start),m=e.DateTimeUtils.getMaxDate(m,A.end);var I=A.getDuration();v+=A.progress*I,T+=I}}e.DateTimeUtils.areDatesEqual(d.task.start,y)||(b.start=y),e.DateTimeUtils.areDatesEqual(d.task.end,m)||(b.end=m),b.oldStart=d.task.start,b.oldEnd=d.task.end,(v=T>0?Math.round(v/T):0)!==d.task.progress&&(b.progress=v),g(b),d=d.parent}},s.prototype.updateParentsRangeByChild=function(l){var g=this;this.recalculateParents(this.viewModel.findItem(l),function(d){if((0,p.isDefined)(d.id)){var f=g.history,y=g.modelManipulator;(0,p.isDefined)(d.start)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(y,d.id,{start:d.start})),g.moveStartDependTasks(d.id,d.oldStart)),(0,p.isDefined)(d.end)&&(f.addAndRedo(new t.UpdateTaskHistoryItem(y,d.id,{end:d.end})),g.moveEndDependTasks(d.id,d.oldEnd)),(0,p.isDefined)(d.progress)&&f.addAndRedo(new t.UpdateTaskHistoryItem(y,d.id,{progress:d.progress}))}})},s.prototype.updateChildRangeByParent=function(l,g,d){var f=this.viewModel.findItem(l);if(f&&f.children.length!==0)for(var y=f.children,m=0;m<y.length;m++){var v=y[m].task,T=new Date(v.start.getTime()+g),b=a.DateUtils.getRangeMSPeriod(v.start,v.end),w=a.DateUtils.getDSTCorrectedTaskEnd(T,b);d.push({id:v.internalId,start:v.start,end:v.end}),this.history.addAndRedo(new t.UpdateTaskHistoryItem(this.modelManipulator,v.internalId,{start:T,end:w})),this.updateChildRangeByParent(v.internalId,g,d)}},s.prototype.updateParentsIfRequired=function(l){this._parentAutoCalc&&(this.updateParentsRangeByChild(l),this.updateOwnerInAutoParentMode())},s.prototype.correctParentsOnChildMoving=function(l,g){var d=this;if(this._parentAutoCalc&&g!==0){this.updateParentsRangeByChild(l);var f=[];this.updateChildRangeByParent(l,g,f),this.isValidateDependenciesRequired&&f.forEach(function(y){d.moveStartDependTasks(y.id,y.start,l),d.moveEndDependTasks(y.id,y.end,l)}),this.updateOwnerInAutoParentMode()}},s.prototype.canCreateDependency=function(l,g){return this.viewModel.canCreateDependency(l,g)},s}();u.ValidationController=i},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationError=void 0;var c=function(p,a){a===void 0&&(a=!1),this.dependencyId=p,this.critical=a};u.ValidationError=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ValidationControllerSettings=void 0;var c=h(1),p=function(){function a(){}return a.parse=function(o){var t=new a;return o&&((0,c.isDefined)(o.getViewModel)&&(t.getViewModel=o.getViewModel),(0,c.isDefined)(o.getHistory)&&(t.getHistory=o.getHistory),(0,c.isDefined)(o.getModelManipulator)&&(t.getModelManipulator=o.getModelManipulator),(0,c.isDefined)(o.getRange)&&(t.getRange=o.getRange),(0,c.isDefined)(o.getValidationSettings)&&(t.getValidationSettings=o.getValidationSettings),(0,c.isDefined)(o.updateOwnerInAutoParentMode)&&(t.updateOwnerInAutoParentMode=o.updateOwnerInAutoParentMode),(0,c.isDefined)(o.getIsValidateDependenciesRequired)&&(t.getIsValidateDependenciesRequired=o.getIsValidateDependenciesRequired)),t},a}();u.ValidationControllerSettings=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModel=void 0;var c=h(21),p=h(194),a=h(196),o=h(197),t=h(198),n=h(199),e=h(200),r=h(1),i=h(2),s=h(69),l=h(48),g=h(70),d=function(){function f(y,m,v,T,b,w,A){this._fLockCount=0,this.lockChangesProcessing=!1,this.owner=y,this.tasks=new p.TaskCollection,this.tasks.importFromObject(m),this.dependencies=new a.DependencyCollection,this.dependencies.importFromObject(v),this.resources=new c.ResourceCollection,this.resources.importFromObject(T),this.assignments=new o.ResourceAssignmentCollection,this.assignments.importFromObject(b),this._itemList=new Array,this._viewItemList=new Array,this._workTimeCalculator=new e.WorkingTimeCalculator(w,A),this.updateModel(!0)}return Object.defineProperty(f.prototype,"renderHelper",{get:function(){return this.owner.renderHelper},enumerable:!1,configurable:!0}),f.prototype.updateModel=function(y){this._itemList.splice(0,this._itemList.length);for(var m=this.tasks.items,v=0;v<m.length;v++){var T=m[v];T&&this._itemList.push(new t.ViewVisualModelItem(T,this.getAssignedResources(T)))}this.createHierarchy(y),this.populateItemsForView(),this.owner&&this.owner.currentSelectedTaskID&&this.changeTaskSelected(this.owner.currentSelectedTaskID,!0)},f.prototype.createHierarchy=function(y){var m=this;this.root=new t.ViewVisualModelItem(null,null);for(var v=this._itemList,T=v.reduce(function(_,M){var O,N=(O=M.task)===null||O===void 0?void 0:O.internalId;return(0,r.isDefined)(N)&&(_[N]=M),_},{}),b=this.requireFirstLoadParentAutoCalc&&y,w=0;w<v.length;w++){var A=v[w],I=T[A.task.parentId]||this.root;A.parent=I,I.addChild(A),b&&this.owner.validationController.recalculateParents(A,function(_){if((0,r.isDefined)(_.id)){var M=m.tasks.getItemById(_.id);(0,r.isDefined)(_.start)&&(M.start=_.start),(0,r.isDefined)(_.end)&&(M.end=_.end),(0,r.isDefined)(_.progress)&&(M.progress=_.progress)}})}b&&this.owner.dispatcher.notifyParentDataRecalculated(this.getCurrentTaskData())},f.prototype.getCurrentTaskData=function(){var y=this;return this.tasks.items.map(function(m){return y.getTaskObjectForDataSource(m)})},f.prototype.getTaskObjectForDataSource=function(y){var m=y.parentId&&this.tasks.getItemById(y.parentId),v=this.getRootTaskId(),T=v&&y.parentId===v?y.parentId:m==null?void 0:m.id;return{id:y.id,start:y.start,end:y.end,duration:y.duration,description:y.description,parentId:T,progress:y.progress,color:y.color,taskType:y.taskType,title:y.title,customFields:y.customFields,expanded:y.expanded}},f.prototype.getDependencyObjectForDataSource=function(y){var m=y instanceof s.Dependency?y:this.getItemByPublicId("dependency",y);if(m){var v=this.convertInternalToPublicKey("task",m.predecessorId),T=this.convertInternalToPublicKey("task",m.successorId);return{id:m.id,predecessorId:(0,r.isDefined)(v)?v:m.predecessorId,successorId:(0,r.isDefined)(T)?T:m.successorId,type:m.type}}return null},f.prototype.getResourceObjectForDataSource=function(y){var m=y instanceof l.Resource?y:this.getItemByPublicId("resource",y);return m?{id:m.id,text:m.text,color:m.color}:null},f.prototype.getResourceAssignmentObjectForDataSource=function(y){var m=y instanceof g.ResourceAssignment?y:this.getItemByPublicId("assignment",y);if(m){var v=this.convertInternalToPublicKey("task",m.taskId),T=this.convertInternalToPublicKey("resource",m.resourceId);return{id:m.id,taskId:(0,r.isDefined)(v)?v:m.taskId,resourceId:(0,r.isDefined)(T)?T:m.resourceId}}return null},f.prototype.populateItemsForView=function(){this._viewItemList.splice(0,this._viewItemList.length),this.populateVisibleItems(this.root),this.updateVisibleItemDependencies()},f.prototype.populateVisibleItems=function(y){var m=this,v=y===this.root;y&&(y.task||v)&&(v||(this._viewItemList.push(y),y.visibleIndex=this._viewItemList.length-1),(y.getExpanded()||y===this.root)&&y.children.forEach(function(T){return m.populateVisibleItems(T)}))},f.prototype.updateVisibleItemDependencies=function(){for(var y=this._viewItemList,m=0;m<y.length;m++){var v=y[m],T=this.getTasVisibleDependencies(v.task);v.setDependencies(T)}},f.prototype.getAssignedResources=function(y){var m=this,v=new c.ResourceCollection;return this.assignments.items.filter(function(T){return T.taskId==y.internalId}).forEach(function(T){v.add(m.resources.getItemById(T.resourceId))}),v},f.prototype.getTasVisibleDependencies=function(y){for(var m=new Array,v=y.internalId,T=this.dependencies.items.filter(function(I){return I.successorId==v}),b=0;b<T.length;b++){var w=T[b],A=this.findItem(w.predecessorId);A&&A.getVisible()&&m.push(new n.ViewVisualModelDependencyInfo(w.internalId,A,w.type))}return m},f.prototype.changeTaskExpanded=function(y,m){var v=this.tasks.getItemById(String(y));v&&(v.expanded=m,this.changed())},f.prototype.changeTaskVisibility=function(y,m){var v=this.findItem(y);v&&(v.visible=m,this.changed())},f.prototype.changeTaskSelected=function(y,m){var v=this._itemList.filter(function(w){return w.task&&w.task.internalId===y})[0];if(v){v.selected=m;var T=this.findItem(y),b=T&&T.visibleIndex;b>-1&&this.renderHelper.recreateTaskElement(b)}},f.prototype.beginUpdate=function(){this._fLockCount++},f.prototype.endUpdate=function(){this._fLockCount--,this._fLockCount==0&&this.changed()},f.prototype.compareTaskOrder=function(y){var m=new p.TaskCollection;m.importFromObject(y);var v=m.items,T=this.tasks.items;if(v.length!==T.length)return!1;for(var b=0;b<v.length;b++){var w=v[b],A=T[b];if(w.id!==A.id)return!1}return!0},f.prototype.refreshTaskDataIfRequires=function(y){var m=!this.lockChangesProcessing&&!this.compareTaskOrder(y);if(m){var v=this.saveTaskInternalIds();this.tasks.importFromObject(y),this.restoreTaskInternalIds(v),this.updateModel()}return m},f.prototype.saveTaskInternalIds=function(){var y={};return this.tasks.items.map(function(m){return y[m.id]=m.internalId}),y},f.prototype.restoreTaskInternalIds=function(y){for(var m in y)if(Object.prototype.hasOwnProperty.call(y,m)){var v=this.tasks.getItemByPublicId(m);v&&(v.internalId=y[m])}},f.prototype.canCreateDependency=function(y,m){if(!y||!m||y===m)return!1;var v=!1;if(this.enableDependencyValidation){var T=this.getDependentTasksHash();v=this.parentAutoCalc?this.checkTasksInterdependence(y,m,T)||this.checkParent(y,m)||this.checkParent(m,y):this.checkDependencyChain([y],[m],T,[])}return!v},f.prototype.checkParent=function(y,m){return this.getTaskTreeLine(y).indexOf(m)>-1},f.prototype.getTaskTreeLine=function(y){var m=[y],v=this.findItem(y);if(v)for(v=v.parent;v!=null&&v.task;)m.push(v==null?void 0:v.task.internalId),v=v.parent;else for(var T=this.tasks.getItemById(y),b=this.tasks.getItemById(T==null?void 0:T.parentId);b;)m.push(b.id),b=this.tasks.getItemById(b.parentId);return m},f.prototype.getDependentTasksHash=function(){var y={};return this.dependencies.items.forEach(function(m){var v,T,b=m.predecessorId,w=m.successorId;(v=y[b])!==null&&v!==void 0||(y[b]=[]),y[b].indexOf(w)<0&&y[b].push(w),(T=y[w])!==null&&T!==void 0||(y[w]=[]),y[w].indexOf(b)<0&&y[w].push(b)}),y},f.prototype.checkTasksInterdependence=function(y,m,v){for(var T,b,w=this.getTaskTreeLine(y).reverse(),A=this.getTaskTreeLine(m).reverse(),I=0;I<w.length-1;I++){var _=w[I],M=A.indexOf(_);M>-1&&(T=w[I+1],b=A[M+1])}return T||b||(T=w[0],b=A[0]),this.checkDependencyChain(this.getBranchIds(T),this.getBranchIds(b),v,[])},f.prototype.checkDependencyChain=function(y,m,v,T){if(y.some(function(A){return m.indexOf(A)>-1}))return!0;T.push.apply(T,y);for(var b=0;b<y.length;b++){var w=v[y[b]];if(w&&this.checkDependencyChain(w.filter(function(A){return T.indexOf(A)===-1}),m,v,T))return!0}return!1},f.prototype.getBranchIds=function(y){var m=this,v=[y],T=this.findItem(y),b=T==null?void 0:T.children;return b&&b.forEach(function(w){var A,I=(A=w.task)===null||A===void 0?void 0:A.internalId;I&&(v=v.concat(m.getBranchIds(I)))}),v},f.prototype.getTasksExpandedState=function(){var y=this.tasks.items,m={};return y.forEach(function(v){return m[v.id]=v.expanded}),m},f.prototype.applyTasksExpandedState=function(y){if(y){for(var m in this.beginUpdate(),y)Object.prototype.hasOwnProperty.call(y,m)&&this.changeTaskExpanded(m,y[m]);this.endUpdate()}},f.prototype.changed=function(){this._fLockCount===0&&(this.populateItemsForView(),this.owner&&this.owner.onVisualModelChanged&&this.owner.onVisualModelChanged())},f.prototype.findItem=function(y){return this._viewItemList.filter(function(m){return m.task&&m.task.internalId===y})[0]},Object.defineProperty(f.prototype,"items",{get:function(){return this._viewItemList},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"itemCount",{get:function(){return this.items.length},enumerable:!1,configurable:!0}),f.prototype.getTaskVisibility=function(y){var m=this.findItem(y);return!!m&&m.getVisible()},f.prototype.getTaskSelected=function(y){var m=this.findItem(y);return!!m&&m.selected},Object.defineProperty(f.prototype,"noWorkingIntervals",{get:function(){return this._workTimeCalculator.noWorkingIntervals},enumerable:!1,configurable:!0}),f.prototype.updateRange=function(y){this._workTimeCalculator.updateRange(y)},f.prototype.taskHasChildrenByIndex=function(y){return this._viewItemList[y].children.length>0},f.prototype.taskHasChildren=function(y){var m=this.findItem(y);return m&&m.children.length>0},Object.defineProperty(f.prototype,"enableDependencyValidation",{get:function(){var y,m=this.owner&&this.owner.settings;return(y=m==null?void 0:m.validation)===null||y===void 0?void 0:y.validateDependencies},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"parentAutoCalc",{get:function(){var y=this.owner&&this.owner.settings;return y&&y.validation&&y.validation.autoUpdateParentTasks},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"enablePredecessorGap",{get:function(){var y=this.owner&&this.owner.settings;return y&&y.validation&&y.validation.enablePredecessorGap},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"requireFirstLoadParentAutoCalc",{get:function(){return this.parentAutoCalc&&this.owner.requireFirstLoadParentAutoCalc()},enumerable:!1,configurable:!0}),f.prototype.isTaskToCalculateByChildren=function(y){return this.parentAutoCalc&&this.taskHasChildren(y)},f.prototype.hasTasks=function(){return this.tasks.length>0},f.prototype.getDataUpdateErrorCallback=function(){return this.owner.getDataUpdateErrorCallback&&this.owner.getDataUpdateErrorCallback()},f.prototype.convertPublicToInternalKey=function(y,m){var v=this.getItemByPublicId(y,m);return v&&v.internalId},f.prototype.convertInternalToPublicKey=function(y,m){var v=this.getItemByInternalId(y,m);return v&&v.id},f.prototype.getItemByPublicId=function(y,m){var v=m.toString();switch(y){case"task":return this.tasks.getItemByPublicId(v);case"dependency":return this.dependencies.getItemByPublicId(v);case"resource":return this.resources.getItemByPublicId(v);case"assignment":return this.assignments.getItemByPublicId(v)}return null},f.prototype.getItemByInternalId=function(y,m){switch(y){case"task":return this.tasks.getItemById(m);case"dependency":return this.dependencies.getItemById(m);case"resource":return this.resources.getItemById(m);case"assignment":return this.assignments.getItemById(m)}return null},f.prototype.findAssignment=function(y,m){var v=this.convertPublicToInternalKey("resource",y),T=this.convertPublicToInternalKey("task",m);return this.assignments.items.filter(function(b){return b.resourceId===v&&b.taskId===T})[0]},f.prototype.findAllTaskAssignments=function(y){return this.assignments.items.filter(function(m){return m.taskId===y})},f.prototype.getAllVisibleTaskIndices=function(y,m){var v,T=[];y!=null||(y=0),m!=null||(m=this._viewItemList.length-1);for(var b=y;b<=m;b++){var w=this._viewItemList[b];w!=null&&w.getVisible()&&(!((v=w==null?void 0:w.task)===null||v===void 0)&&v.isValid)&&T.push(b)}return T},f.prototype.getVisibleTasks=function(){var y=this;return this.tasks.items.filter(function(m){return m&&y.getTaskVisibility(m.internalId)&&m.isValid()})},f.prototype.getVisibleDependencies=function(){var y=this.getVisibleTasks().map(function(m){return m.internalId});return this.dependencies.items.filter(function(m){return m&&y.indexOf(m.successorId)>-1&&y.indexOf(m.predecessorId)>-1})},f.prototype.getVisibleResourceAssignments=function(){var y=this.getVisibleTasks().map(function(m){return m.internalId});return this.assignments.items.filter(function(m){return m&&y.indexOf(m.taskId)>-1})},f.prototype.getVisibleResources=function(){for(var y=[],m=this.getVisibleResourceAssignments(),v=0;v<m.length;v++){var T=this.getItemByInternalId("resource",m[v].resourceId);T&&y.indexOf(T)===-1&&y.push(T)}return y},f.prototype.getRootTaskId=function(){var y;return(y=this.rootTaskId)!==null&&y!==void 0||(this.rootTaskId=this.calculateRootTaskId()),this.rootTaskId},f.prototype.calculateRootTaskId=function(){var y=this.items[0];if(!y)return null;for(;y.parent&&y.task;)y=y.parent;return y.children[0].task.parentId},f.prototype.getTaskMinStart=function(){var y=this.owner.dataRange.start;return this.tasks.items.forEach(function(m){m.isValid()&&m.start.getTime()<y.getTime()&&(y=m.start)}),y},f.prototype.getTaskMaxEnd=function(){var y=this.owner.dataRange.end;return this.tasks.items.forEach(function(m){m.isValid()&&m.end.getTime()>y.getTime()&&(y=m.end)}),y},f.prototype.processServerInsertedKey=function(y,m,v){var T;v===i.GanttDataObjectNames.task&&this.tasks.invalidate(),v===i.GanttDataObjectNames.dependency&&(this.dependencies.invalidate(),this.updateVisibleItemDependencies()),v===i.GanttDataObjectNames.resource&&this.resources.invalidate(),v===i.GanttDataObjectNames.resourceAssignment&&this.assignments.invalidate(),(T=this.owner)===null||T===void 0||T.updateHistoryObsoleteInsertedKey(y,m,v)},f.prototype.onBeginDataObjectCreate=function(){var y,m;(m=(y=this.owner).lockUpdateWithReload)===null||m===void 0||m.call(y)},f.prototype.onEndDataObjectCreate=function(){var y,m;(m=(y=this.owner).unlockUpdateWithReload)===null||m===void 0||m.call(y)},f}();u.ViewVisualModel=d},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskCollection=void 0;var c=h(0),p=h(195),a=function(o){function t(){return o!==null&&o.apply(this,arguments)||this}return c.__extends(t,o),t.prototype.createItem=function(){return new p.Task},t}(h(22).CollectionBase);u.TaskCollection=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Task=void 0;var c=h(0),p=h(1),a=function(o){function t(){var n=o.call(this)||this;return n.start=null,n.end=null,n.duration=null,n.description="",n.parentId=null,n.title="",n.owner=null,n.progress=0,n.taskType=null,n.customFields={},n.expanded=!0,n.color="",n}return c.__extends(t,o),Object.defineProperty(t.prototype,"normalizedProgress",{get:function(){return Math.max(Math.min(this.progress,100),0)},enumerable:!1,configurable:!0}),t.prototype.assignFromObject=function(n){(0,p.isDefined)(n)&&(o.prototype.assignFromObject.call(this,n),this.owner=n.owner,this.parentId=(0,p.isDefined)(n.parentId)?String(n.parentId):null,this.description=n.description,this.title=n.title,this.start=typeof n.start=="string"?new Date(n.start):n.start||new Date(0),this.end=typeof n.end=="string"?new Date(n.end):n.end||new Date(0),this.duration=n.duration,this.progress=n.progress,this.taskType=n.taskType,(0,p.isDefined)(n.expanded)&&(this.expanded=!!n.expanded),(0,p.isDefined)(n.color)&&(this.color=n.color),this.assignCustomFields(n.customFields))},t.prototype.assignCustomFields=function(n){if(n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(this.customFields[e]=n[e])},t.prototype.isMilestone=function(){return this.start.getTime()===this.end.getTime()},t.prototype.getDuration=function(){return this.end.getTime()-this.start.getTime()},t.prototype.isValid=function(){return!!this.start.getTime()&&!!this.end.getTime()},t}(h(2).DataObject);u.Task=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DependencyCollection=void 0;var c=h(0),p=h(22),a=h(69),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new a.Dependency},n}(p.CollectionBase);u.DependencyCollection=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ResourceAssignmentCollection=void 0;var c=h(0),p=h(22),a=h(70),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new a.ResourceAssignment},n}(p.CollectionBase);u.ResourceAssignmentCollection=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModelItem=void 0;var c=h(1),p=h(12),a=function(){function o(t,n){this.dependencies=new Array,this.parent=null,this.visible=!0,this.selected=!1,this.visibleIndex=-1,this.task=t,this.resources=n,this.children=new Array,this.isCustom=!1,this.size=new p.Size(0,0)}return Object.defineProperty(o.prototype,"resourceText",{get:function(){var t="";return this.resources.items.forEach(function(n){return t+=n.text+" "}),t},enumerable:!1,configurable:!0}),o.prototype.addChild=function(t){(0,c.isDefined)(t)&&this.children.indexOf(t)<0&&this.children.push(t)},o.prototype.removeChild=function(t){var n=this.children.indexOf(t);n>-1&&this.children.splice(n,1)},o.prototype.getExpanded=function(){return!!this.task&&this.task.expanded},o.prototype.getVisible=function(){if(!this.visible)return!1;for(var t=this.parent;t;){if(!t.visible)return!1;t=t.parent}return!0},o.prototype.changeVisibility=function(t){this.visible=t},o.prototype.changeSelection=function(t){this.selected=t},o.prototype.setDependencies=function(t){t&&(this.dependencies=t.slice())},o}();u.ViewVisualModelItem=a},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.ViewVisualModelDependencyInfo=void 0;var c=function(p,a,o){this.id=p,this.predecessor=a,this.type=o};u.ViewVisualModelDependencyInfo=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingTimeCalculator=void 0;var c=h(201),p=h(209),a=h(8),o=function(){function t(n,e){this._workingRules=new c.WorkingDayRuleCollection,this._workDayList=new Array,this._calculationRange=n,this._workingRules.importFromObject(e)}return t.prototype.calculateWorkDayList=function(){if(this._calculationRange){this.clearList();for(var n=this._workingRules.items,e=0;e<n.length;e++)this.processRule(n[e]);this.sortList()}},t.prototype.processRule=function(n){for(var e=n.recurrence.calculatePoints(this._calculationRange.start,this._calculationRange.end),r=function(l){var g=e[l],d=a.DateTimeUtils.getDayNumber(g),f=i._workDayList.filter(function(y){return y.dayNumber==d})[0];f?(f.isWorkDay=f.isWorkDay&&n.isWorkDay,f.addWorkingIntervals(n.workTimeRanges)):i._workDayList.push(new p.DayWorkingTimeInfo(d,n.isWorkDay,n.workTimeRanges))},i=this,s=0;s<e.length;s++)r(s)},t.prototype.sortList=function(){this._workDayList.sort(function(n,e){return n.dayNumber-e.dayNumber})},t.prototype.clearList=function(){this._workDayList.splice(0,this._workDayList.length)},t.prototype.calculateNoWorkTimeIntervals=function(){var n=this,e=new Array;return this._workDayList.length==0&&this.calculateWorkDayList(),this._workDayList.forEach(function(r){return e=e.concat(n.getNoWorkTimeRangesFromDay(r))}),this.concatJointedRanges(e)},t.prototype.concatJointedRanges=function(n){for(var e=new Array,r=0;r<n.length;r++){var i=n[r];e.length>0&&a.DateTimeUtils.compareDates(e[e.length-1].end,i.start)<2?e[e.length-1].end=i.end:e.push(i)}return e},t.prototype.getNoWorkTimeRangesFromDay=function(n){return n.noWorkingIntervals.map(function(e){return a.DateTimeUtils.convertTimeRangeToDateRange(e,n.dayNumber)})},Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){return this._noWorkingIntervals||(this._noWorkingIntervals=this.calculateNoWorkTimeIntervals()),this._noWorkingIntervals.slice()},enumerable:!1,configurable:!0}),t.prototype.updateRange=function(n){this._calculationRange=n,this.invalidate()},t.prototype.invalidate=function(){this._noWorkingIntervals=null,this.clearList()},t}();u.WorkingTimeCalculator=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingDayRuleCollection=void 0;var c=h(0),p=h(22),a=h(202),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.createItem=function(){return new a.WorkingTimeRule},n}(p.CollectionBase);u.WorkingDayRuleCollection=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.WorkingTimeRule=void 0;var c=h(0),p=h(2),a=h(1),o=h(8),t=h(71),n=h(72),e=function(r){function i(s,l,g){s===void 0&&(s=null),l===void 0&&(l=!0),g===void 0&&(g=null);var d=r.call(this)||this;return d.isWorkDay=!0,d.workTimeRanges=new Array,d.recurrence=s,d.isWorkDay=l,g&&d.workTimeRanges.concat(g),d}return c.__extends(i,r),i.prototype.assignFromObject=function(s){if((0,a.isDefined)(s)){r.prototype.assignFromObject.call(this,s),this.recurrence=t.RecurrenceFactory.createRecurrenceByType(s.recurrenceType)||new n.Daily,(0,a.isDefined)(s.recurrence)&&this.recurrence.assignFromObject(s.recurrence),(0,a.isDefined)(s.isWorkDay)&&(this.isWorkDay=!!s.isWorkDay);var l=o.DateTimeUtils.convertToTimeRanges(s.workTimeRanges);l&&(this.workTimeRanges=l)}},i}(p.DataObject);u.WorkingTimeRule=e},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DayOfWeek=void 0,function(c){c[c.Sunday=0]="Sunday",c[c.Monday=1]="Monday",c[c.Tuesday=2]="Tuesday",c[c.Wednesday=3]="Wednesday",c[c.Thursday=4]="Thursday",c[c.Friday=5]="Friday",c[c.Saturday=6]="Saturday"}(u.DayOfWeek||(u.DayOfWeek={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Month=void 0,function(c){c[c.January=0]="January",c[c.February=1]="February",c[c.March=2]="March",c[c.April=3]="April",c[c.May=4]="May",c[c.June=5]="June",c[c.July=6]="July",c[c.August=7]="August",c[c.September=8]="September",c[c.October=9]="October",c[c.November=10]="November",c[c.December=11]="December"}(u.Month||(u.Month={}))},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Weekly=void 0;var c=h(0),p=h(38),a=h(8),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return a.DateTimeUtils.checkDayOfWeek(this.dayOfWeekInternal,e)},n.prototype.checkInterval=function(e){return a.DateTimeUtils.getWeeksBetween(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=a.DateTimeUtils.getWeeksBetween(this.start,e),i=Math.floor(r/this.interval);(r%this.interval>0||e.getDay()>=this.dayOfWeekInternal)&&i++;var s=i*this.interval;return this.calcNextPointWithWeekCount(this.start,s)},n.prototype.calculateNearestPoint=function(e){var r=this.dayOfWeekInternal-e.getDay();return r>0?a.DateTimeUtils.addDays(new Date(e),r):this.calcNextPointWithWeekCount(e,1)},n.prototype.calcNextPointWithWeekCount=function(e,r){r===void 0&&(r=1);var i=7*r+this.dayOfWeekInternal-e.getDay();return a.DateTimeUtils.addDays(new Date(e),i)},Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),n}(p.RecurrenceBase);u.Weekly=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Monthly=void 0;var c=h(0),p=h(38),a=h(8),o=h(207),t=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return c.__extends(e,n),e.prototype.checkDate=function(r){return this._calculateByDayOfWeek?a.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(r,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):a.DateTimeUtils.checkDayOfMonth(this.dayInternal,r)},e.prototype.checkInterval=function(r){return a.DateTimeUtils.getMonthsDifference(this.start,r)%this.interval==0},e.prototype.calculatePointByInterval=function(r){var i=this.start,s=a.DateTimeUtils.getMonthsDifference(i,r),l=Math.floor(s/this.interval)*this.interval,g=new o.MonthInfo(i.getMonth(),i.getFullYear());g.addMonths(l);var d=this.getSpecDayInMonth(g.year,g.month);return a.DateTimeUtils.compareDates(d,r)>=0&&(g.addMonths(this.interval),d=this.getSpecDayInMonth(g.year,g.month)),d},e.prototype.calculateNearestPoint=function(r){var i=r.getMonth(),s=r.getFullYear(),l=this.getSpecDayInMonth(s,i);if(a.DateTimeUtils.compareDates(l,r)>=0){var g=new o.MonthInfo(i,s);g.addMonths(1),l=this.getSpecDayInMonth(g.year,g.month)}return l},Object.defineProperty(e.prototype,"day",{get:function(){return this.dayInternal},set:function(r){this.dayInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(r){this.dayOfWeekInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(r){this.dayOfWeekOccurrenceInternal=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(r){this._calculateByDayOfWeek=r},enumerable:!1,configurable:!0}),e}(p.RecurrenceBase);u.Monthly=t},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.MonthInfo=void 0;var c=h(8),p=function(){function a(o,t){this.month=o,this.year=t}return a.prototype.addMonths=function(o){var t=c.DateTimeUtils.getNextMonth(this.month,o),n=Math.floor(o/12);t<this.month&&++n,this.month=t,this.year+=n},a}();u.MonthInfo=p},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.Yearly=void 0;var c=h(0),p=h(38),a=h(8),o=function(t){function n(){return t!==null&&t.apply(this,arguments)||this}return c.__extends(n,t),n.prototype.checkDate=function(e){return!!a.DateTimeUtils.checkMonth(this.month,e)&&(this._calculateByDayOfWeek?a.DateTimeUtils.checkDayOfWeekOccurrenceInMonth(e,this.dayOfWeekInternal,this.dayOfWeekOccurrenceInternal):a.DateTimeUtils.checkDayOfMonth(this.dayInternal,e))},n.prototype.checkInterval=function(e){return a.DateTimeUtils.getYearsDifference(this.start,e)%this.interval==0},n.prototype.calculatePointByInterval=function(e){var r=a.DateTimeUtils.getYearsDifference(this.start,e),i=Math.floor(r/this.interval)*this.interval,s=this.start.getFullYear()+i,l=this.getSpecDayInMonth(s,this.monthInternal);return a.DateTimeUtils.compareDates(l,e)>=0&&(s+=this.interval,l=this.getSpecDayInMonth(s,this.monthInternal)),l},n.prototype.calculateNearestPoint=function(e){var r=e.getFullYear(),i=this.getSpecDayInMonth(r,this.monthInternal);return a.DateTimeUtils.compareDates(i,e)>=0&&(i=this.getSpecDayInMonth(++r,this.monthInternal)),i},Object.defineProperty(n.prototype,"month",{get:function(){return this.monthInternal},set:function(e){this.monthInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"day",{get:function(){return this.dayInternal},set:function(e){this.dayInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeek",{get:function(){return this.dayOfWeekInternal},set:function(e){this.dayOfWeekInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dayOfWeekOccurrence",{get:function(){return this.dayOfWeekOccurrenceInternal},set:function(e){this.dayOfWeekOccurrenceInternal=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"calculateByDayOfWeek",{get:function(){return this._calculateByDayOfWeek},set:function(e){this._calculateByDayOfWeek=e},enumerable:!1,configurable:!0}),n}(p.RecurrenceBase);u.Yearly=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.DayWorkingTimeInfo=void 0;var c=h(56),p=h(8),a=h(55),o=function(){function t(n,e,r){n===void 0&&(n=0),e===void 0&&(e=!0),r===void 0&&(r=null),this._workingIntervals=new Array,this.dayNumber=n,this.isWorkDay=e,this.addWorkingIntervals(r)}return t.prototype.addWorkingIntervals=function(n){n&&(this._workingIntervals=this._workingIntervals.concat(n.filter(function(e){return!!e})),this.rearrangeWorkingIntervals())},t.prototype.rearrangeWorkingIntervals=function(){for(var n=0;n<this._workingIntervals.length;n++)this.concatWithIntersectedRanges(this._workingIntervals[n]);this.sortIntervals()},t.prototype.concatWithIntersectedRanges=function(n){var e=this;this.getIntersectedIntervals(n).forEach(function(r){n.concatWith(r),e.removeInterval(r)})},t.prototype.getIntersectedIntervals=function(n){return this._workingIntervals.filter(function(e){return e.hasIntersect(n)&&e!==n})},t.prototype.sortIntervals=function(){this._workingIntervals.sort(function(n,e){return p.DateTimeUtils.caclTimeDifference(e.start,n.start)})},t.prototype.removeInterval=function(n){var e=this._workingIntervals.indexOf(n);e>-1&&e<this._workingIntervals.length&&this._workingIntervals.splice(e,1)},t.prototype.clearIntervals=function(){this._workingIntervals.splice(0,this._workingIntervals.length)},Object.defineProperty(t.prototype,"workingIntervals",{get:function(){return this._workingIntervals.slice()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noWorkingIntervals",{get:function(){var n=new Array;if(this.isWorkDay&&this._workingIntervals.length===0)return n;var e=this._workingIntervals.map(function(g){return g.end});e.splice(0,0,new a.Time);var r=this._workingIntervals.map(function(g){return g.start});r.push(p.DateTimeUtils.getLastTimeOfDay());for(var i=0;i<e.length;i++){var s=e[i],l=r[i];p.DateTimeUtils.areTimesEqual(s,l)||n.push(new c.TimeRange(s,l))}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWorkDay",{get:function(){return this._isWorkDay},set:function(n){this._isWorkDay=n,n||this.clearIntervals()},enumerable:!1,configurable:!0}),t}();u.DayWorkingTimeInfo=o},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttViewApi=void 0;var c=function(){function p(a){this.maxZoom=3,this._ganttView=a}return Object.defineProperty(p.prototype,"currentZoom",{get:function(){return this._ganttView.currentZoom},set:function(a){this._ganttView.currentZoom=a},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"renderHelper",{get:function(){return this._ganttView.renderHelper},enumerable:!1,configurable:!0}),p.prototype.getTaskAreaContainerWidth=function(){return this.renderHelper.getTaskAreaContainerWidth()},p.prototype.updateTickSizeWidth=function(){this._ganttView.updateTickSizeWidth()},Object.defineProperty(p.prototype,"settings",{get:function(){return this._ganttView.settings},enumerable:!1,configurable:!0}),p.prototype.resetAndUpdate=function(){this._ganttView.resetAndUpdate()},p.prototype.scrollToDateCore=function(a,o){this._ganttView.scrollToDateCore(a,o)},Object.defineProperty(p.prototype,"ganttOwner",{get:function(){return this._ganttView.ganttOwner},enumerable:!1,configurable:!0}),p.prototype.scrollLeftByViewType=function(){this._ganttView.scrollLeftByViewType()},Object.defineProperty(p.prototype,"dataRange",{get:function(){return this._ganttView.dataRange},enumerable:!1,configurable:!0}),p.prototype.calculateAutoViewType=function(a,o){return this._ganttView.calculateAutoViewType(a,o)},p.prototype.zoomIn=function(a){a===void 0&&(a=this.getTaskAreaContainerWidth()/2);var o=this.renderHelper.getTargetDateByPos(a),t=this.settings.viewTypeRange.min;this.currentZoom<this.maxZoom?(this.currentZoom++,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType>t&&(this.currentZoom=1,this.setViewType(this.settings.viewType-1,!1)),this.scrollToDateCore(o,-a)},p.prototype.zoomOut=function(a){a===void 0&&(a=this.renderHelper.getTaskAreaContainerWidth()/2);var o=this.renderHelper.getTargetDateByPos(a),t=this.settings.viewTypeRange.max;this.currentZoom>1?(this.currentZoom--,this.updateTickSizeWidth(),this.resetAndUpdate()):this.settings.viewType<t&&(this.currentZoom=this.maxZoom,this.setViewType(this.settings.viewType+1,!1)),this.scrollToDateCore(o,-a)},p.prototype.setViewType=function(a,o){o===void 0&&(o=!0),a==null&&(a=this.calculateAutoViewType(this.dataRange.start,this.dataRange.end)),this.settings.viewType!==a&&(this.settings.viewType=a,this.updateTickSizeWidth(),this.resetAndUpdate(),o&&this.scrollLeftByViewType(),this.ganttOwner.updateGanttViewType&&this.ganttOwner.updateGanttViewType(a))},p.prototype.setViewTypeRange=function(a,o){a!==void 0&&(this.settings.viewTypeRange.min=Math.min(a,o)),o!==void 0&&(this.settings.viewTypeRange.max=Math.max(a,o));var t=this.settings.viewTypeRange.min,n=this.settings.viewTypeRange.max,e=this.settings.viewType;t>e?this.setViewType(t):n<e&&this.setViewType(n)},p}();u.GanttViewApi=c},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.TaskAreaEventsListener=void 0;var c=h(5),p=h(1),a=h(3),o=h(9),t=h(66),n=h(212),e=h(13),r=function(){function i(s){this._owner=s}return Object.defineProperty(i.prototype,"taskEditController",{get:function(){var s;return(s=this._owner)===null||s===void 0?void 0:s.taskEditController},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderHelper",{get:function(){var s;return(s=this._owner)===null||s===void 0?void 0:s.renderHelper},enumerable:!1,configurable:!0}),i.prototype.getHandler=function(s){return this.handlers[s]},i.prototype.setHandler=function(s,l){this.handlers[s]=l},Object.defineProperty(i.prototype,"handlers",{get:function(){var s;return(s=this._handlers)!==null&&s!==void 0||(this._handlers=this.createTaskAreaEventHandlers()),this._handlers},enumerable:!1,configurable:!0}),i.prototype.createTaskAreaEventHandlers=function(){var s={};return s[e.TaskAreaStateEventNames.TASK_AREA_CLICK]=this.taskAreaClickHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_DBLCLICK]=this.taskAreaDblClickHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_SCROLL]=this.taskAreaScrollHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_START_MOVE]=this.taskAreaStartMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_PROCESS_MOVE]=this.taskAreaProcessMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_END_MOVE]=this.taskAreaEndMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_IN]=this.taskAreaZoomInHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_ZOOM_OUT]=this.taskAreaZoomOutHandler.bind(this),s[e.TaskAreaStateEventNames.CONTEXTMENU_SHOW]=this.taskAreaContextMenuShowHandler.bind(this),s[e.TaskAreaStateEventNames.CONTEXTMENU_HIDE]=this.taskAreaContextMenuHideHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_SELECTION]=this.taskSelectionHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_SELECTION]=this.dependencySelectionHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_EDIT_START]=this.taskEditStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_EDIT_END]=this.taskEditEndHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_LEAVE]=this.taskLeaveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_MOVE]=this.taskProcessMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_END_MOVE]=this.taskEndMoveHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_PROGRESS]=this.taskProcessProgressHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_END_PROGRESS]=this.taskEndProgressHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_START]=this.taskProcessStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_CONFIRM_START]=this.taskConfirmStartHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_PROCESS_END]=this.taskProcessEndHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_CONFIRM_END]=this.taskConfirmEndHandler.bind(this),s[e.TaskAreaStateEventNames.GET_DEPENDENCY_POINTS]=this.getDependencyPoints.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_START]=this.dependencyStartHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_END]=this.dependencyEndHandler.bind(this),s[e.TaskAreaStateEventNames.DEPENDENCY_PROCESS]=this.dependencyProcessHandler.bind(this),s[e.TaskAreaStateEventNames.TASK_AREA_KEY_DOWN]=this.onTaskAreaKeyDown.bind(this),s[e.TaskAreaStateEventNames.GET_COORDINATES_REF_POINT]=this.getCoordinatesRefPoint.bind(this),s[e.TaskAreaStateEventNames.STATE_EXIT]=function(){},s},i.prototype.taskAreaClickHandler=function(s){return this._owner.onTaskAreaClick(s.rowIndex,s.triggerEvent)},i.prototype.taskAreaDblClickHandler=function(s){this._owner.onTaskAreaDblClick(s.rowIndex,s.triggerEvent)},i.prototype.taskSelectionHandler=function(s){this._owner.onTaskSelectionChanged(s.rowIndex,s.triggerEvent)},i.prototype.taskAreaContextMenuShowHandler=function(s){this._owner.onTaskAreaContextMenu(s.rowIndex,s.triggerEvent,s.info.type)},i.prototype.taskAreaContextMenuHideHandler=function(){this._owner.hidePopupMenu()},i.prototype.taskAreaScrollHandler=function(s){this._owner.updateView()},i.prototype.dependencySelectionHandler=function(s){var l=s.info.key,g=this.taskEditController.dependencyId;(l!==g||!l&&(0,p.isDefined)(g))&&this._owner.selectDependency(l)},Object.defineProperty(i.prototype,"ganttMovingHelper",{get:function(){var s;return(s=this._ganttMovingHelper)!==null&&s!==void 0||(this._ganttMovingHelper=new n.GanttMovingHelper(this._owner.renderHelper.taskAreaContainer)),this._ganttMovingHelper},enumerable:!1,configurable:!0}),i.prototype.taskAreaStartMoveHandler=function(s){this.ganttMovingHelper.startMoving(s.triggerEvent)},i.prototype.taskAreaProcessMoveHandler=function(s){this.ganttMovingHelper.movingInfo&&(this.ganttMovingHelper.onMouseMove(s.triggerEvent),s.triggerEvent.preventDefault())},i.prototype.taskAreaEndMoveHandler=function(s){this.ganttMovingHelper.onMouseUp(s.triggerEvent)},i.prototype.taskAreaZoomInHandler=function(s){this._owner.zoomIn(s.info.leftPos)},i.prototype.taskAreaZoomOutHandler=function(s){this._owner.zoomOut(s.info.leftPos)},i.prototype.getCoordinatesRefPoint=function(s){var l=a.DomUtils.getAbsolutePositionX(this.renderHelper.taskAreaContainer.getElement()),g=a.DomUtils.getAbsolutePositionY(this.renderHelper.taskAreaContainer.getElement());return new c.Point(l,g)},i.prototype.taskEditStartHandler=function(s){this.taskEditController.show(s.rowIndex),this.taskEditController.showTaskInfo(o.EvtUtils.getEventX(s.triggerEvent))},i.prototype.taskLeaveHandler=function(s){this.taskEditController.cancel()},i.prototype.taskEditEndHandler=function(s){this.taskEditController.endEditing()},i.prototype.taskEndMoveHandler=function(s){this.taskEditController.confirmMove()},i.prototype.taskProcessMoveHandler=function(s){var l;return this.taskEditController.processMove((l=s.info.delta)!==null&&l!==void 0?l:0)},i.prototype.taskEndProgressHandler=function(s){this.taskEditController.confirmProgress()},i.prototype.taskProcessProgressHandler=function(s){this.taskEditController.processProgress(s.info.position)},i.prototype.taskProcessStartHandler=function(s){this.taskEditController.processStart(s.info.position)},i.prototype.taskConfirmStartHandler=function(s){this.taskEditController.confirmStart()},i.prototype.taskProcessEndHandler=function(s){this.taskEditController.processEnd(s.info.position)},i.prototype.taskConfirmEndHandler=function(s){this.taskEditController.confirmEnd()},i.prototype.getDependencyPoints=function(s){var l={};return l.successorStart=new c.Point(a.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientWidth/2,a.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorStart)+this.taskEditController.dependencySuccessorStart.clientHeight/2),l.successorFinish=new c.Point(a.DomUtils.getAbsolutePositionX(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientWidth/2,a.DomUtils.getAbsolutePositionY(this.taskEditController.dependencySuccessorFinish)+this.taskEditController.dependencySuccessorFinish.clientHeight/2),l},i.prototype.dependencyStartHandler=function(s){this.taskEditController.startDependency(s.info.pos)},i.prototype.dependencyEndHandler=function(s){this.taskEditController.endDependency(s.info.type)},i.prototype.dependencyProcessHandler=function(s){this.taskEditController.processDependency(s.info.pos),this._owner.viewModel.tasks.items[s.rowIndex]&&this.taskEditController.showDependencySuccessor(s.rowIndex)},i.prototype.onTaskAreaKeyDown=function(s){var l=s.info.code;l==(t.ModifierKey.Ctrl|t.KeyCode.Key_z)&&this._owner.history.undo(),l==(t.ModifierKey.Ctrl|t.KeyCode.Key_y)&&this._owner.history.redo(),l==t.KeyCode.Delete&&this.taskEditController.deleteSelectedDependency()},i}();u.TaskAreaEventsListener=r},function(S,u,h){"use strict";Object.defineProperty(u,"__esModule",{value:!0}),u.GanttMovingHelper=void 0;var c=h(10),p=h(9),a=function(){function o(t){this.taskAreaContainer=t,this.movingInfo=null}return o.prototype.startMoving=function(t){this.movingInfo=this.calcMovingInfo(t),this.updateGanttAreaCursor(!0)},o.prototype.cancelMoving=function(){this.movingInfo=null},o.prototype.onMouseMove=function(t){this.move(t)},o.prototype.onMouseUp=function(t){this.cancelMoving(),this.updateGanttAreaCursor(!1)},o.prototype.move=function(t){this.updateScrollPosition(t)},o.prototype.updateScrollPosition=function(t){var n=Math.round(p.EvtUtils.getEventX(t)),e=Math.round(p.EvtUtils.getEventY(t)),r=n-this.movingInfo.eventX,i=e-this.movingInfo.eventY,s=r<0?-1:1,l=i<0?-1:1,g=s<0?this.movingInfo.maxRightDelta:this.movingInfo.maxLeftDelta,d=l<0?this.movingInfo.maxBottomDelta:this.movingInfo.maxTopDelta;Math.abs(r)>g&&(r=g*s),Math.abs(i)>d&&(i=d*l);var f=this.movingInfo.scrollLeft-r,y=this.movingInfo.scrollTop-i,m=this.taskAreaContainer;m.scrollLeft!==f&&(m.scrollLeft=f),m.scrollTop!==y&&(m.scrollTop=y)},o.prototype.calcMovingInfo=function(t){var n=this.taskAreaContainer;return{eventX:p.EvtUtils.getEventX(t),eventY:p.EvtUtils.getEventY(t),scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,maxLeftDelta:n.scrollLeft,maxRightDelta:n.scrollWidth-n.scrollLeft-n.getElement().offsetWidth,maxTopDelta:n.scrollTop,maxBottomDelta:n.scrollHeight-n.scrollTop-n.getElement().offsetHeight}},o.prototype.updateGanttAreaCursor=function(t){var n=c.Browser.IE?"move":"grabbing";this.taskAreaContainer.getElement().style.cursor=t?n:"default"},o}();u.GanttMovingHelper=a}])})})(z,z.exports);var Q=z.exports;const te=Z(Q);export{te as G};
