import{a as c,_ as h}from"./tslib-PVoL_lNK.js";import{r as S}from"./react-DvpkfkhJ.js";import{i as C}from"./detect-node-es-vyeUQQMA.js";function f(n){return n}function d(n,e){e===void 0&&(e=f);var r=[],u=!1,v={read:function(){if(u)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(a){var t=e(a,u);return r.push(t),function(){r=r.filter(function(i){return i!==t})}},assignSyncMedium:function(a){for(u=!0;r.length;){var t=r;r=[],t.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){u=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(a),t=r}var m=function(){var o=t;t=[],o.forEach(a)},s=function(){return Promise.resolve().then(m)};s(),r={push:function(o){t.push(o),s()},filter:function(o){return t=t.filter(o),r}}}};return v}function w(n,e){return e===void 0&&(e=f),d(n,e)}function M(n){n===void 0&&(n={});var e=d(null);return e.options=c({async:!0,ssr:!1},n),e}var l=function(n){var e=n.sideCar,r=h(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var u=e.read();if(!u)throw new Error("Sidecar medium not found");return S.createElement(u,c({},r))};l.isSideCarExport=!0;function R(n,e){return n.useMedium(e),l}export{M as a,w as c,R as e};
